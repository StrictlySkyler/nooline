/* 
    TimelineJS - ver. 2.26.1 - 2013-09-24
    Copyright (c) 2012-2013 Northwestern University
    a project of the Northwestern University Knight Lab, originally created by Zach Wise
    https://github.com/NUKnightLab/TimelineJS
    This Source Code Form is subject to the terms of the Mozilla Public License, v. 2.0. 
    If a copy of the MPL was not distributed with this file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */

function getEmbedScriptPath(e){var t,a=document.getElementsByTagName("script"),i="",n="";for(t=0;t<a.length;t++)a[t].src.match(e)&&(i=a[t].src);return""!=i&&(n="/"),i.split("?")[0].split("/").slice(0,-1).join("/")+n}function createStoryJS(e,t){function a(){LoadLib.js(v.js,i)}function i(){w.js=!0,"en"!=v.lang?LazyLoad.js(S.locale,n):w.language=!0,c()}function n(){w.language=!0,c()}function o(){w.css=!0,c()}function s(){w.font.css=!0,c()}function l(){w.font.js=!0,c()}function c(){w.checks>40||(w.checks++,w.js&&w.css&&w.font.css&&w.font.js&&w.language?w.finished||(w.finished=!0,g()):w.timeout=setTimeout("onloaded_check_again();",250))}function r(){var e="storyjs-embed";f=document.createElement("div"),u=""!=v.embed_id?document.getElementById(v.embed_id):document.getElementById("timeline-embed"),u.appendChild(f),f.setAttribute("id",v.id),(""+v.width).match("%")?u.style.width=v.width.split("%")[0]+"%":(v.width=v.width-2,u.style.width=v.width+"px"),(""+v.height).match("%")?(u.style.height=v.height,e+=" full-embed",u.style.height=v.height.split("%")[0]+"%"):(""+v.width).match("%")?(e+=" full-embed",v.height=v.height-16,u.style.height=v.height+"px"):(e+=" sized-embed",v.height=v.height-16,u.style.height=v.height+"px"),u.setAttribute("class",e),u.setAttribute("className",e),f.style.position="relative"}function g(){VMM.debug=v.debug,h=new VMM.Timeline(v.id),h.init(v),y&&VMM.bindEvent(global,onHeadline,"HEADLINE")}var h,f,u,d,m,p,y=!1,j="2.24",b="1.7.1",_="",w={timeout:"",checks:0,finished:!1,js:!1,css:!1,jquery:!1,has_jquery:!1,language:!1,font:{css:!1,js:!1}},S={base:embed_path,css:embed_path+"css/",js:embed_path+"js/",locale:embed_path+"js/locale/",jquery:"http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js",font:{google:!1,css:embed_path+"css/themes/font/",js:"http://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js"}},v={version:j,debug:!1,type:"timeline",id:"storyjs",embed_id:"timeline-embed",embed:!0,width:"100%",height:"100%",source:"https://docs.google.com/spreadsheet/pub?key=0Agl_Dv6iEbDadFYzRjJPUGktY0NkWXFUWkVIZDNGRHc&output=html",lang:"en",font:"default",css:S.css+"timeline.css?"+j,js:"",api_keys:{google:"",flickr:"",twitter:""},gmap_key:""},k=[{name:"Merriweather-NewsCycle",google:["News+Cycle:400,700:latin","Merriweather:400,700,900:latin"]},{name:"NewsCycle-Merriweather",google:["News+Cycle:400,700:latin","Merriweather:300,400,700:latin"]},{name:"PoiretOne-Molengo",google:["Poiret+One::latin","Molengo::latin"]},{name:"Arvo-PTSans",google:["Arvo:400,700,400italic:latin","PT+Sans:400,700,400italic:latin"]},{name:"PTSerif-PTSans",google:["PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"PT",google:["PT+Sans+Narrow:400,700:latin","PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"DroidSerif-DroidSans",google:["Droid+Sans:400,700:latin","Droid+Serif:400,700,400italic:latin"]},{name:"Lekton-Molengo",google:["Lekton:400,700,400italic:latin","Molengo::latin"]},{name:"NixieOne-Ledger",google:["Nixie+One::latin","Ledger::latin"]},{name:"AbrilFatface-Average",google:["Average::latin","Abril+Fatface::latin"]},{name:"PlayfairDisplay-Muli",google:["Playfair+Display:400,400italic:latin","Muli:300,400,300italic,400italic:latin"]},{name:"Rancho-Gudea",google:["Rancho::latin","Gudea:400,700,400italic:latin"]},{name:"Bevan-PotanoSans",google:["Bevan::latin","Pontano+Sans::latin"]},{name:"BreeSerif-OpenSans",google:["Bree+Serif::latin","Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800:latin"]},{name:"SansitaOne-Kameron",google:["Sansita+One::latin","Kameron:400,700:latin"]},{name:"Lora-Istok",google:["Lora:400,700,400italic,700italic:latin","Istok+Web:400,700,400italic,700italic:latin"]},{name:"Pacifico-Arimo",google:["Pacifico::latin","Arimo:400,700,400italic,700italic:latin"]}];if("object"==typeof e)for(d in e)Object.prototype.hasOwnProperty.call(e,d)&&(v[d]=e[d]);if(void 0!==t&&(v.source=t),"object"==typeof url_config&&(y=!0,v.source.match("docs.google.com")||v.source.match("json")||v.source.match("storify")||(v.source="https://docs.google.com/spreadsheet/pub?key="+v.source+"&output=html")),v.js.match("locale")&&(v.lang=v.js.split("locale/")[1].replace(".js",""),v.js=S.js+"timeline-min.js?"+j),v.js.match("/")||(v.css=S.css+v.type+".css?"+j,v.js=S.js+v.type,v.js+=v.debug?".js?"+j:"-min.js?"+j,v.id="storyjs-"+v.type),S.locale=v.lang.match("/")?v.lang:S.locale+v.lang+".js?"+j,r(),LoadLib.css(v.css,o),"default"==v.font)w.font.js=!0,w.font.css=!0;else{for(v.font.match("/")?(m=v.font.split(".css")[0].split("/"),S.font.name=m[m.length-1],S.font.css=v.font):(S.font.name=v.font,S.font.css=S.font.css+v.font+".css?"+j),LoadLib.css(S.font.css,s),p=0;p<k.length;p++)S.font.name==k[p].name&&(S.font.google=!0,WebFontConfig={google:{families:k[p].google}});S.font.google?LoadLib.js(S.font.js,l):w.font.js=!0}try{w.has_jquery=jQuery,w.has_jquery=!0,w.has_jquery&&(_=parseFloat(jQuery.fn.jquery),w.jquery=_<parseFloat(b)?!1:!0)}catch(L){w.jquery=!1}w.jquery?a():LoadLib.js(S.jquery,a),this.onloaded_check_again=function(){c()}}var getUrlVars,onHeadline,url_config,WebFontConfig,embed_path,embed_analytics="UA-537357-20",load_time_start=(new Date).getTime(),the_load_time=0,_gaq=_gaq||[];!function(){var e=document.createElement("script"),t=document.getElementsByTagName("script")[0];e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",t.parentNode.insertBefore(e,t),_gaq.push(["_setAccount",embed_analytics]),_gaq.push(["_trackPageview"])}(),getUrlVars=function(){var e,t,a={},i=[];for(i=window.location.href.slice(window.location.href.indexOf("?")+1),i.match("#")&&(i=i.split("#")[0]),i=i.split("&"),t=0;t<i.length;t++)e=i[t].split("="),a[e[0]]=e[1];return a},onHeadline=function(e,t){var a=location.href;document.title=t,the_load_time=Math.floor(((new Date).getTime()-load_time_start)/100)/10,_gaq.push(["_trackEvent","Timeline",t,a,the_load_time])},url_config=getUrlVars(),LazyLoad=function(e){function t(t,a){var i,n=e.createElement(t);for(i in a)a.hasOwnProperty(i)&&n.setAttribute(i,a[i]);return n}function a(e){var t,a,i=r[e];i&&(t=i.callback,a=i.urls,a.shift(),g=0,a.length||(t&&t.call(i.context,i.obj),r[e]=null,h[e].length&&n(e)))}function i(){var t=navigator.userAgent;l={async:e.createElement("script").async===!0},(l.webkit=/AppleWebKit\//.test(t))||(l.ie=/MSIE/.test(t))||(l.opera=/Opera/.test(t))||(l.gecko=/Gecko\//.test(t))||(l.unknown=!0)}function n(n,g,f,u,d){var m,p,y,j,b,_,w=function(){a(n)},S="css"===n,v=[];if(l||i(),g)if(g="string"==typeof g?[g]:g.concat(),S||l.async||l.gecko||l.opera)h[n].push({urls:g,callback:f,obj:u,context:d});else for(m=0,p=g.length;p>m;++m)h[n].push({urls:[g[m]],callback:m===p-1?f:null,obj:u,context:d});if(!r[n]&&(j=r[n]=h[n].shift())){for(c||(c=e.head||e.getElementsByTagName("head")[0]),b=j.urls,m=0,p=b.length;p>m;++m)_=b[m],S?y=l.gecko?t("style"):t("link",{href:_,rel:"stylesheet"}):(y=t("script",{src:_}),y.async=!1),y.className="lazyload",y.setAttribute("charset","utf-8"),l.ie&&!S?y.onreadystatechange=function(){/loaded|complete/.test(y.readyState)&&(y.onreadystatechange=null,w())}:S&&(l.gecko||l.webkit)?l.webkit?(j.urls[m]=y.href,s()):(y.innerHTML='@import "'+_+'";',o(y)):y.onload=y.onerror=w,v.push(y);for(m=0,p=v.length;p>m;++m)c.appendChild(v[m])}}function o(e){var t;try{t=!!e.sheet.cssRules}catch(i){return g+=1,200>g?setTimeout(function(){o(e)},50):t&&a("css"),void 0}a("css")}function s(){var e,t=r.css;if(t){for(e=f.length;--e>=0;)if(f[e].href===t.urls[0]){a("css");break}g+=1,t&&(200>g?setTimeout(s,50):a("css"))}}var l,c,r={},g=0,h={css:[],js:[]},f=e.styleSheets;return{css:function(e,t,a,i){n("css",e,t,a,i)},js:function(e,t,a,i){n("js",e,t,a,i)}}}(this.document),LoadLib=function(){function e(e){var a=0,i=!1;for(a=0;a<t.length;a++)t[a]==e&&(i=!0);return i?!0:(t.push(e),!1)}var t=[];return{css:function(t,a,i,n){e(t)||LazyLoad.css(t,a,i,n)},js:function(t,a,i,n){e(t)||LazyLoad.js(t,a,i,n)}}}(this.document),(void 0===embed_path||void 0===embed_path)&&(embed_path=getEmbedScriptPath("storyjs-embed.js").split("js/")[0]),function(){"object"==typeof url_config?createStoryJS(url_config):"object"==typeof timeline_config?createStoryJS(timeline_config):"object"==typeof storyjs_config?createStoryJS(storyjs_config):"object"==typeof config&&createStoryJS(config)}();