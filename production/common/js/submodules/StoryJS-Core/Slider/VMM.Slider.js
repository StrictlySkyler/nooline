"undefined"!=typeof VMM&&void 0===VMM.Slider&&(VMM.Slider=function(e,t){function i(e,t){var i=!0,d=!1;null!=e&&(i=e),null!=t&&(d=t),G=g.slider.width,g.slider.nav.height=VMM.Lib.height(S.prevBtnContainer),g.slider.content.padding="mobile"==VMM.Browser.device||640>=G?0:g.slider.content.padding_default,g.slider.content.width=G-2*g.slider.content.padding,VMM.Lib.width(E,A.length*g.slider.content.width),d&&VMM.Lib.css(f,"left",A[g.current_slide].leftpos()),o(),m(),VMM.Lib.css(S.nextBtn,"left",G-g.slider.nav.width),VMM.Lib.height(S.prevBtn,g.slider.height),VMM.Lib.height(S.nextBtn,g.slider.height),VMM.Lib.css(S.nextBtnContainer,"top",g.slider.height/2-g.slider.nav.height/2+10),VMM.Lib.css(S.prevBtnContainer,"top",g.slider.height/2-g.slider.nav.height/2+10),VMM.Lib.height(L,g.slider.height),VMM.Lib.width(L,G),i&&c(T,"linear",1),0==T&&VMM.Lib.visible(S.prevBtn,!1)}function d(e,t){trace("DRAG FINISH"),trace(t.left_adjust),trace(g.slider.width/2),t.left_adjust<0?Math.abs(t.left_adjust)>g.slider.width/2?T==A.length-1?V():(c(T+1,"easeOutExpo"),h()):V():Math.abs(t.left_adjust)>g.slider.width/2?0==T?V():(c(T-1,"easeOutExpo"),h()):V()}function n(){T==A.length-1?V():(c(T+1),h())}function a(){0==T?V():(c(T-1),h())}function M(){b()}function h(){g.current_slide=T,VMM.fireEvent(k,"UPDATE")}function s(e){var t,i=0;for(VMM.attachElement(E,""),A=[],i=0;i<e.length;i++)t=new VMM.Slider.Slide(e[i],E),A.push(t)}function l(e){var t=0;if(e)r();else{for(t=0;t<A.length;t++)A[t].clearTimers();w=setTimeout(r,g.duration)}}function r(){var e=0;for(e=0;e<A.length;e++)A[e].enqueue=!0;for(e=0;e<g.preload;e++)T+e>A.length-1||(A[T+e].show(),A[T+e].enqueue=!1),0>T-e||(A[T-e].show(),A[T-e].enqueue=!1);if(A.length>50)for(e=0;e<A.length;e++)A[e].enqueue&&A[e].hide();o()}function o(){var e=0,t=".slider-item .layout-text-media .media .media-container ",i=".slider-item .layout-media .media .media-container ",d=".slider-item .media .media-container",n=!1,a={text_media:{width:60*(g.slider.content.width/100),height:g.slider.height-60,video:{width:0,height:0},text:{width:40*(g.slider.content.width/100)-30,height:g.slider.height}},media:{width:g.slider.content.width,height:g.slider.height-110,video:{width:0,height:0}}};for(("mobile"==VMM.Browser.device||641>G)&&(n=!0),VMM.master_config.sizes.api.width=a.media.width,VMM.master_config.sizes.api.height=a.media.height,a.text_media.video=VMM.Util.ratio.fit(a.text_media.width,a.text_media.height,16,9),a.media.video=VMM.Util.ratio.fit(a.media.width,a.media.height,16,9),VMM.Lib.css(".slider-item","width",g.slider.content.width),VMM.Lib.height(".slider-item",g.slider.height),n?(a.text_media.width=g.slider.content.width-2*g.slider.content.padding,a.media.width=g.slider.content.width-2*g.slider.content.padding,a.text_media.height=50*(g.slider.height/100)-50,a.media.height=70*(g.slider.height/100)-40,a.text_media.video=VMM.Util.ratio.fit(a.text_media.width,a.text_media.height,16,9),a.media.video=VMM.Util.ratio.fit(a.media.width,a.media.height,16,9),VMM.Lib.css(".slider-item .layout-text-media .text","width","100%"),VMM.Lib.css(".slider-item .layout-text-media .text","display","block"),VMM.Lib.css(".slider-item .layout-text-media .text .container","display","block"),VMM.Lib.css(".slider-item .layout-text-media .text .container","width",a.media.width),VMM.Lib.css(".slider-item .layout-text-media .text .container .start","width","auto"),VMM.Lib.css(".slider-item .layout-text-media .media","float","none"),VMM.Lib.addClass(".slider-item .content-container","pad-top"),VMM.Lib.css(".slider-item .media blockquote p","line-height","18px"),VMM.Lib.css(".slider-item .media blockquote p","font-size","16px"),VMM.Lib.css(".slider-item","overflow-y","auto")):(VMM.Lib.css(".slider-item .layout-text-media .text","width","40%"),VMM.Lib.css(".slider-item .layout-text-media .text","display","table-cell"),VMM.Lib.css(".slider-item .layout-text-media .text .container","display","table-cell"),VMM.Lib.css(".slider-item .layout-text-media .text .container","width","auto"),VMM.Lib.css(".slider-item .layout-text-media .text .container .start","width",a.text_media.text.width),VMM.Lib.removeClass(".slider-item .content-container","pad-top"),VMM.Lib.css(".slider-item .layout-text-media .media","float","left"),VMM.Lib.css(".slider-item .layout-text-media","display","table"),VMM.Lib.css(".slider-item .media blockquote p","line-height","36px"),VMM.Lib.css(".slider-item .media blockquote p","font-size","28px"),VMM.Lib.css(".slider-item","display","table"),VMM.Lib.css(".slider-item","overflow-y","auto")),VMM.Lib.css(t+".media-frame","max-width",a.text_media.width),VMM.Lib.height(t+".media-frame",a.text_media.height),VMM.Lib.width(t+".media-frame",a.text_media.width),VMM.Lib.css(t+"img","max-height",a.text_media.height),VMM.Lib.css(i+"img","max-height",a.media.height),VMM.Lib.css(t+"img","max-width",a.text_media.width),VMM.Lib.css(t+".avatar img","max-width",32),VMM.Lib.css(t+".avatar img","max-height",32),VMM.Lib.css(i+".avatar img","max-width",32),VMM.Lib.css(i+".avatar img","max-height",32),VMM.Lib.css(t+".article-thumb","max-width","50%"),VMM.Lib.css(i+".article-thumb","max-width",200),VMM.Lib.width(t+".media-frame",a.text_media.video.width),VMM.Lib.height(t+".media-frame",a.text_media.video.height),VMM.Lib.width(i+".media-frame",a.media.video.width),VMM.Lib.height(i+".media-frame",a.media.video.height),VMM.Lib.css(i+".media-frame","max-height",a.media.video.height),VMM.Lib.css(i+".media-frame","max-width",a.media.video.width),VMM.Lib.height(i+".soundcloud",168),VMM.Lib.height(t+".soundcloud",168),VMM.Lib.width(i+".soundcloud",a.media.width),VMM.Lib.width(t+".soundcloud",a.text_media.width),VMM.Lib.css(d+".soundcloud","max-height",168),VMM.Lib.height(t+".map",a.text_media.height),VMM.Lib.width(t+".map",a.text_media.width),VMM.Lib.css(i+".map","max-height",a.media.height),VMM.Lib.width(i+".map",a.media.width),VMM.Lib.height(t+".doc",a.text_media.height),VMM.Lib.width(t+".doc",a.text_media.width),VMM.Lib.height(i+".doc",a.media.height),VMM.Lib.width(i+".doc",a.media.width),VMM.Lib.width(i+".wikipedia",a.media.width),VMM.Lib.width(i+".twitter",a.media.width),VMM.Lib.width(i+".plain-text-quote",a.media.width),VMM.Lib.width(i+".plain-text",a.media.width),VMM.Lib.css(d,"max-width",a.media.width),VMM.Lib.css(t+".caption","max-width",a.text_media.video.width),VMM.Lib.css(i+".caption","max-width",a.media.video.width),e=0;e<A.length;e++)A[e].layout(n),A[e].content_height()>g.slider.height+20?A[e].css("display","block"):A[e].css("display","table")}function m(){var e=0,t=0;for(t=0;t<A.length;t++)e=t*(g.slider.width+g.spacing),A[t].leftpos(e)}function c(e,t,i,d,n){var a,M,h=g.ease,s=g.duration,r=!1,o=!1,m="";if(VMM.ExternalAPI.youtube.stopPlayers(),T=e,a=A[g.current_slide].leftpos(),0==T&&(o=!0),T+1>=A.length&&(r=!0),null!=t&&""!=t&&(h=t),null!=i&&""!=i&&(s=i),"mobile"==VMM.Browser.device?(VMM.Lib.visible(S.prevBtn,!1),VMM.Lib.visible(S.nextBtn,!1)):(o?VMM.Lib.visible(S.prevBtn,!1):(VMM.Lib.visible(S.prevBtn,!0),m=VMM.Util.unlinkify(B[T-1].title),"timeline"==g.type?void 0===B[T-1].date?(VMM.attachElement(S.prevDate,m),VMM.attachElement(S.prevTitle,"")):(VMM.attachElement(S.prevDate,VMM.Date.prettyDate(B[T-1].startdate,!1,B[T-1].precisiondate)),VMM.attachElement(S.prevTitle,m)):VMM.attachElement(S.prevTitle,m)),r?VMM.Lib.visible(S.nextBtn,!1):(VMM.Lib.visible(S.nextBtn,!0),m=VMM.Util.unlinkify(B[T+1].title),"timeline"==g.type?void 0===B[T+1].date?(VMM.attachElement(S.nextDate,m),VMM.attachElement(S.nextTitle,"")):(VMM.attachElement(S.nextDate,VMM.Date.prettyDate(B[T+1].startdate,!1,B[T+1].precisiondate)),VMM.attachElement(S.nextTitle,m)):VMM.attachElement(S.nextTitle,m))),d?VMM.Lib.css(f,"left",-(a-g.slider.content.padding)):(VMM.Lib.stop(f),VMM.Lib.animate(f,s,h,{left:-(a-g.slider.content.padding)})),n&&VMM.fireEvent(k,"LOADED"),A[T].height()>g.slider_height)VMM.Lib.css(".slider","overflow-y","scroll");else{VMM.Lib.css(k,"overflow-y","hidden"),M=0;try{M=VMM.Lib.prop(k,"scrollHeight"),VMM.Lib.animate(k,s,h,{scrollTop:M-VMM.Lib.height(k)})}catch(c){M=VMM.Lib.height(k)}}l(),VMM.fireEvent(x,"MESSAGE","TEST")}function V(){VMM.Lib.stop(f),VMM.Lib.animate(f,g.duration,"easeOutExpo",{left:-A[g.current_slide].leftpos()+g.slider.content.padding})}function v(e,t){trace("showMessege "+t),VMM.attachElement(_,"<div class='vco-explainer'><div class='vco-explainer-container'><div class='vco-bezel'><div class='vco-gesture-icon'></div><div class='vco-message'><p>"+t+"</p></div></div></div></div>")}function b(){VMM.Lib.detach(_)}function p(){var e="<div class='icon'>&nbsp;</div>";S.nextBtn=VMM.appendAndGetElement(x,"<div>","nav-next"),S.prevBtn=VMM.appendAndGetElement(x,"<div>","nav-previous"),S.nextBtnContainer=VMM.appendAndGetElement(S.nextBtn,"<div>","nav-container",e),S.prevBtnContainer=VMM.appendAndGetElement(S.prevBtn,"<div>","nav-container",e),"timeline"==g.type&&(S.nextDate=VMM.appendAndGetElement(S.nextBtnContainer,"<div>","date",""),S.prevDate=VMM.appendAndGetElement(S.prevBtnContainer,"<div>","date","")),S.nextTitle=VMM.appendAndGetElement(S.nextBtnContainer,"<div>","title",""),S.prevTitle=VMM.appendAndGetElement(S.prevBtnContainer,"<div>","title",""),VMM.bindEvent(".nav-next",n),VMM.bindEvent(".nav-previous",a)}function u(){var e=3e3;VMM.attachElement(k,""),x=VMM.getElement(k),L=VMM.appendAndGetElement(x,"<div>","slider-container-mask"),f=VMM.appendAndGetElement(L,"<div>","slider-container"),E=VMM.appendAndGetElement(f,"<div>","slider-item-container"),p(),s(B),("tablet"==VMM.Browser.device||"mobile"==VMM.Browser.device)&&(g.duration=500,e=1e3,y=new VMM.DragSlider,y.createPanel(x,f,"",g.touch,!0),VMM.bindEvent(y,d,"DRAGUPDATE"),_=VMM.appendAndGetElement(L,"<div>","vco-feedback",""),v(null,"Swipe to Navigate"),VMM.Lib.height(_,g.slider.height),VMM.bindEvent(_,M),VMM.bindEvent(_,M,"touchend")),i(!1,!0),VMM.Lib.visible(S.prevBtn,!1),c(g.current_slide,"easeOutExpo",e,!0,!0),C=!0}var g,w,x,L,f,E,y,_,B=[],A=[],D=[],T=0,G=960,C=!1,k=e,S={nextBtn:"",prevBtn:"",nextDate:"",prevDate:"",nextTitle:"",prevTitle:""};g=void 0!==t?t:{preload:4,current_slide:0,interval:10,something:0,width:720,height:400,ease:"easeInOutExpo",duration:1e3,timeline:!1,spacing:15,slider:{width:720,height:400,content:{width:720,height:400,padding:120,padding_default:120},nav:{width:100,height:200}}},this.ver="0.6",g.slider.width=g.width,g.slider.height=g.height,this.init=function(e){A=[],D=[],void 0!==e?this.setData(e):trace("WAITING ON DATA")},this.width=function(e){return null==e||""==e?g.slider.width:(g.slider.width=e,i(),void 0)},this.height=function(e){return null==e||""==e?g.slider.height:(g.slider.height=e,i(),void 0)},this.setData=function(e){void 0!==e?(B=e,u()):trace("NO DATA")},this.getData=function(){return B},this.setConfig=function(e){void 0!==e?g=e:trace("NO CONFIG DATA")},this.getConfig=function(){return g},this.setSize=function(e,t){null!=e&&(g.slider.width=e),null!=t&&(g.slider.height=t),C&&i()},this.active=function(){return C},this.getCurrentNumber=function(){return T},this.setSlide=function(e){c(e)}});