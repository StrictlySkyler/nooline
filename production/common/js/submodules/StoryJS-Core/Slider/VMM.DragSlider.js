"undefined"!=typeof VMM&&void 0===VMM.DragSlider&&(VMM.DragSlider=function(){function e(e,i){VMM.bindEvent(e,n,d.down,{element:i,delement:e}),VMM.bindEvent(e,a,d.up,{element:i,delement:e}),VMM.bindEvent(e,t,d.leave,{element:i,delement:e})}function t(e){return VMM.unbindEvent(e.data.delement,i,d.move),m.touch||e.preventDefault(),e.stopPropagation(),m.sliding?(m.sliding=!1,s(e.data.element,e.data.delement,e),!1):!0}function n(e){return o(e.data.element,e.data.delement,e),m.touch||e.preventDefault(),!0}function a(e){return m.touch||e.preventDefault(),m.sliding?(m.sliding=!1,s(e.data.element,e.data.delement,e),!1):!0}function i(e){l(e.data.element,e)}function o(e,t,n){m.touch?(trace("IS TOUCH"),VMM.Lib.css(e,"-webkit-transition-duration","0"),m.pagex.start=n.originalEvent.touches[0].screenX,m.pagey.start=n.originalEvent.touches[0].screenY):(m.pagex.start=n.pageX,m.pagey.start=n.pageY),m.left.start=u(e),m.time.start=(new Date).getTime(),VMM.Lib.stop(e),VMM.bindEvent(t,i,d.move,{element:e})}function s(e,t,n){VMM.unbindEvent(t,i,d.move),r(e,n)}function l(e,t){var n;m.sliding=!0,m.touch?(m.pagex.end=t.originalEvent.touches[0].screenX,m.pagey.end=t.originalEvent.touches[0].screenY):(m.pagex.end=t.pageX,m.pagey.end=t.pageY),m.left.end=u(e),n=-(m.pagex.start-m.pagex.end-m.left.start),Math.abs(m.pagey.start)-Math.abs(m.pagey.end)>10&&(trace("SCROLLING Y"),trace(Math.abs(m.pagey.start)-Math.abs(m.pagey.end))),Math.abs(n-m.left.start)>10&&(VMM.Lib.css(e,"left",n),t.preventDefault(),t.stopPropagation())}function r(e){var t={left:m.left.end,left_adjust:0,change:{x:0},time:10*((new Date).getTime()-m.time.start),time_adjust:10*((new Date).getTime()-m.time.start)},n=3e3;m.touch&&(n=6e3),t.change.x=n*(Math.abs(m.pagex.end)-Math.abs(m.pagex.start)),t.left_adjust=Math.round(t.change.x/t.time),t.left=Math.min(t.left+t.left_adjust),m.constraint&&(t.left>m.constraint.left?(t.left=m.constraint.left,t.time>5e3&&(t.time=5e3)):t.left<m.constraint.right&&(t.left=m.constraint.right,t.time>5e3&&(t.time=5e3))),VMM.fireEvent(g,"DRAGUPDATE",[t]),M||t.time>0&&(m.touch?VMM.Lib.animate(e,t.time,"easeOutCirc",{left:t.left}):VMM.Lib.animate(e,t.time,m.ease,{left:t.left}))}function u(e){return parseInt(VMM.Lib.css(e,"left").substring(0,VMM.Lib.css(e,"left").length-2),10)}var m={element:"",element_move:"",constraint:"",sliding:!1,pagex:{start:0,end:0},pagey:{start:0,end:0},left:{start:0,end:0},time:{start:0,end:0},touch:!1,ease:"easeOutExpo"},d={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},c={down:"mousedown",up:"mouseup",leave:"mouseleave",move:"mousemove"},f={down:"touchstart",up:"touchend",leave:"mouseleave",move:"touchmove"},g=this,M=!1;this.createPanel=function(t,n,a,i,o){m.element=t,m.element_move=n,null!=o&&""!=o&&(M=o),m.constraint=null!=a&&""!=a?a:!1,m.touch=i?i:!1,trace("TOUCH"+m.touch),d=m.touch?f:c,e(m.element,m.element_move)},this.updateConstraint=function(e){trace("updateConstraint"),m.constraint=e},this.cancelSlide=function(){return VMM.unbindEvent(m.element,i,d.move),!0}});