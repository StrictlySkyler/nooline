function getEmbedScriptPath(e){var t,i=document.getElementsByTagName("script"),a="",o="";for(t=0;t<i.length;t++)i[t].src.match(e)&&(a=i[t].src);return""!=a&&(o="/"),a.split("?")[0].split("/").slice(0,-1).join("/")+o}function createStoryJS(e,t){function i(){LoadLib.js(P.js,a)}function a(){_.js=!0,"en"!=P.lang?LazyLoad.js(w.locale,o):_.language=!0,c()}function o(){_.language=!0,c()}function n(){_.css=!0,c()}function s(){_.font.css=!0,c()}function l(){_.font.js=!0,c()}function c(){_.checks>40||(_.checks++,_.js&&_.css&&_.font.css&&_.font.js&&_.language?_.finished||(_.finished=!0,r()):_.timeout=setTimeout("onloaded_check_again();",250))}function g(){var e="storyjs-embed";m=document.createElement("div"),f=""!=P.embed_id?document.getElementById(P.embed_id):document.getElementById("timeline-embed"),f.appendChild(m),m.setAttribute("id",P.id),(""+P.width).match("%")?f.style.width=P.width.split("%")[0]+"%":(P.width=P.width-2,f.style.width=P.width+"px"),(""+P.height).match("%")?(f.style.height=P.height,e+=" full-embed",f.style.height=P.height.split("%")[0]+"%"):(""+P.width).match("%")?(e+=" full-embed",P.height=P.height-16,f.style.height=P.height+"px"):(e+=" sized-embed",P.height=P.height-16,f.style.height=P.height+"px"),f.className+=" "+e,m.style.position="relative"}function r(){VMM.debug=P.debug,h=new VMM.Timeline(P.id),h.init(P),y&&VMM.bindEvent(global,onHeadline,"HEADLINE")}var h,m,f,d,j,u,y=!1,p="2.24",b="1.7.1",S="",_={timeout:"",checks:0,finished:!1,js:!1,css:!1,jquery:!1,has_jquery:!1,language:!1,font:{css:!1,js:!1}},w={base:embed_path,css:embed_path+"css/",js:embed_path+"js/",locale:embed_path+"js/locale/",jquery:"http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js",font:{google:!1,css:embed_path+"css/themes/font/",js:"http://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js"}},P={version:p,debug:!1,type:"timeline",id:"storyjs",embed_id:"timeline-embed",embed:!0,width:"100%",height:"100%",source:"https://docs.google.com/spreadsheet/pub?key=0Agl_Dv6iEbDadFYzRjJPUGktY0NkWXFUWkVIZDNGRHc&output=html",lang:"en",font:"default",css:w.css+"timeline.css?"+p,js:"",api_keys:{google:"",flickr:"",twitter:""},gmap_key:""},L=[{name:"Merriweather-NewsCycle",google:["News+Cycle:400,700:latin","Merriweather:400,700,900:latin"]},{name:"NewsCycle-Merriweather",google:["News+Cycle:400,700:latin","Merriweather:300,400,700:latin"]},{name:"PoiretOne-Molengo",google:["Poiret+One::latin","Molengo::latin"]},{name:"Arvo-PTSans",google:["Arvo:400,700,400italic:latin","PT+Sans:400,700,400italic:latin"]},{name:"PTSerif-PTSans",google:["PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"PT",google:["PT+Sans+Narrow:400,700:latin","PT+Sans:400,700,400italic:latin","PT+Serif:400,700,400italic:latin"]},{name:"DroidSerif-DroidSans",google:["Droid+Sans:400,700:latin","Droid+Serif:400,700,400italic:latin"]},{name:"Lekton-Molengo",google:["Lekton:400,700,400italic:latin","Molengo::latin"]},{name:"NixieOne-Ledger",google:["Nixie+One::latin","Ledger::latin"]},{name:"AbrilFatface-Average",google:["Average::latin","Abril+Fatface::latin"]},{name:"PlayfairDisplay-Muli",google:["Playfair+Display:400,400italic:latin","Muli:300,400,300italic,400italic:latin"]},{name:"Rancho-Gudea",google:["Rancho::latin","Gudea:400,700,400italic:latin"]},{name:"Bevan-PotanoSans",google:["Bevan::latin","Pontano+Sans::latin"]},{name:"BreeSerif-OpenSans",google:["Bree+Serif::latin","Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800:latin"]},{name:"SansitaOne-Kameron",google:["Sansita+One::latin","Kameron:400,700:latin"]},{name:"Lora-Istok",google:["Lora:400,700,400italic,700italic:latin","Istok+Web:400,700,400italic,700italic:latin"]},{name:"Pacifico-Arimo",google:["Pacifico::latin","Arimo:400,700,400italic,700italic:latin"]}];if("object"==typeof e)for(d in e)Object.prototype.hasOwnProperty.call(e,d)&&(P[d]=e[d]);if(void 0!==t&&(P.source=t),"object"==typeof url_config&&(y=!0,P.source.match("docs.google.com")||P.source.match("json")||P.source.match("storify")||(P.source="https://docs.google.com/spreadsheet/pub?key="+P.source+"&output=html")),P.js.match("locale")&&(P.lang=P.js.split("locale/")[1].replace(".js",""),P.js=w.js+"timeline-min.js?"+p),P.js.match("/")||(P.css=w.css+P.type+".css?"+p,P.js=w.js+P.type,P.js+=P.debug?".js?"+p:"-min.js?"+p,P.id="storyjs-"+P.type),w.locale=P.lang.match("/")?P.lang:w.locale+P.lang+".js?"+p,g(),LoadLib.css(P.css,n),"default"==P.font)_.font.js=!0,_.font.css=!0;else{for(P.font.match("/")?(j=P.font.split(".css")[0].split("/"),w.font.name=j[j.length-1],w.font.css=P.font):(w.font.name=P.font,w.font.css=w.font.css+P.font+".css?"+p),LoadLib.css(w.font.css,s),u=0;u<L.length;u++)w.font.name==L[u].name&&(w.font.google=!0,WebFontConfig={google:{families:L[u].google}});w.font.google?LoadLib.js(w.font.js,l):_.font.js=!0}try{_.has_jquery=jQuery,_.has_jquery=!0,_.has_jquery&&(S=parseFloat(jQuery.fn.jquery),_.jquery=S<parseFloat(b)?!1:!0)}catch(v){_.jquery=!1}_.jquery?i():LoadLib.js(w.jquery,i),this.onloaded_check_again=function(){c()}}var WebFontConfig,embed_path;(void 0===embed_path||void 0===embed_path)&&(embed_path=getEmbedScriptPath("storyjs-embed.js").split("js/")[0]),function(){"object"==typeof url_config?createStoryJS(url_config):"object"==typeof timeline_config?createStoryJS(timeline_config):"object"==typeof storyjs_config?createStoryJS(storyjs_config):"object"==typeof config&&createStoryJS(config)}();