!function(){function e(){var e,n,t;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;for(n=0;3>n;n++){t=i[n];try{e=new ActiveXObject(t)}catch(r){}if(e){i=[t];break}}if(!e)throw Error("require.getXhr(): XMLHttpRequest not available");return e}var n,t,r,a,o={},i=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];"undefined"!=typeof window&&window.navigator&&window.document?n=function(n,t){var r=e();r.open("GET",n,!0),r.onreadystatechange=function(){4===r.readyState&&t(r.responseText)},r.send(null)}:"undefined"!=typeof process&&process.versions&&process.versions.node?(t=require.nodeRequire("fs"),n=function(e,n){n(t.readFileSync(e,"utf8"))}):"undefined"!=typeof Packages?n=function(e,n){var t,r,a="utf-8",o=new java.io.File(e),i=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),a)),u="";try{for(t=new java.lang.StringBuffer,r=s.readLine(),r&&r.length()&&65279===r.charAt(0)&&(r=r.substring(1)),t.append(r);null!==(r=s.readLine());)t.append(i),t.append(r);u=""+t+""}finally{s.close()}n(u)}:"undefined"!=typeof Components&&Components.classes&&Components.interfaces&&(r=Components.classes,a=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),n=function(e,n){var t,o,i={},s=new FileUtils.File(e);try{t=r["@mozilla.org/network/file-input-stream;1"].createInstance(a.nsIFileInputStream),t.init(s,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(a.nsIConverterInputStream),o.init(t,"utf-8",t.available(),a.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(t.available(),i),o.close(),t.close(),n(i.value)}catch(u){throw Error((s&&s.path||"")+": "+u)}}),define([],function(){return{load:function(e,t,r,a){var i=t.toUrl(e+".refine");n(i,function(n){n=n.replace(/refine\s*\(/g,"define("),a.isBuild&&(o[e]=n),n+="\r\n//@ sourceURL="+i,r.fromText(n)})},write:function(e,n,t){if(n in o){var r=o[n];t.asModule(e+"!"+n,r)}}}})}();