var moment=require("../../moment");exports.add={"add short":function(d){d.expect(12);var e,a,s=moment();s.year(2011),s.month(9),s.date(12),s.hours(6),s.minutes(7),s.seconds(8),s.milliseconds(500),d.equal(s.add({ms:50}).milliseconds(),550,"Add milliseconds"),d.equal(s.add({s:1}).seconds(),9,"Add seconds"),d.equal(s.add({m:1}).minutes(),8,"Add minutes"),d.equal(s.add({h:1}).hours(),7,"Add hours"),d.equal(s.add({d:1}).date(),13,"Add date"),d.equal(s.add({w:1}).date(),20,"Add week"),d.equal(s.add({M:1}).month(),10,"Add month"),d.equal(s.add({y:1}).year(),2012,"Add year"),e=moment([2010,0,31]).add({M:1}),a=moment([2010,1,28]).subtract({M:1}),d.equal(e.month(),1,"add month, jan 31st to feb 28th"),d.equal(e.date(),28,"add month, jan 31st to feb 28th"),d.equal(a.month(),0,"subtract month, feb 28th to jan 28th"),d.equal(a.date(),28,"subtract month, feb 28th to jan 28th"),d.done()},"add long":function(d){d.expect(8);var e=moment();e.year(2011),e.month(9),e.date(12),e.hours(6),e.minutes(7),e.seconds(8),e.milliseconds(500),d.equal(e.add({milliseconds:50}).milliseconds(),550,"Add milliseconds"),d.equal(e.add({seconds:1}).seconds(),9,"Add seconds"),d.equal(e.add({minutes:1}).minutes(),8,"Add minutes"),d.equal(e.add({hours:1}).hours(),7,"Add hours"),d.equal(e.add({days:1}).date(),13,"Add date"),d.equal(e.add({weeks:1}).date(),20,"Add week"),d.equal(e.add({months:1}).month(),10,"Add month"),d.equal(e.add({years:1}).year(),2012,"Add year"),d.done()},"add long singular":function(d){d.expect(8);var e=moment();e.year(2011),e.month(9),e.date(12),e.hours(6),e.minutes(7),e.seconds(8),e.milliseconds(500),d.equal(e.add({millisecond:50}).milliseconds(),550,"Add milliseconds"),d.equal(e.add({second:1}).seconds(),9,"Add seconds"),d.equal(e.add({minute:1}).minutes(),8,"Add minutes"),d.equal(e.add({hour:1}).hours(),7,"Add hours"),d.equal(e.add({day:1}).date(),13,"Add date"),d.equal(e.add({week:1}).date(),20,"Add week"),d.equal(e.add({month:1}).month(),10,"Add month"),d.equal(e.add({year:1}).year(),2012,"Add year"),d.done()},"add string long":function(d){d.expect(9);var e,a=moment();a.year(2011),a.month(9),a.date(12),a.hours(6),a.minutes(7),a.seconds(8),a.milliseconds(500),e=a.clone(),d.equal(a.add("millisecond",50).milliseconds(),550,"Add milliseconds"),d.equal(a.add("second",1).seconds(),9,"Add seconds"),d.equal(a.add("minute",1).minutes(),8,"Add minutes"),d.equal(a.add("hour",1).hours(),7,"Add hours"),d.equal(a.add("day",1).date(),13,"Add date"),d.equal(a.add("week",1).date(),20,"Add week"),d.equal(a.add("month",1).month(),10,"Add month"),d.equal(a.add("year",1).year(),2012,"Add year"),d.equal(e.add("day","01").date(),13,"Add date"),d.done()},"add string long singular":function(d){d.expect(9);var e,a=moment();a.year(2011),a.month(9),a.date(12),a.hours(6),a.minutes(7),a.seconds(8),a.milliseconds(500),e=a.clone(),d.equal(a.add("milliseconds",50).milliseconds(),550,"Add milliseconds"),d.equal(a.add("seconds",1).seconds(),9,"Add seconds"),d.equal(a.add("minutes",1).minutes(),8,"Add minutes"),d.equal(a.add("hours",1).hours(),7,"Add hours"),d.equal(a.add("days",1).date(),13,"Add date"),d.equal(a.add("weeks",1).date(),20,"Add week"),d.equal(a.add("months",1).month(),10,"Add month"),d.equal(a.add("years",1).year(),2012,"Add year"),d.equal(e.add("days","01").date(),13,"Add date"),d.done()},"add string short":function(d){d.expect(8);var e=moment();e.year(2011),e.month(9),e.date(12),e.hours(6),e.minutes(7),e.seconds(8),e.milliseconds(500),d.equal(e.add("ms",50).milliseconds(),550,"Add milliseconds"),d.equal(e.add("s",1).seconds(),9,"Add seconds"),d.equal(e.add("m",1).minutes(),8,"Add minutes"),d.equal(e.add("h",1).hours(),7,"Add hours"),d.equal(e.add("d",1).date(),13,"Add date"),d.equal(e.add("w",1).date(),20,"Add week"),d.equal(e.add("M",1).month(),10,"Add month"),d.equal(e.add("y",1).year(),2012,"Add year"),d.done()},"add string long reverse args":function(d){d.expect(8);var e=moment();e.year(2011),e.month(9),e.date(12),e.hours(6),e.minutes(7),e.seconds(8),e.milliseconds(500),d.equal(e.add(50,"millisecond").milliseconds(),550,"Add milliseconds"),d.equal(e.add(1,"second",1).seconds(),9,"Add seconds"),d.equal(e.add(1,"minute",1).minutes(),8,"Add minutes"),d.equal(e.add(1,"hour",1).hours(),7,"Add hours"),d.equal(e.add(1,"day",1).date(),13,"Add date"),d.equal(e.add(1,"week",1).date(),20,"Add week"),d.equal(e.add(1,"month",1).month(),10,"Add month"),d.equal(e.add(1,"year",1).year(),2012,"Add year"),d.done()},"add string long singular reverse args":function(d){d.expect(8);var e=moment();e.year(2011),e.month(9),e.date(12),e.hours(6),e.minutes(7),e.seconds(8),e.milliseconds(500),d.equal(e.add(50,"milliseconds").milliseconds(),550,"Add milliseconds"),d.equal(e.add(1,"seconds").seconds(),9,"Add seconds"),d.equal(e.add(1,"minutes").minutes(),8,"Add minutes"),d.equal(e.add(1,"hours").hours(),7,"Add hours"),d.equal(e.add(1,"days").date(),13,"Add date"),d.equal(e.add(1,"weeks").date(),20,"Add week"),d.equal(e.add(1,"months").month(),10,"Add month"),d.equal(e.add(1,"years").year(),2012,"Add year"),d.done()},"add string short reverse args":function(d){d.expect(8);var e=moment();e.year(2011),e.month(9),e.date(12),e.hours(6),e.minutes(7),e.seconds(8),e.milliseconds(500),d.equal(e.add(50,"ms").milliseconds(),550,"Add milliseconds"),d.equal(e.add(1,"s").seconds(),9,"Add seconds"),d.equal(e.add(1,"m").minutes(),8,"Add minutes"),d.equal(e.add(1,"h").hours(),7,"Add hours"),d.equal(e.add(1,"d").date(),13,"Add date"),d.equal(e.add(1,"w").date(),20,"Add week"),d.equal(e.add(1,"M").month(),10,"Add month"),d.equal(e.add(1,"y").year(),2012,"Add year"),d.done()},"add across DST":function(d){d.expect(3);var e=moment(new Date(2011,2,12,5,0,0)),a=moment(new Date(2011,2,12,5,0,0)),s=moment(new Date(2011,2,12,5,0,0)),n=moment(new Date(2011,2,12,5,0,0));e.add("days",1),a.add("hours",24),s.add("months",1),d.equal(e.hours(),5,"adding days over DST difference should result in the same hour"),a.isDST()&&!n.isDST()?d.equal(a.hours(),6,"adding hours over DST difference should result in a different hour"):!a.isDST()&&n.isDST()?d.equal(a.hours(),4,"adding hours over DST difference should result in a different hour"):d.equal(a.hours(),5,"adding hours over DST difference should result in a same hour if the timezone does not have daylight savings time"),d.equal(s.hours(),5,"adding months over DST difference should result in the same hour"),d.done()}};