var moment=require("../../moment");exports.is_valid={"array bad month":function(e){e.expect(2),e.equal(moment([2010,-1]).isValid(),!1,"month -1 invalid"),e.equal(moment([2100,12]).isValid(),!1,"month 12 invalid"),e.done()},"array good month":function(e){e.expect(24);for(var i=0;12>i;i++)e.equal(moment([2010,i]).isValid(),!0,"month "+i),e.equal(moment.utc([2010,i]).isValid(),!0,"month "+i);e.done()},"array bad date":function(e){var i,a,n=[moment([2010,0,0]),moment([2100,0,32]),moment.utc([2010,0,0]),moment.utc([2100,0,32])];e.expect(n.length);for(i in n)a=n[i],e.equal(a.isValid(),!1);e.done()},"array bad date leap year":function(e){e.expect(8),e.equal(moment([2010,1,29]).isValid(),!1,"2010 feb 29"),e.equal(moment([2100,1,29]).isValid(),!1,"2100 feb 29"),e.equal(moment([2008,1,30]).isValid(),!1,"2008 feb 30"),e.equal(moment([2e3,1,30]).isValid(),!1,"2000 feb 30"),e.equal(moment.utc([2010,1,29]).isValid(),!1,"utc 2010 feb 29"),e.equal(moment.utc([2100,1,29]).isValid(),!1,"utc 2100 feb 29"),e.equal(moment.utc([2008,1,30]).isValid(),!1,"utc 2008 feb 30"),e.equal(moment.utc([2e3,1,30]).isValid(),!1,"utc 2000 feb 30"),e.done()},"string + formats bad date":function(e){e.equal(moment("2020-00-00",[]).isValid(),!1,"invalid on empty array"),e.equal(moment("2020-00-00",["YYYY-MM-DD","DD-MM-YYYY"]).isValid(),!1,"invalid on all in array"),e.equal(moment("2020-00-00",["DD-MM-YYYY","YYYY-MM-DD"]).isValid(),!1,"invalid on all in array"),e.equal(moment("2020-01-01",["YYYY-MM-DD","DD-MM-YYYY"]).isValid(),!0,"valid on first"),e.equal(moment("2020-01-01",["DD-MM-YYYY","YYYY-MM-DD"]).isValid(),!0,"valid on last"),e.equal(moment("2020-01-01",["YYYY-MM-DD","YYYY-DD-MM"]).isValid(),!0,"valid on both"),e.equal(moment("2020-13-01",["YYYY-MM-DD","YYYY-DD-MM"]).isValid(),!0,"valid on last"),e.equal(moment("12-13-2012",["DD-MM-YYYY","YYYY-MM-DD"]).isValid(),!1,"month rollover"),e.equal(moment("12-13-2012",["DD-MM-YYYY","DD-MM-YYYY"]).isValid(),!1,"month rollover"),e.equal(moment("38-12-2012",["DD-MM-YYYY"]).isValid(),!1,"day rollover"),e.done()},"string nonsensical":function(e){e.expect(1),e.equal(moment("fail").isValid(),!1,'string "fail"'),e.done()},"string nonsensical with format":function(e){e.expect(2),e.equal(moment("fail","MM-DD-YYYY").isValid(),!1,'string "fail" with format "MM-DD-YYYY"'),e.equal(moment("xx-xx-2001","DD-MM-YYY").isValid(),!0,'string "xx-xx-2001" with format "MM-DD-YYYY"'),e.done()},"string with bad month name":function(e){e.expect(2),moment.lang("en"),e.equal(moment("01-Nam-2012","DD-MMM-YYYY").isValid(),!1,'"Nam" is an invalid month'),e.equal(moment("01-Aug-2012","DD-MMM-YYYY").isValid(),!0,'"Aug" is a valid month'),e.done()},"string with spaceless format":function(e){e.expect(1),e.equal(moment("10Sep2001","DDMMMYYYY").isValid(),!0,"Parsing 10Sep2001 should result in a valid date"),e.done()},"invalid string iso 8601":function(e){var i,a=["2010-00-00","2010-01-00","2010-01-40","2010-01-01T24","2010-01-01T23:60","2010-01-01T23:59:60"];for(e.expect(2*a.length),i=0;i<a.length;i++)e.equal(moment(a[i]).isValid(),!1,a[i]+" should be invalid"),e.equal(moment.utc(a[i]).isValid(),!1,a[i]+" should be invalid");e.done()},"invalid string iso 8601 + timezone":function(e){var i,a=["2010-00-00+00:00","2010-01-00+00:00","2010-01-40+00:00","2010-01-40T24+00:00","2010-01-40T23:60+00:00","2010-01-40T23:59:60+00:00","2010-01-40T23:59:59.9999+00:00"];for(e.expect(2*a.length),i=0;i<a.length;i++)e.equal(moment(a[i]).isValid(),!1,a[i]+" should be invalid"),e.equal(moment.utc(a[i]).isValid(),!1,a[i]+" should be invalid");e.done()},"valid string iso 8601 + timezone":function(e){var i,a=["2010-01-01","2010-01-30","2010-01-30T23+00:00","2010-01-30T23:59+00:00","2010-01-30T23:59:59+00:00","2010-01-30T23:59:59.999+00:00","2010-01-30T23:59:59.999-07:00","2010-01-30T00:00:00.000+07:00"];for(e.expect(2*a.length),i=0;i<a.length;i++)e.equal(moment(a[i]).isValid(),!0,a[i]+" should be valid"),e.equal(moment.utc(a[i]).isValid(),!0,a[i]+" should be valid");e.done()},invalidAt:function(e){e.expect(7),e.equal(moment([2e3,12]).invalidAt(),1,"month 12 is invalid: 0-11"),e.equal(moment([2e3,1,30]).invalidAt(),2,"30 is not a valid february day"),e.equal(moment([2e3,1,29,24]).invalidAt(),3,"24 is invalid hour"),e.equal(moment([2e3,1,29,23,60]).invalidAt(),4,"60 is invalid minute"),e.equal(moment([2e3,1,29,23,59,60]).invalidAt(),5,"60 is invalid second"),e.equal(moment([2e3,1,29,23,59,59,1e3]).invalidAt(),6,"1000 is invalid millisecond"),e.equal(moment([2e3,1,29,23,59,59,999]).invalidAt(),-1,"-1 if everything is fine"),e.done()},"valid Unix timestamp":function(e){e.expect(21),e.equal(moment(1371065286,"X").isValid(),!0,"number integer"),e.equal(moment(1379066897,"X").isValid(),!0,"number whole 1dp"),e.equal(moment(1379066897.7,"X").isValid(),!0,"number 1dp"),e.equal(moment(1379066897,"X").isValid(),!0,"number whole 2dp"),e.equal(moment(1379066897.07,"X").isValid(),!0,"number 2dp"),e.equal(moment(1379066897.17,"X").isValid(),!0,"number 2dp"),e.equal(moment(1379066897,"X").isValid(),!0,"number whole 3dp"),e.equal(moment(1379066897.007,"X").isValid(),!0,"number 3dp"),e.equal(moment(1379066897.017,"X").isValid(),!0,"number 3dp"),e.equal(moment(1379066897.157,"X").isValid(),!0,"number 3dp"),e.equal(moment("1371065286","X").isValid(),!0,"string integer"),e.equal(moment("1379066897.","X").isValid(),!0,"string trailing ."),e.equal(moment("1379066897.0","X").isValid(),!0,"string whole 1dp"),e.equal(moment("1379066897.7","X").isValid(),!0,"string 1dp"),e.equal(moment("1379066897.00","X").isValid(),!0,"string whole 2dp"),e.equal(moment("1379066897.07","X").isValid(),!0,"string 2dp"),e.equal(moment("1379066897.17","X").isValid(),!0,"string 2dp"),e.equal(moment("1379066897.000","X").isValid(),!0,"string whole 3dp"),e.equal(moment("1379066897.007","X").isValid(),!0,"string 3dp"),e.equal(moment("1379066897.017","X").isValid(),!0,"string 3dp"),e.equal(moment("1379066897.157","X").isValid(),!0,"string 3dp"),e.done()},"invalid Unix timestamp":function(e){e.expect(8),e.equal(moment(void 0,"X").isValid(),!1,"undefined"),e.equal(moment("undefined","X").isValid(),!1,"string undefined");try{e.equal(moment(null,"X").isValid(),!1,"null")}catch(i){e.ok(!0,"null")}e.equal(moment("null","X").isValid(),!1,"string null"),e.equal(moment([],"X").isValid(),!1,"array"),e.equal(moment("{}","X").isValid(),!1,"object");try{e.equal(moment("","X").isValid(),!1,"string empty")}catch(i){e.ok(!0,"string empty")}e.equal(moment(" ","X").isValid(),!1,"string space"),e.done()},empty:function(e){e.equal(moment(null).isValid(),!1,"null"),e.equal(moment("").isValid(),!1,"empty string"),e.equal(moment(" ").isValid(),!1,"empty when trimmed"),e.equal(moment(null,"YYYY").isValid(),!1,"format + null"),e.equal(moment("","YYYY").isValid(),!1,"format + empty string"),e.equal(moment(" ","YYYY").isValid(),!1,"format + empty when trimmed"),e.done()},"days of the year":function(e){e.equal(moment("2010 300","YYYY DDDD").isValid(),!0,"day 300 of year valid"),e.equal(moment("2010 365","YYYY DDDD").isValid(),!0,"day 365 of year valid"),e.equal(moment("2010 366","YYYY DDDD").isValid(),!1,"day 366 of year invalid"),e.equal(moment("2012 365","YYYY DDDD").isValid(),!0,"day 365 of leap year valid"),e.equal(moment("2012 366","YYYY DDDD").isValid(),!0,"day 366 of leap year valid"),e.equal(moment("2012 367","YYYY DDDD").isValid(),!1,"day 367 of leap year invalid"),e.done()},"oddball permissiveness":function(e){e.ok(moment("2010-10-3199",["MM/DD/YYYY","MM-DD-YYYY","YYYY-MM-DD"]).isValid()),e.ok(moment("3:25",["h:mma","hh:mma","H:mm","HH:mm"]).isValid()),e.done()}};