!function(e,t){"use strict";function n(e){for(e||(e=1);e--;)ok(!0,"test skipped")}var o="function"==typeof require?require:e.load,a=e.platform||o("../vendor/platform.js/platform.js")||e.platform,u=e.QUnit||(e.setTimeout||(e.addEventListener=e.setTimeout=/ /),e.QUnit=o("../vendor/qunit/qunit/qunit"+("Narwhal"==a.name?"-1.8.0":"")+".js")||e.QUnit,o("../vendor/qunit-clib/qunit-clib.js"),(e.addEventListener||0).test&&delete e.addEventListener,e.QUnit),r=e._||(r=o("../lodash.js")||e._,r._||r),i=[,"",0,!1,0/0,null,t],s=Object.freeze,l=function(e){try{var t={};return e(t,t,t)&&e}catch(n){}}(Object.defineProperty),c=[].slice,d={constructor:1,hasOwnProperty:2,isPrototypeOf:3,propertyIsEnumerable:4,toLocaleString:5,toString:6,valueOf:7},f=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];!function(){var t,n,o;e.document&&(t=document.body,n=document.createElement("iframe"),n.frameBorder=n.height=n.width=0,t.appendChild(n),o=(o=n.contentDocument||n.contentWindow).document||o,o.write("<script>parent._._object = { 'a': 1, 'b': 2, 'c': 3 };</script>"),o.close())}(),u.module("lodash"),function(){test('supports loading lodash.js as the "lodash" module',function(){e.document&&e.require?equal((lodashModule||{}).moduleName,"lodash"):n()}),test('supports loading lodash.js with the Require.js "shim" configuration option',function(){e.document&&e.require?equal((shimmedModule||{}).moduleName,"shimmed"):n()}),test('supports loading lodash.js as the "underscore" module',function(){e.document&&e.require?equal((underscoreModule||{}).moduleName,"underscore"):n()}),test("avoids overwritten native methods",function(){e.document?notDeepEqual(lodashBadShim.keys({a:1}),[]):n()})}(),u.module("lodash constructor"),function(){test("creates a new instance when called without the `new` operator",function(){ok(r()instanceof r)}),test("should return passed LoDash instances",function(){var e=r([]);equal(r(e),e)})}(),u.module("lodash.bind"),function(){test("should append array arguments to partially applied arguments (test in IE < 9)",function(){var e,t=r.bind(function(){e=c.call(arguments)},{},"a");t(["b"],"c"),deepEqual(e,["a",["b"],"c"])})}(),u.module("lodash.clone"),function(){function o(){this.a=1}var a,u;o.prototype={b:1},a={"an arguments object":arguments,"an element":e.document&&document.body,"a function":o,"a Klass instance":new o},u={"an array":["a","b","c",""],"an array-like-object":{0:"a",1:"b",2:"c",3:"",length:5},"boolean":!1,"boolean object":Object(!1),"an object":{a:0,b:1,c:3},"an object with object values":{a:/a/,b:["B"],c:{C:1}},"an object from another document":r._object||{},"null":null,"a number":3,"a number object":Object(3),"a regexp":/a/gim,"a string":"a","a string object":Object("a"),undefined:t},u["an array"].length=5,r.forOwn(u,function(e,t){test("should deep clone "+t,function(){var t=r.clone(e,!0);ok(r.isEqual(e,t)),r.isObject(e)?ok(t!==e):n()})}),r.forOwn(a,function(e,t){test("should not clone "+t,function(){ok(r.clone(e)===e),ok(r.clone(e,!0)===e)})}),test("should shallow clone when used as `callback` for `_.map`",function(){var e=[{a:[0]},{b:[1]}],t=r.map(e,r.clone);ok(t!=e&&t.a==e.a&&t.b==e.b)}),test("should deep clone objects with circular references",function(){var e,t={foo:{b:{foo:{c:{}}}},bar:{}};t.foo.b.foo.c=t,t.bar.b=t.foo.b,e=r.clone(t,!0),ok(e.bar.b===e.foo.b&&e===e.foo.b.foo.c&&e!==t)}),test("should clone problem JScript properties (test in IE < 9)",function(){deepEqual(r.clone(d),d),ok(r.clone(d)!=d),deepEqual(r.clone(d,!0),d),ok(r.clone(d,!0)!=d)})}(1,2,3),u.module("lodash.contains"),function(){r.each({"an array":[1,2,3,1,2,3],"an object":{a:1,b:2,c:3,d:1,e:2,f:3},"a string":"123123"},function(e,n){test("should work with "+n+" and a positive `fromIndex`",function(){equal(r.contains(e,1,2),!0)}),test("should work with "+n+" and a `fromIndex` >= collection's length",function(){equal(r.contains(e,1,6),!1),equal(r.contains(e,t,6),!1),equal(r.contains(e,1,8),!1),equal(r.contains(e,t,8),!1)}),test("should work with "+n+" and a negative `fromIndex`",function(){equal(r.contains(e,2,-3),!0)}),test("should work with "+n+" and a negative `fromIndex` <= negative collection's length",function(){equal(r.contains(e,1,-6),!0),equal(r.contains(e,2,-8),!0)})}),r.each({literal:"abc",object:Object("abc")},function(e,t){test("should work with a string "+t+" for `collection`",function(){equal(r.contains(e,"bc"),!0),equal(r.contains(e,"d"),!1)})})}(),u.module("lodash.countBy"),function(){test("should only add values to own, not inherited, properties",function(){var e=r.countBy([4.2,6.1,6.4],function(e){return Math.floor(e)>4?"hasOwnProperty":"constructor"});equal(e.constructor,1),equal(e.hasOwnProperty,2)})}(),u.module("lodash.debounce"),function(){asyncTest("subsequent debounced calls return the last `func` result",function(){var e=r.debounce(function(e){return e},90);e("x"),setTimeout(function(){equal(e("y"),"x"),u.start()},120)}),test('subsequent "immediate" debounced calls return the last `func` result',function(){var e=r.debounce(function(e){return e},90,!0),t=[e("x"),e("y")];deepEqual(t,["x","x"])})}(),u.module("lodash.difference"),function(){test("should work when using `cachedContains`",function(){var e=r.range(27),t=e.slice(),n={},o={},a={};e.push(n,o,a),t.push(o,a,n),deepEqual(r.difference(e,t),[])})}(),u.module("lodash.escape"),function(){test('should not escape the "/" character',function(){equal(r.escape("/"),"/")}),test("should return an empty string when passed `null` or `undefined`",function(){equal(r.escape(null),""),equal(r.escape(t),"")})}(),u.module("lodash.every"),function(){test("should return `false` as soon as the `callback` result is falsey",function(){equal(r.every([!0,null,!0],r.identity),!1)})}(),u.module("lodash.extend"),function(){test("should not error on `null` or `undefined` sources (test in IE < 9)",function(){try{deepEqual(r.extend({},null,t,{a:1}),{a:1})}catch(e){ok(!1)}}),test("skips the prototype property of functions (test in Firefox < 3.6, Opera > 9.50 - Opera < 11.60, and Safari < 5.1)",function(){function e(){}e.prototype.c=3,e.a=1,e.b=2;var t={a:1,b:2};deepEqual(r.extend({},e),t),e.prototype={c:3},deepEqual(r.extend({},e),t)})}(),u.module("strict mode checks"),r.each(["bindAll","defaults","extend"],function(e){var t=r[e];test("lodash."+e+" should not throw strict mode errors",function(){var o={a:null,b:function(){}},a=!0;if(s){s(o);try{"bindAll"==e?t(o):t(o,{a:1})}catch(u){a=!1}ok(a)}else n()})}),u.module("lodash.filter"),function(){test("should not modify the resulting value from within `callback`",function(){var e=r.filter([0],function(e,t,n){return n[t]=1});deepEqual(e,[0])})}(),u.module("lodash.find"),function(){var e=[1,2,3];test("should return found `value`",function(){equal(r.find(e,function(e){return e>2}),3)}),test("should return `undefined` if `value` is not found",function(){equal(r.find(e,function(e){return 4==e}),t)})}(),u.module("lodash.flatten"),function(){test("should treat sparse arrays as dense",function(){var e=[[1,2,3],Array(3)],n=[1,2,3],o=r.flatten(e),a=r.flatten(e,!0);n.push(t,t,t),deepEqual(o,n),ok("4"in o),deepEqual(a,n),ok("4"in a)})}(),u.module("lodash.forEach"),function(){test("returns the collection",function(){var e=[1,2,3];equal(r.forEach(e,Boolean),e)}),r.each({literal:"abc",object:Object("abc")},function(e,t){test("should work with a string "+t+" for `collection` (test in IE < 9)",function(){var t,n=[];r.forEach(e,function(e){t||(t=c.call(arguments)),n.push(e)}),deepEqual(t,["a",0,e]),deepEqual(n,["a","b","c"])})})}(),u.module("lodash.forIn"),function(){test("iterates over inherited properties",function(){function e(e){this.name=e}e.prototype.bark=function(){};var t=[];r.forIn(new e("Dagny"),function(e,n){t.push(n)}),deepEqual(t.sort(),["bark","name"])})}(),u.module("lodash.forOwn"),function(){test("iterates over the `length` property",function(){var e=[],t={0:"zero",1:"one",length:2};r.forOwn(t,function(t,n){e.push(n)}),deepEqual(e.sort(),["0","1","length"])})}(),u.module("object iteration bugs"),r.each(["forEach","forIn","forOwn"],function(e){var t=r[e];test("lodash."+e+" fixes the JScript [[DontEnum]] bug (test in IE < 9)",function(){var e=[];t(d,function(t,n){e.push(n)}),deepEqual(e.sort(),f)}),test("lodash."+e+" skips the prototype property of functions (test in Firefox < 3.6, Opera > 9.50 - Opera < 11.60, and Safari < 5.1)",function(){function e(){}function n(e,t){o.push(t)}e.prototype.a=1;var o=[];t(e,n),deepEqual(o,[]),o.length=0,e.prototype={a:1},t(e,n),deepEqual(o,[])})}),u.module("exit early"),r.each(["forEach","forIn","forOwn"],function(e){var t=r[e];test("lodash."+e+" can exit early when iterating arrays",function(){var e=[1,2,3],n=[];t(e,function(e){return n.push(e),!1}),deepEqual(n,[1])}),test("lodash."+e+" can exit early when iterating objects",function(){var e={a:1,b:2,c:3},n=[];t(e,function(e){return n.push(e),!1}),equal(n.length,1)})}),u.module("lodash.groupBy"),function(){test("supports the `thisArg` argument",function(){var e=r.groupBy([4.2,6.1,6.4],function(e){return this.floor(e)},Math);deepEqual(e,{4:[4.2],6:[6.1,6.4]})}),test("should only add values to own, not inherited, properties",function(){var e=r.groupBy([4.2,6.1,6.4],function(e){return Math.floor(e)>4?"hasOwnProperty":"constructor"});deepEqual(e.constructor,[4.2]),deepEqual(e.hasOwnProperty,[6.1,6.4])}),test("should work with an object for `collection`",function(){var e=r.groupBy({a:4.2,b:6.1,c:6.4},function(e){return Math.floor(e)});deepEqual(e,{4:[4.2],6:[6.1,6.4]})})}(),u.module("lodash.indexOf"),function(){var e=[1,2,3,1,2,3];test("should work with a positive `fromIndex`",function(){equal(r.indexOf(e,1,2),3)}),test("should work with `fromIndex` >= `array.length`",function(){equal(r.indexOf(e,1,6),-1),equal(r.indexOf(e,t,6),-1),equal(r.indexOf(e,1,8),-1),equal(r.indexOf(e,t,8),-1)}),test("should work with a negative `fromIndex`",function(){equal(r.indexOf(e,2,-3),4)}),test("should work with a negative `fromIndex` <= `-array.length`",function(){equal(r.indexOf(e,1,-6),0),equal(r.indexOf(e,2,-8),1)}),test("should ignore non-number `fromIndex` values",function(){equal(r.indexOf([1,2,3],1,"1"),0)}),test("should work with `isSorted`",function(){equal(r.indexOf([1,2,3],1,!0),0)})}(),u.module("lodash.initial"),function(){test("returns an empty collection for `n` of `0`",function(){var e=[1,2,3];deepEqual(r.initial(e,0),[])}),test("should allow a falsey `array` argument",function(){r.each(i,function(e,t){try{var n=e?r.initial(t):r.initial()}catch(o){}deepEqual(n,[])})})}(),u.module("lodash.invoke"),function(){test("should work with an object for `collection`",function(){var e={a:1,b:2,c:3};deepEqual(r.invoke(e,"toFixed",1),["1.0","2.0","3.0"])})}(),u.module("lodash.isElement"),function(){test("should use strict equality in its duck type check",function(){var t=e.document?document.body:{nodeType:1};equal(r.isElement(t),!0),equal(r.isElement({nodeType:new Number(1)}),!1),equal(r.isElement({nodeType:!0}),!1),equal(r.isElement({nodeType:[1]}),!1),equal(r.isElement({nodeType:"1"}),!1),equal(r.isElement({nodeType:"001"}),!1)})}(),u.module("lodash.isEmpty"),function(){var e=arguments;test("fixes the JScript [[DontEnum]] bug (test in IE < 9)",function(){equal(r.isEmpty(d),!1)}),test("skips the prototype property of functions (test in Firefox < 3.6, Opera > 9.50 - Opera < 11.60, and Safari < 5.1)",function(){function e(){}e.prototype.a=1,equal(r.isEmpty(e),!0),e.prototype={a:1},equal(r.isEmpty(e),!0)}),test("should work with an object that has a `length` property",function(){equal(r.isEmpty({length:0}),!1)}),test("should work with jQuery/MooTools DOM query collections",function(){function e(e){Array.prototype.push.apply(this,e)}e.prototype={length:0,splice:Array.prototype.splice},equal(r.isEmpty(new e([])),!0)}),test("should work with `arguments` objects (test in IE < 9)",function(){equal(r.isEmpty(e),!1)})}(1,2,3),u.module("lodash.isEqual"),function(){test("should work with `arguments` objects (test in IE < 9)",function(){var e=function(){return arguments}(1,2,3),t=function(){return arguments}(1,2,3),n=function(){return arguments}(1,2);equal(r.isEqual(e,t),!0),equal(r.isEqual(e,n),!1)}),test("fixes the JScript [[DontEnum]] bug (test in IE < 9)",function(){equal(r.isEqual(d,{}),!1)}),test("should return `true` for like-objects from different documents",function(){if(r._object){var e={a:1,b:2,c:3};equal(r.isEqual(e,r._object),!0)}else n()}),test("should return `false` when comparing values with circular references to unlike values",function(){var e=["a",null,"c"],t=["a",[],"c"],n={a:1,b:null,c:3},o={a:1,b:{},c:3};e[1]=e,equal(r.isEqual(e,t),!1),n.b=n,equal(r.isEqual(n,o),!1)})}(),u.module("lodash.isFinite"),function(){test("should return `false` for non-numeric values",function(){equal(r.isFinite(null),!1),equal(r.isFinite([]),!1),equal(r.isFinite(!0),!1),equal(r.isFinite(""),!1),equal(r.isFinite(" "),!1),equal(r.isFinite("2px"),!1)}),test("should return `true` for numeric string values",function(){equal(r.isFinite("2"),!0),equal(r.isFinite("0"),!0),equal(r.isFinite("08"),!0)})}(),u.module("lodash.isObject"),function(){test("should avoid V8 bug #2291",function(){var e={},t="foo";r.isObject(e),equal(r.isObject(t),!1)})}(),u.module("lodash.isNaN"),function(){test("returns `true` for `new Number(NaN)`",function(){equal(r.isNaN(new Number(0/0)),!0)})}(),u.module("lodash.isPlainObject"),function(){test("should detect plain objects",function(){function e(){this.a=1}equal(r.isPlainObject(new e(1)),!1),equal(r.isPlainObject([1,2,3]),!1),equal(r.isPlainObject({a:1}),!0)})}(),u.module("isType checks"),r.each(["isArguments","isArray","isBoolean","isDate","isElement","isEmpty","isEqual","isFinite","isFunction","isNaN","isNull","isNumber","isObject","isRegExp","isString","isUndefined"],function(n){var o=r[n];test("lodash."+n+" should return a boolean",function(){var n="boolean";equal(typeof o(arguments),n),equal(typeof o([]),n),equal(typeof o(!0),n),equal(typeof o(!1),n),equal(typeof o(new Date),n),equal(typeof o(e.document&&document.body),n),equal(typeof o({}),n),equal(typeof o(t),n),equal(typeof o(1/0),n),equal(typeof o(r),n),equal(typeof o(0/0),n),equal(typeof o(null),n),equal(typeof o(0),n),equal(typeof o({a:1}),n),equal(typeof o("a"),n)})}),u.module("lodash.keys"),function(){var e=arguments;test("should work with `arguments` objects (test in IE < 9)",function(){deepEqual(r.keys(e),["0","1","2"])}),test("fixes the JScript [[DontEnum]] bug (test in IE < 9)",function(){function e(){}e.prototype.a=1,deepEqual(r.keys(e.prototype),["a"]),deepEqual(r.keys(d).sort(),f)}),test("skips the prototype property of functions (test in Firefox < 3.6, Opera > 9.50 - Opera < 11.60, and Safari < 5.1)",function(){function e(){}e.prototype.c=3,e.a=1,e.b=2;var t=["a","b"];deepEqual(r.keys(e),t),e.prototype={c:3},deepEqual(r.keys(e),t)})}(1,2,3),u.module("lodash.lastIndexOf"),function(){var e=[1,2,3,1,2,3];test("should work with a positive `fromIndex`",function(){equal(r.lastIndexOf(e,1,2),0)}),test("should work with `fromIndex` >= `array.length`",function(){equal(r.lastIndexOf(e,t,6),-1),equal(r.lastIndexOf(e,1,6),3),equal(r.lastIndexOf(e,t,8),-1),equal(r.lastIndexOf(e,1,8),3)}),test("should work with a negative `fromIndex`",function(){equal(r.lastIndexOf(e,2,-3),1)}),test("should work with a negative `fromIndex` <= `-array.length`",function(){equal(r.lastIndexOf(e,1,-6),0),equal(r.lastIndexOf(e,2,-8),-1)}),test("should ignore non-number `fromIndex` values",function(){equal(r.lastIndexOf([1,2,3],3,"1"),2),equal(r.lastIndexOf([1,2,3],3,!0),2)})}(),u.module("lodash.lateBind"),function(){test("should work when the target function is overwritten",function(){var e={name:"moe",greet:function(e){return e+": "+this.name}},t=r.lateBind(e,"greet","hi");equal(t(),"hi: moe"),e.greet=function(e){return e+" "+this.name+"!"},equal(t(),"hi moe!")})}(),u.module("lodash.map"),function(){test("should return the correct result when iterating an object",function(){var e=r.map({a:1,b:2,c:3},function(e){return e});deepEqual(e,[1,2,3])}),test("should handle object arguments with non-numeric length properties",function(){if(l){var e={};l(e,"length",{value:"x"}),deepEqual(r.map(e,r.identity),[])}else n()})}(),u.module("lodash.max and lodash.min object iteration"),r.each(["max","min"],function(e){var t=r[e];test("lodash."+e+" should iterate an object",function(){var n=t({a:1,b:2,c:3});equal(n,"max"==e?3:1)})}),u.module("lodash.max and lodash.min string iteration"),r.each(["max","min"],function(e){var t=r[e];test("lodash."+e+" should iterate a string",function(){r.each(["abc",Object("abc")],function(n){var o=t(n);equal(o,"max"==e?"c":"a")})})}),u.module("lodash.merge"),function(){var e=arguments;test("should merge `source` into the destination object",function(){var e=[{name:"moe"},{name:"larry"}],t=[{age:40},{age:50}],n=[{height:"5'4\""},{height:"5'5\""}],o=[{name:"moe",age:40,height:"5'4\""},{name:"larry",age:50,height:"5'5\""}];deepEqual(r.merge(e,t,n),o)}),test("should merge sources containing circular references",function(){var e,t={foo:{a:1},bar:{a:2}},n={foo:{b:{foo:{c:{}}}},bar:{}};n.foo.b.foo.c=n,n.bar.b=n.foo.b,e=r.merge(t,n),ok(e.bar.b===e.foo.b&&e.foo.b.foo.c===e.foo.b.foo.c.foo.b.foo.c)}),test("should merge problem JScript properties (test in IE < 9)",function(){var e=[{constructor:1,hasOwnProperty:2,isPrototypeOf:3}],t=[{propertyIsEnumerable:4,toLocaleString:5,toString:6,valueOf:7}];deepEqual(r.merge(e,t),[d])}),test("should not treat `arguments` objects as plain objects",function(){var t={args:e},n={args:{3:4}},o=r.merge(t,n);equal(r.isArguments(o.args),!1)}),test("should work with four arguments",function(){var e={a:4};deepEqual(r.merge({a:1},{a:2},{a:3},e),e)})}(1,2,3),u.module("lodash.omit"),function(){var e={a:1,b:2},t={b:2};test("should accept individual property names",function(){deepEqual(r.omit(e,"a"),t)}),test("should accept an array of property names",function(){deepEqual(r.omit(e,["a","c"]),t)}),test("should accept mixes of individual and arrays of property names",function(){deepEqual(r.omit(e,["a"],"c"),t)}),test("should iterate over inherited properties",function(){function n(){}n.prototype=e,deepEqual(r.omit(new n,"a"),t)}),test("should work with a `callback` argument",function(){var t=r.omit(e,function(e){return 1==e});deepEqual(t,{b:2})}),test("should pass the correct `callback` arguments",function(){var t,n=r.keys(e).pop(),o="b"==n?[1,"a",e]:[2,"b",e];r.omit(e,function(){t||(t=c.call(arguments))}),deepEqual(t,o)}),test("should correct set the `this` binding",function(){var t=r.omit(e,function(e){return e==this.a},{a:1});deepEqual(t,{b:2})})}(),u.module("lodash.partial"),function(){test("partially applies an argument, without additional arguments",function(){var e="catnip",t=function(e){return e};equal(r.partial(t,e)(),e)}),test("partially applies an argument, with additional arguments",function(){var e="catnip",t="cheese",n=function(e,t){return[e,t]};deepEqual(r.partial(n,e)(t),[e,t])}),test("works without partially applying arguments, without additional arguments",function(){var e=function(){return arguments.length};equal(r.partial(e)(),0)}),test("works without partially applying arguments, with additional arguments",function(){var e="catnip",t=function(e){return e};equal(r.partial(t)(e),e)}),test("should not alter the `this` binding of either function",function(){var e={cat:"nip"},t=function(){return this.cat};equal(r.partial(r.bind(t,e))(),e.cat),equal(r.bind(r.partial(t),e)(),e.cat)})}(),u.module("lodash.pick"),function(){var e={a:1,b:2};test("should iterate over inherited properties",function(){function t(){}t.prototype=e,deepEqual(r.pick(new t,"b"),{b:2})}),test("should work with a `callback` argument",function(){var t=r.pick(e,function(e){return 2==e});deepEqual(t,{b:2})}),test("should pass the correct `callback` arguments",function(){var t,n=r.keys(e).pop(),o="b"==n?[1,"a",e]:[2,"b",e];r.pick(e,function(){t||(t=c.call(arguments))}),deepEqual(t,o)}),test("should correct set the `this` binding",function(){var t=r.pick(e,function(e){return e==this.b},{b:2});deepEqual(t,{b:2})})}(),u.module("lodash.pluck"),function(){test("should work with an object for `collection`",function(){var e={a:[1],b:[1,2],c:[1,2,3]};deepEqual(r.pluck(e,"length"),[1,2,3])})}(),u.module("lodash.random"),function(){test("should return `0` or `1` when no arguments are passed",function(){var e=r.random();ok(0===e||1===e)}),test("supports not passing a `max` argument",function(){for(var e=r.random(5),t=new Date;new Date-t<50&&5==e;)e=r.random(5);ok(5!=e)})}(),u.module("lodash.range"),function(){var e=r.range;test("should treat falsey `start` arguments as `0`",function(){r.each(i,function(e,t){t?(deepEqual(r.range(e),[]),deepEqual(r.range(e,1),[0])):deepEqual(r.range(),[])})}),test("should coerce arguments to numbers",function(){var t=[e("0",1),e("1"),e(0,1,"1")];deepEqual(t,[[0],[0],[0]])})}(),u.module("lodash.reduce"),function(){r.each({literal:"abc",object:Object("abc")},function(e,t){test("should work with a string "+t+" for `collection` (test in IE < 9)",function(){var t,n=r.reduce(e,function(e,n){return t||(t=c.call(arguments)),e+n});deepEqual(t,["a","b",1,e]),equal(n,"abc")})})}(),u.module("lodash.reduceRight"),function(){test("should pass the correct `callback` arguments when iterating an object",function(){var e,t={a:1,b:2},n=r.keys(t).pop(),o="b"==n?[2,1,"a",t]:[1,2,"b",t];r.reduceRight(t,function(){e||(e=c.call(arguments))}),deepEqual(e,o)}),r.each({literal:"abc",object:Object("abc")},function(e,t){test("should work with a string "+t+" for `collection` (test in IE < 9)",function(){var t,n=r.reduceRight(e,function(e,n){return t||(t=c.call(arguments)),e+n});deepEqual(t,["c","b",1,e]),equal(n,"cba")})})}(),u.module("lodash.rest"),function(){test("should allow a falsey `array` argument",function(){r.each(i,function(e,t){try{var n=e?r.rest(t):r.rest()}catch(o){}deepEqual(n,[])})})}(),u.module("lodash.shuffle"),function(){test("should shuffle an object",function(){var e=r.shuffle({a:1,b:2,c:3});deepEqual(e.sort(),[1,2,3])})}(),u.module("lodash.size"),function(){var e=arguments;test("should detect the size of a string value",function(){equal(r.size("abc"),3)}),test("should allow a falsey `object` argument",function(){r.each(i,function(e,t){try{var n=e?r.size(t):r.size()}catch(o){}equal(n,0)})}),test("should work with jQuery/MooTools DOM query collections",function(){function e(e){Array.prototype.push.apply(this,e)}e.prototype={length:0,splice:Array.prototype.splice},equal(r.size(new e([1,2,3])),3)}),test("should work with `arguments` objects (test in IE < 9)",function(){equal(r.size(e),3)}),test("fixes the JScript [[DontEnum]] bug (test in IE < 9)",function(){equal(r.size(d),7)})}(1,2,3),u.module("lodash.some"),function(){test("should return `true` as soon as the `callback` result is truthy",function(){equal(r.some([null,!0,null],r.identity),!0)})}(),u.module("lodash.sortBy"),function(){test("should perform a stable sort (test in IE > 8, Opera, and V8)",function(){function e(e,t){this.x=e,this.y=t}var n=[new e(1,1),new e(1,2),new e(1,3),new e(1,4),new e(1,5),new e(1,6),new e(2,1),new e(2,2),new e(2,3),new e(2,4),new e(2,5),new e(2,6),new e(t,1),new e(t,2),new e(t,3),new e(t,4),new e(t,5),new e(t,6)],o=r.sortBy(n,function(e){return e.x});deepEqual(o,n)}),test("supports the `thisArg` argument",function(){var e=r.sortBy([1,2,3],function(e){return this.sin(e)},Math);deepEqual(e,[3,1,2])}),test("should work with an object for `collection`",function(){var e=r.sortBy({a:1,b:2,c:3},function(e){return Math.sin(e)});deepEqual(e,[3,1,2])})}(),u.module("lodash.sortedIndex"),function(){test("supports the `thisArg` argument",function(){var e=r.sortedIndex([1,2,3],4,function(e){return this.sin(e)},Math);equal(e,0)}),test("supports arrays with lengths larger than `Math.pow(2, 31) - 1`",function(){var e=Math.pow(2,32)-1,t=e-1,n=Array(e),o=0;n[t]=t,r.sortedIndex(n,t,function(){o++}),equal(o,33)})}(),u.module("lodash.template"),function(){test("supports recursive calls",function(){var e=r.template("<%= a %><% a = _.template(c, obj) %><%= a %>"),t={a:"A",b:"B",c:"<%= b %>"};equal(e(t),"AB")}),test("should not augment the `options` object",function(){var e={};r.template("",null,e),deepEqual(e,{})}),test("should provide the template source when a SyntaxError occurs",function(){try{r.template("<% if x %>")}catch(e){var t=e.source}ok((t+"").indexOf("__p")>-1)}),test('should work with complex "interpolate" delimiters',function(){r.each({"<%= a + b %>":"3","<%= b - a %>":"1","<%= a = b %>":"2","<%= !a %>":"false","<%= ~a %>":"-2","<%= a * b %>":"2","<%= a / b %>":"0.5","<%= a % b %>":"1","<%= a >> b %>":"0","<%= a << b %>":"4","<%= a & b %>":"0","<%= a ^ b %>":"3","<%= a | b %>":"3","<%= {}.toString.call(0) %>":"[object Number]","<%= a.toFixed(2) %>":"1.00",'<%= obj["a"] %>':"1","<%= delete a %>":"true",'<%= "a" in obj %>':"true","<%= obj instanceof Object %>":"true","<%= new Boolean %>":"false","<%= typeof a %>":"number","<%= void a %>":""},function(e,t){var n=r.template(t),o={a:1,b:2};equal(n(o),e,t)})}),test('should allow referencing variables declared in "evaluate" delimiters from other delimiters',function(){var e=r.template("<% var b = a; %><%= b.value %>"),t={a:{value:1}};equal(e(t),"1")}),test("should work when passing `options.variable`",function(){var e=r.template("<% _.forEach( data.a, function( value ) { %><%= value.valueOf() %><% }) %>",null,{variable:"data"}),t={a:[1,2,3]};try{equal(e(t),"123")}catch(n){ok(!1)}}),test("should not error with IE conditional comments enabled (test with development build)",function(){var e=r.template(""),t=!0;try{e()}catch(n){t=!1}ok(t)}),test("should tokenize delimiters",function(){var e=r.template('<span class="icon-<%= type %>2"></span>');equal(e({type:1}),'<span class="icon-12"></span>')}),test('should work with "interpolate" delimiters containing ternary operators',function(){var e=r.template('<%= value ? value : "b" %>');equal(e({value:"a"}),"a")}),test("should parse delimiters with newlines",function(){var e='<<\nprint("<p>" + (value ? "yes" : "no") + "</p>")\n>>',t=r.template(e,null,{evaluate:/<<(.+?)>>/g});equal(t({value:!0}),e)}),test("should parse ES6 template delimiters",function(){var e={value:2};equal(r.template("1${value}3",e),"123"),equal(r.template('${"{" + value + "\\}"}',e),"{2}")})}(),u.module("lodash.throttle"),function(){test("subsequent calls should return the result of the first call",function(){var e=r.throttle(function(e){return e},90),t=[e("x"),e("y")];deepEqual(t,["x","x"])}),test("supports calls in a loop",function(){for(var e=0,t=r.throttle(function(){e++},90),n=new Date,o=180;new Date-n<o;)t();ok(e>1)}),asyncTest("supports recursive calls",function(){var e=0,t=r.throttle(function(){e++,4>e&&t()},90);setTimeout(function(){ok(e>1),u.start()},180),t()}),asyncTest("should clear timeout when `func` is called",function(){var e=new Date,t=[],n=r.throttle(function(){t.push(new Date-e)},32);setTimeout(n,32),setTimeout(n,32),setTimeout(n,64),setTimeout(n,64),setTimeout(function(){var e=r.every(t,function(e,n){return n?e-t[n-1]>2:!0});ok(e),u.start()},260)})}(),u.module("lodash.toArray"),function(){var e=arguments;test("should treat array-like objects like arrays",function(){var t={0:"a",1:"b",2:"c",length:3};deepEqual(r.toArray(t),["a","b","c"]),deepEqual(r.toArray(e),[1,2,3])}),test("should work with a string for `collection` (test in Opera < 10.52)",function(){deepEqual(r.toArray("abc"),["a","b","c"]),deepEqual(r.toArray(Object("abc")),["a","b","c"])})}(1,2,3),u.module("lodash.times"),function(){test("should return an array of the results of each `callback` execution",function(){deepEqual(r.times(3,function(e){return 2*e}),[0,2,4])})}(),u.module("lodash.unescape"),function(){var e="&lt;h1&gt;Moe&#x27;s famous &quot;death by chocolate&quot; brownies &amp; cake&lt;/h1&gt;",n='<h1>Moe\'s famous "death by chocolate" brownies & cake</h1>';test("should unescape entities in the correct order",function(){equal(r.unescape("&amp;lt;"),"&lt;")}),test("should unescape the proper entities",function(){equal(r.unescape(e),n)}),test("should unescape the same characters escaped by `_.escape`",function(){equal(r.unescape(r.escape(n)),n)}),test("should return an empty string when passed `null` or `undefined`",function(){equal(r.unescape(null),""),equal(r.unescape(t),"")})}(),u.module("lodash.uniq"),function(){test("supports the `thisArg` argument",function(){var e=r.uniq([1,2,1.5,3,2.5],function(e){return this.floor(e)},Math);deepEqual(e,[1,2,3])}),test("should distinguish between numbers and numeric strings",function(){var e=["2",2,Object("2"),Object(2)],t=r.uniq(e);deepEqual(t,e)})}(),u.module("lodash.where"),function(){var e=[{a:1},{a:1},{a:1,b:2},{a:2,b:2},{a:3}];test("should filter by properties",function(){deepEqual(r.where(e,{a:1}),[{a:1},{a:1},{a:1,b:2}]),deepEqual(r.where(e,{a:2}),[{a:2,b:2}]),deepEqual(r.where(e,{a:3}),[{a:3}]),deepEqual(r.where(e,{b:1}),[]),deepEqual(r.where(e,{b:2}),[{a:1,b:2},{a:2,b:2}]),deepEqual(r.where(e,{a:1,b:2}),[{a:1,b:2}])}),test("should filter by inherited properties",function(){function t(){}t.prototype={b:2};var n=new t;n.a=1,deepEqual(r.where(e,n),[{a:1,b:2}])}),test("should filter by problem JScript properties (test in IE < 9)",function(){var e=[d];deepEqual(r.where(e,d),[d])}),test("should work with an object for `collection`",function(){var e={x:{a:1},y:{a:3},z:{a:1,b:2}};deepEqual(r.where(e,{a:1}),[{a:1},{a:1,b:2}])}),test("should return an empty array when passed an empty `properties` object",function(){deepEqual(r.where(e,{}),[])})}(),u.module("lodash(...).shift"),function(){test("should remove the value at index `0` when length is `0` (test in IE 8 compatibility mode)",function(){var e=r({0:1,length:1});e.shift(),deepEqual(e.keys(),["length"]),equal(e.first(),t)})}(),u.module("lodash(...).splice"),function(){test("should remove the value at index `0` when length is `0` (test in IE < 9, and in compatibility mode for IE9)",function(){var e=r({0:1,length:1});e.splice(0,1),deepEqual(e.keys(),["length"]),equal(e.first(),t)})}(),u.module("lodash methods"),function(){test("should allow falsey arguments",function(){var e=["filter","invoke","map","pluck","reject","shuffle","sortBy","toArray","where"],t=r.without.apply(r,[r.functions(r)].concat(["_","_iteratorTemplate","after","bind","bindAll","compose","debounce","defer","delay","functions","memoize","once","partial","tap","throttle","wrap"]));r.each(t,function(t){var n=[],o=r.times(i.length,function(){return[]}),a=r[t],u=!0;r.each(i,function(e,t){try{n.push(t?a(e):a())}catch(o){u=!1}}),r.indexOf(e,t)>-1&&deepEqual(n,o,"_."+t+" returns an array"),ok(u,"_."+t+" allows falsey arguments")})}),test("should handle `null` `thisArg` arguments",function(){var e,n=["a"],o=function(){e=this},a=function(){return this}.call(null),u=["countBy","every","filter","find","forEach","forIn","forOwn","groupBy","map","max","min","omit","pick","reduce","reduceRight","reject","some","sortBy","sortedIndex","times","uniq"];r.each(u,function(u){var i=r[u],s="_."+u+" handles `null` `thisArg` arguments";e=t,/^reduce/.test(u)?i(n,o,0,null):"sortedIndex"==u?i(n,"a",o,null):"times"==u?i(1,o,null):i(n,o,null),null===a?deepEqual(e,null,s):equal(e,a,s)})})}(),e.document||u.start()}("object"==typeof global&&global||this);