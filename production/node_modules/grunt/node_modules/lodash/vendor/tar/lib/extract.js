function Extract(t){if(!(this instanceof Extract))return new Extract(t);tar.Parse.apply(this),t.type="Directory",t.Directory=!0,"object"!=typeof t&&(t={path:t}),t.path=t.path||path.resolve("node-tar-extract"),t.type="Directory",t.Directory=!0,t.strip=+t.strip,(!t.strip||t.strip<=0)&&(t.strip=0),this._fst=fstream.Writer(t),this.pause();var r=this;r.on("entry",function(r){var e,i;t.strip&&(e=r.path.split("/").slice(t.strip).join("/"),r.path=r.props.path=e,r.linkpath&&(i=r.linkpath.split("/").slice(t.strip).join("/"),r.linkpath=r.props.linkpath=i)),"Link"===r.type&&(r.linkpath=r.props.linkpath=path.join(t.path,path.join("/",r.props.linkpath)))}),this._fst.on("ready",function(){r.pipe(r._fst,{end:!1}),r.resume()}),this._fst.on("close",function(){r.emit("end"),r.emit("close")})}module.exports=Extract;var tar=require("../tar.js"),fstream=require("../vendor/fstream/fstream.js"),inherits=require("../vendor/inherits/inherits.js"),path=require("path");inherits(Extract,tar.Parse),Extract.prototype._streamEnd=function(){var t=this;t._ended||t.error("unexpected eof"),t._fst.end()};