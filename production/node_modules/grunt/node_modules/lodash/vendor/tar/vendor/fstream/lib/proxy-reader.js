function ProxyReader(r){var e=this;if(!(e instanceof ProxyReader))throw Error("ProxyReader must be called as constructor.");e.props=r,e._buffer=[],e.ready=!1,Reader.call(e,r)}module.exports=ProxyReader;var Reader=require("./reader.js"),getType=require("./get-type.js"),inherits=require("../../inherits/inherits.js"),fs=require("../../graceful-fs/graceful-fs.js");inherits(ProxyReader,Reader),ProxyReader.prototype._stat=function(){var r=this,e=r.props,t=e.follow?"stat":"lstat";fs[t](e.path,function(t,o){var a;a=t||!o?"File":getType(o),e[a]=!0,e.type=r.type=a,r._old=o,r._addProxy(Reader(e,o))})},ProxyReader.prototype._addProxy=function(r){var e,t=this;return t._proxyTarget?t.error("proxy already set"):(t._proxyTarget=r,r._proxy=t,["error","data","end","close","linkpath","entry","entryEnd","child","childEnd","warn","stat"].forEach(function(e){r.on(e,t.emit.bind(t,e))}),t.emit("proxy",r),r.on("ready",function(){t.ready=!0,t.emit("ready")}),e=t._buffer,t._buffer.length=0,e.forEach(function(e){r[e[0]].apply(r,e[1])}),void 0)},ProxyReader.prototype.pause=function(){return this._proxyTarget?this._proxyTarget.pause():!1},ProxyReader.prototype.resume=function(){return this._proxyTarget?this._proxyTarget.resume():!1};