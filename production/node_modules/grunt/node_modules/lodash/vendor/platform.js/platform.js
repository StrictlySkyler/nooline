/*!
 * Platform.js v1.0.0 <http://mths.be/platform>
 * Copyright 2010-2012 John-David Dalton <http://allyoucanleet.com/>
 * Available under MIT license <http://mths.be/mit>
 */

!function(e){"use strict";function t(e){return e+="",e.charAt(0).toUpperCase()+e.slice(1)}function n(e,t){var n=-1,r=e.length;if(r==r>>>0)for(;++n<r;)t(e[n],n,e);else i(e,t)}function r(e){return e=u(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:t(e)}function i(e,t){for(var n in e)a(e,n)&&t(e[n],n,e)}function o(e){return null==e?t(e):S.call(e).slice(8,-1)}function a(){return a=function(e,t){var n=null!=e&&(e.constructor||Object).prototype;return!!n&&t in Object(e)&&!(t in n&&e[t]===n[t])},"Function"==o(M)?a=function(e,t){return null!=e&&M.call(e,t)}:{}.__proto__==Object.prototype&&(a=function(e,t){var n=!1;return null!=e&&(e=Object(e),e.__proto__=[e.__proto__,e.__proto__=null,n=t in e][0]),n}),a.apply(this,arguments)}function l(e,t){var n=null!=e?typeof e[t]:"number";return!/^(?:boolean|number|string|undefined)$/.test(n)&&("object"==n?!!e[t]:!0)}function s(e){return(e+"").replace(/([ -])(?!$)/g,"$1?")}function c(e,t){var r=null;return n(e,function(n,i){r=t(r,n,i,e)}),r}function u(e){return(e+"").replace(/^ +| +$/g,"")}function p(t){function n(e){return c(e,function(e,n){return e||RegExp("\\b"+(n.pattern||s(n))+"\\b","i").exec(t)&&(n.label||n)})}function a(e){return c(e,function(e,n,r){return e||(n[T]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(T)]||RegExp("\\b"+(r.pattern||s(r))+"(?:\\b|\\w*\\d)","i").exec(t))&&(r.label||r)})}function d(e){return c(e,function(e,n){return e||RegExp("\\b"+(n.pattern||s(n))+"\\b","i").exec(t)&&(n.label||n)})}function M(e){return c(e,function(e,n){var i=n.pattern||s(n);return!e&&(e=RegExp("\\b"+i+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(R={6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"},/^Win/i.test(e)&&(R=R[/[\d.]+$/.exec(e)])&&(e="Windows "+R),e=r((e+"").replace(RegExp(i,"i"),n.label||n).replace(/ ce$/i," CE").replace(/hpw/i,"web").replace(/Macintosh/,"Mac OS").replace(/_PowerPC/i," OS").replace(/(OS X) [^ \d]+/i,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/x86\.64/gi,"x86_64").split(" on ")[0])),e})}function k(e){return c(e,function(e,n){var i=n.pattern||s(n);return!e&&(e=RegExp("\\b"+i+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+i+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=((n.label||e)+"").split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=r(e[0].replace(RegExp(i,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")(\\w)","i"),"$1 $2"))),e})}function A(e){return c(e,function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null})}function C(){return this.description||""}var R,_,W,$,j,B,F,I,T,G,K;if(t||(t=E),_=t,W=[],$=null,j=t==E,B=j&&v&&"function"==typeof v.version&&v.version(),F=n([{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","Trident","KHTML","Gecko"]),I=d(["Adobe AIR","Arora","Avant Browser","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","Iron","K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Nook Browser","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser","Sunrise","Swiftfox","WebPositive","Opera Mini","Opera","Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"IE",pattern:"MSIE"},"Safari"]),T=k(["BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},"Google TV","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nook","PlayBook","PlayStation Vita","TouchPad","Transformer","Xoom"]),G=a({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1},HP:{TouchPad:1},LG:{},Motorola:{Xoom:1},Nokia:{},Samsung:{"Galaxy S":1,"Galaxy S2":1},Sony:{"PlayStation Vita":1}}),K=M(["Android","CentOS","Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]),F&&(F=[F]),G&&!T&&(T=k([G])),(R=/Google TV/.exec(T))&&(T=R[0]),/\bSimulator\b/i.test(t)&&(T=(T?T+" ":"")+"Simulator"),/^iP/.test(T)?(I||(I="Safari"),K="iOS"+((R=/ OS ([\d_]+)/i.exec(t))?" "+R[1].replace(/_/g,"."):"")):"Konqueror"!=I||/buntu/i.test(K)?G&&"Google"!=G&&/Chrome|Vita/.test(I+";"+T)?(I="Android Browser",K=/Android/.test(K)?K:"Android"):(!I||(R=!/\bMinefield\b/i.test(t)&&/Firefox|Safari/.exec(I)))&&(I&&!T&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(R+"/")+8))&&(I=null),(R=T||G||K)&&(T||G||/Android|Symbian OS|Tablet OS|webOS/.test(K))&&(I=/[a-z]+(?: Hat)?/i.exec(/Android/.test(K)?K:R)+" Browser")):K="Kubuntu",B||(B=A(["(?:Cloud9|CriOS|CrMo|Opera ?Mini|Raven|Silk(?!/[\\d.]+$))","Version",s(I),"(?:Firefox|Minefield|NetFront)"])),"iCab"==F&&parseFloat(B)>3?F=["WebKit"]:(R=/Opera/.test(I)&&"Presto"||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&"WebKit"||!F&&/\bMSIE\b/i.test(t)&&(/^Mac/.test(K)?"Tasman":"Trident"))&&(F=[R]),j){if(l(e,"global"))if(h&&(R=h.lang.System,_=R.getProperty("os.arch"),K=K||R.getProperty("os.name")+" "+R.getProperty("os.version")),"object"==typeof exports&&exports)if(w==b&&"object"==typeof system&&(R=[system])[0]){K||(K=R[0].os||null);try{R[1]=null.version,B=R[1].join("."),I="RingoJS"}catch(N){R[0].global==f&&(I="Narwhal")}}else"object"==typeof process&&(R=process)&&(I="Node.js",_=R.arch,K=R.platform,B=/[\d.]+/.exec(R.version)[0]);else"Environment"==o(e.environment)&&(I="Rhino");else"ScriptBridgingProxyObject"==o(R=e.runtime)?(I="Adobe AIR",K=R.flash.system.Capabilities.os):"RuntimeObject"==o(R=e.phantom)?(I="PhantomJS",B=(R=R.version||null)&&R.major+"."+R.minor+"."+R.patch):"number"==typeof y.documentMode&&(R=/\bTrident\/(\d+)/i.exec(t))&&(B=[B,y.documentMode],(R=+R[1]+4)!=B[1]&&(W.push("IE "+B[1]+" mode"),F[1]="",B[1]=R),B="IE"==I?B[1].toFixed(1)+"":B[0]);K=K&&r(K)}return B&&(R=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(B)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(j&&O.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&($=/b/i.test(R)?"beta":"alpha",B=B.replace(RegExp(R+"\\+?$"),"")+("beta"==$?g:m)+(/\d+\+?/.exec(R)||"")),"Fennec"==I?I="Firefox Mobile":"Maxthon"==I&&B?B=B.replace(/\.[\d.]+/,".x"):"Silk"==I?(/Mobi/i.test(t)||(K="Android",W.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&W.unshift("accelerated")):"IE"==I&&(R=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(I+=" Mobile",K="Windows Phone OS "+R+".x",W.unshift("desktop mode")):"IE"!=I&&(!I||T||/Browser|Mobi/.test(I))||"Windows CE"!=K&&!/Mobi/i.test(t)?"IE"==I&&j&&"object"==typeof external&&!external?W.unshift("platform preview"):/BlackBerry/.test(T)&&(R=(RegExp(T.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||B)?(K="Device Software "+R,B=null):this!=i&&(j&&v||/Opera/.test(I)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==I&&/OS X (?:\d+\.){2,}/.test(K)||"IE"==I&&(K&&!/^Win/.test(K)&&B>5.5||/Windows XP/.test(K)&&B>8||8==B&&!/Trident/.test(t)))&&!x.test(R=p.call(i,t.replace(x,"")+";"))&&R.name&&(R="ing as "+R.name+((R=R.version)?" "+R:""),x.test(I)?(/IE/.test(R)&&"Mac OS"==K&&(K=null),R="identify"+R):(R="mask"+R,I=P?r(P.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/IE/.test(R)&&(K=null),j||(B=null)),F=["Presto"],W.push(R)):I+=" Mobile",(R=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(R=[parseFloat(R.replace(/\.(\d)$/,".0$1")),R],"Safari"==I&&"+"==R[1].slice(-1)?(I="WebKit Nightly",$="alpha",B=R[1].slice(0,-1)):(B==R[1]||B==(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])&&(B=null),R=[R[0],(/\bChrome\/([\d.]+)/i.exec(t)||0)[1]],!j||/internal|\n/i.test(""+S)&&!R[1]?(F[1]="like Safari",R=R[0],R=400>R?1:500>R?2:526>R?3:533>R?4:534>R?"4+":535>R?5:"5"):(F[1]="like Chrome",R=R[1]||(R=R[0],530>R?1:532>R?2:532.05>R?3:533>R?4:534.03>R?5:534.07>R?6:534.1>R?7:534.13>R?8:534.16>R?9:534.24>R?10:534.3>R?11:535.01>R?12:535.02>R?"13+":535.07>R?15:535.11>R?16:535.19>R?17:536.05>R?18:536.1>R?19:537.01>R?20:"21")),F[1]+=" "+(R+="number"==typeof R?".x":/[.+]/.test(R)?"":"+"),"Safari"==I&&(!B||parseInt(B)>45)&&(B=R)),"Opera"==I&&(R=/(?:zbov|zvav)$/.exec(K))?(I+=" ",W.unshift("desktop mode"),"zvav"==R?(I+="Mini",B=null):I+="Mobile"):"Safari"==I&&/Chrome/.exec(F[1])&&(W.unshift("desktop mode"),I="Chrome Mobile",B=null,/Mac OS X/.test(K)?(G="Apple",K="iOS 4.3+"):K=null),B&&0==B.indexOf(R=/[\d.]+$/.exec(K))&&t.indexOf("/"+R+"-")>-1&&(K=u(K.replace(R,""))),F&&!/Avant|Nook/.test(I)&&(/Browser|Lunascape|Maxthon/.test(I)||/^(?:Adobe|Arora|Midori|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(I)&&F[1])&&(R=F[F.length-1])&&W.push(R),W.length&&(W=["("+W.join("; ")+")"]),G&&T&&T.indexOf(G)<0&&W.push("on "+G),T&&W.push((/^on /.test(W[W.length-1])?"":"on ")+T),K&&(R=/ ([\d.+]+)$/.exec(K),K={architecture:32,family:R?K.replace(R[0],""):K,version:R?R[1]:null,toString:function(){var e=this.version;return this.family+(e?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(R=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(_))&&!/\bi686\b/i.test(_)&&(K&&(K.architecture=64,K.family=K.family.replace(RegExp(" *"+R),"")),I&&(/WOW64/i.test(t)||j&&/\w(?:86|32)$/.test(O.cpuClass||O.platform))&&W.unshift("32-bit")),t||(t=null),{version:I&&B&&(W.unshift(B),B),name:I&&(W.unshift(I),I),os:K?(I&&!(K==(K+"").split(" ")[0]&&(K==I.split(" ")[0]||T))&&W.push(T?"("+K+")":"on "+K),K):{architecture:null,family:null,version:null,toString:function(){return"null"}},description:W.length?W.join(" "):t,layout:F&&F[0],manufacturer:G,prerelease:$,product:T,ua:t,parse:p,toString:C}}var b=e,d="object"==typeof exports&&exports,f="object"==typeof global&&global&&(global==global.global?e=global:global),x=/Opera/,S={}.toString,h=/Java/.test(o(e.java))&&e.java,m=h?"a":"α",g=h?"b":"β",y=e.document||{},M={}.hasOwnProperty,O=e.navigator||{},v=e.operamini||e.opera,P=x.test(P=o(v))?P:v=null,w=this,E=O.userAgent||"";"function"==typeof define&&"object"==typeof define.amd&&define.amd?define([],function(){return p()}):d?i(p(),function(e,t){d[t]=e}):e.platform=p()}(this);