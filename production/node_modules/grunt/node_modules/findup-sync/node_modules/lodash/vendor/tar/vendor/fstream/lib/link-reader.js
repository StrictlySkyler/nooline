function LinkReader(e){var r=this;if(!(r instanceof LinkReader))throw Error("LinkReader must be called as constructor.");if(!("Link"===e.type&&e.Link||"SymbolicLink"===e.type&&e.SymbolicLink))throw Error("Non-link type "+e.type);Reader.call(r,e)}module.exports=LinkReader;var fs=require("../../graceful-fs/graceful-fs.js"),fstream=require("../fstream.js"),inherits=require("../../inherits/inherits.js"),mkdir=require("../../mkdirp"),Reader=require("./reader.js");inherits(LinkReader,Reader),LinkReader.prototype._stat=function(e){var r=this;fs.readlink(r._path,function(i,t){return i?r.error(i):(r.linkpath=r.props.linkpath=t,r.emit("linkpath",t),Reader.prototype._stat.call(r,e),void 0)})},LinkReader.prototype._read=function(){var e=this;e._paused||e._ended||(e.emit("end"),e.emit("close"),e._ended=!0)};