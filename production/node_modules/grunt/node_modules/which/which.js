function which(r,s){if(isAbsolute(r))return s(null,r);var e=(process.env.PATH||"").split(COLON),i=[""];"win32"===process.platform&&(e.push(process.cwd()),i=(process.env.PATHEXT||".EXE").split(COLON),-1!==r.indexOf(".")&&i.unshift("")),function n(t,o){if(t===o)return s(Error("not found: "+r));var c=path.resolve(e[t],r);!function u(r,e){if(r===e)return n(t+1,o);var f=i[r];fs.stat(c+f,function(i,n){return!i&&n&&n.isFile()&&isExe(n.mode,n.uid,n.gid)?s(null,c+f):u(r+1,e)})}(0,i.length)}(0,e.length)}function whichSync(r){var s,e,i,n,t,o,c,u,f;if(isAbsolute(r))return r;for(s=(process.env.PATH||"").split(COLON),e=[""],"win32"===process.platform&&(s.push(process.cwd()),e=(process.env.PATHEXT||".EXE").split(COLON),-1!==r.indexOf(".")&&e.unshift("")),i=0,n=s.length;n>i;i++)for(t=path.join(s[i],r),o=0,c=e.length;c>o;o++){u=t+e[o];try{f=fs.statSync(u)}catch(p){}if(f&&f.isFile()&&isExe(f.mode,f.uid,f.gid))return u}throw Error("not found: "+r)}function absWin(r){if(absUnix(r))return!0;var s=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?([\\\/])?/,e=s.exec(r),i=e[1]||"",n=i&&":"!==i.charAt(1),t=!!e[2]||n;return t}function absUnix(r){return"/"===r.charAt(0)||""===r}var path,fs,COLON,isExe,isAbsolute;module.exports=which,which.sync=whichSync,path=require("path"),COLON="win32"===process.platform?";":":";try{fs=require("graceful-fs")}catch(ex){fs=require("fs")}isExe="win32"==process.platform?function(){return!0}:function(r,s,e){var i=1&r||8&r&&process.getgid&&e===process.getgid()||64&r&&process.getuid&&s===process.getuid();return i},isAbsolute="win32"===process.platform?absWin:absUnix;