var vows=null,assert=null,iconv=require(__dirname+"/../"),baseStrings={empty:"",hi:"ĞŸÑ€Ğ¸Ğ²ĞµÑ‚!",ascii:"\x00\b	\n\f\r !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",rus:"ĞĞ‘Ğ’Ğ“Ğ”Ğ•Ğ–Ğ—Ğ˜Ğ™ĞšĞ›ĞœĞĞĞŸĞ Ğ¡Ğ¢Ğ£Ğ¤Ğ¥Ğ¦Ğ§Ğ¨Ğ©ĞªĞ«Ğ¬Ğ­Ğ®Ğ¯Ğ°Ğ±Ğ²Ğ³Ğ´ĞµĞ¶Ğ·Ğ¸Ğ¹ĞºĞ»Ğ¼Ğ½Ğ¾Ğ¿Ñ€ÑÑ‚ÑƒÑ„Ñ…Ñ†Ñ‡ÑˆÑ‰ÑŠÑ‹ÑŒÑÑÑ",additional1:"Ğ‚Ğƒâ€šÑ“â€â€¦â€ â€¡â‚¬â€°Ğ‰â€¹ĞŠĞŒĞ‹ĞÑ’â€˜â€™â€œâ€â€¢â€“â€”â„¢Ñ™â€ºÑšÑœÑ›ÑŸÂ ĞÑĞˆÂ¤ÒÂ¦Â§ĞÂ©Ğ„Â«Â¬Â­Â®Ğ‡Â°Â±Ğ†Ñ–Ò‘ÂµÂ¶Â·Ñ‘â„–Ñ”Â»Ñ˜Ğ…Ñ•Ñ—",additional2:"â”€â”‚â”Œâ”â””â”˜â”œâ”¤â”¬â”´â”¼â–€â–„â–ˆâ–Œâ–â–‘â–’â–“âŒ â– âˆ™âˆšâ‰ˆâ‰¤â‰¥Â âŒ¡Â°Â²Â·Ã·â•â•‘â•’Ñ‘â•“â•”â••â•–â•—â•˜â•™â•šâ•›â•œâ•â•â•Ÿâ• â•¡Ğâ•¢â•£â•¤â•¥â•¦â•§â•¨â•©â•ªâ•«â•¬Â©",additional3:"Â ĞĞ‚ĞƒĞ„Ğ…Ğ†Ğ‡ĞˆĞ‰ĞŠĞ‹ĞŒÂ­ĞĞâ„–Ñ‘Ñ’Ñ“Ñ”Ñ•Ñ–Ñ—Ñ˜Ñ™ÑšÑ›ÑœÂ§ÑÑŸ",untranslatable:"Â£Ã…Ã§Ã¾Ã¿Â¿"},encodings=[{name:"Win-1251",variations:["win1251","Windows-1251","windows1251","CP1251",1251],encodedStrings:{empty:new Buffer(""),hi:new Buffer("ÃÃ°Ã¨Ã¢Ã¥Ã²!","binary"),ascii:new Buffer(baseStrings.ascii,"binary"),rus:new Buffer("Ã€ÃÃ‚ÃƒÃ„Ã…Ã†Ã‡ÃˆÃ‰ÃŠÃ‹ÃŒÃÃÃÃÃ‘Ã’Ã“Ã”Ã•Ã–Ã—Ã˜Ã™ÃšÃ›ÃœÃÃÃŸÃ Ã¡Ã¢Ã£Ã¤Ã¥Ã¦Ã§Ã¨Ã©ÃªÃ«Ã¬Ã­Ã®Ã¯Ã°Ã±Ã²Ã³Ã´ÃµÃ¶Ã·Ã¸Ã¹ÃºÃ»Ã¼Ã½Ã¾Ã¿","binary"),additional1:new Buffer("Â€ÂÂ‚ÂƒÂ„Â…Â†Â‡ÂˆÂ‰ÂŠÂ‹ÂŒÂÂÂÂÂ‘Â’Â“Â”Â•Â–Â—Â™ÂšÂ›ÂœÂÂÂŸÂ Â¡Â¢Â£Â¤Â¥Â¦Â§Â¨Â©ÂªÂ«Â¬Â­Â®Â¯Â°Â±Â²Â³Â´ÂµÂ¶Â·Â¸Â¹ÂºÂ»Â¼Â½Â¾Â¿","binary")}},{name:"Koi8-R",variations:["koi8r","KOI8-R","cp20866",20866],encodedStrings:{empty:new Buffer(""),hi:new Buffer("Ã°Ã’Ã‰Ã—Ã…Ã”!","binary"),ascii:new Buffer(baseStrings.ascii,"binary"),rus:new Buffer("Ã¡Ã¢Ã·Ã§Ã¤Ã¥Ã¶ÃºÃ©ÃªÃ«Ã¬Ã­Ã®Ã¯Ã°Ã²Ã³Ã´ÃµÃ¦Ã¨Ã£Ã¾Ã»Ã½Ã¿Ã¹Ã¸Ã¼Ã Ã±ÃÃ‚Ã—Ã‡Ã„Ã…Ã–ÃšÃ‰ÃŠÃ‹ÃŒÃÃÃÃÃ’Ã“Ã”Ã•Ã†ÃˆÃƒÃÃ›ÃÃŸÃ™Ã˜ÃœÃ€Ã‘","binary"),additional2:new Buffer("Â€ÂÂ‚ÂƒÂ„Â…Â†Â‡ÂˆÂ‰ÂŠÂ‹ÂŒÂÂÂÂÂ‘Â’Â“Â”Â•Â–Â—Â˜Â™ÂšÂ›ÂœÂÂÂŸÂ Â¡Â¢Â£Â¤Â¥Â¦Â§Â¨Â©ÂªÂ«Â¬Â­Â®Â¯Â°Â±Â²Â³Â´ÂµÂ¶Â·Â¸Â¹ÂºÂ»Â¼Â½Â¾Â¿","binary")}},{name:"ISO 8859-5",variations:["iso88595","ISO-8859-5","ISO 8859-5","cp28595",28595],encodedStrings:{empty:new Buffer(""),hi:new Buffer("Â¿Ã Ã˜Ã’Ã•Ã¢!","binary"),ascii:new Buffer(baseStrings.ascii,"binary"),rus:new Buffer("Â°Â±Â²Â³Â´ÂµÂ¶Â·Â¸Â¹ÂºÂ»Â¼Â½Â¾Â¿Ã€ÃÃ‚ÃƒÃ„Ã…Ã†Ã‡ÃˆÃ‰ÃŠÃ‹ÃŒÃÃÃÃÃ‘Ã’Ã“Ã”Ã•Ã–Ã—Ã˜Ã™ÃšÃ›ÃœÃÃÃŸÃ Ã¡Ã¢Ã£Ã¤Ã¥Ã¦Ã§Ã¨Ã©ÃªÃ«Ã¬Ã­Ã®Ã¯","binary"),additional3:new Buffer("Â Â¡Â¢Â£Â¤Â¥Â¦Â§Â¨Â©ÂªÂ«Â¬Â­Â®Â¯Ã°Ã±Ã²Ã³Ã´ÃµÃ¶Ã·Ã¸Ã¹ÃºÃ»Ã¼Ã½Ã¾Ã¿","binary")}}],testsBatch={};encodings.forEach(function(n){var i=n.variations[0],r="hi",t={"Convert to empty buffer":function(){assert.strictEqual(iconv.toEncoding("",i).toString("binary"),new Buffer("").toString("binary"))},"Convert from empty buffer":function(){assert.strictEqual(iconv.fromEncoding(new Buffer(""),i),"")},"Convert from buffer":function(){for(var r in n.encodedStrings)assert.strictEqual(iconv.fromEncoding(n.encodedStrings[r],i),baseStrings[r])},"Convert to buffer":function(){for(var r in n.encodedStrings)assert.strictEqual(iconv.toEncoding(baseStrings[r],i).toString("binary"),n.encodedStrings[r].toString("binary"))},"Try different variations of encoding":function(){n.variations.forEach(function(i){assert.strictEqual(iconv.fromEncoding(n.encodedStrings[r],i),baseStrings[r]),assert.strictEqual(iconv.toEncoding(baseStrings[r],i).toString("binary"),n.encodedStrings[r].toString("binary"))})},"Untranslatable chars are converted to defaultCharSingleByte":function(){var n=baseStrings.untranslatable.split("").map(function(){return iconv.defaultCharSingleByte}).join("");assert.strictEqual(iconv.toEncoding(baseStrings.untranslatable,i).toString("binary"),n)}};testsBatch[n.name+":"]=t}),vows.describe("Test Cyrillic encodings").addBatch(testsBatch).export(module);