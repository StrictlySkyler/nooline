//     Underscore.js 1.3.1
//     (c) 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Underscore is freely distributable under the MIT license.
//     Portions of Underscore are inspired or borrowed from Prototype,
//     Oliver Steele's Functional, and John Resig's Micro-Templating.
//     For all details and documentation:
//     http://documentcloud.github.com/underscore

(function(){function n(t,r,e){var u,i,c,a,o;if(t===r)return 0!==t||1/t==1/r;if(null==t||null==r)return t===r;if(t._chain&&(t=t._wrapped),r._chain&&(r=r._wrapped),t.isEqual&&I.isFunction(t.isEqual))return t.isEqual(r);if(r.isEqual&&I.isFunction(r.isEqual))return r.isEqual(t);if(u=v.call(t),u!=v.call(r))return!1;switch(u){case"[object String]":return t==r+"";case"[object Number]":return t!=+t?r!=+r:0==t?1/t==1/r:t==+r;case"[object Date]":case"[object Boolean]":return+t==+r;case"[object RegExp]":return t.source==r.source&&t.global==r.global&&t.multiline==r.multiline&&t.ignoreCase==r.ignoreCase}if("object"!=typeof t||"object"!=typeof r)return!1;for(i=e.length;i--;)if(e[i]==t)return!0;if(e.push(t),c=0,a=!0,"[object Array]"==u){if(c=t.length,a=c==r.length)for(;c--&&(a=c in t==c in r&&n(t[c],r[c],e)););}else{if("constructor"in t!="constructor"in r||t.constructor!=r.constructor)return!1;for(o in t)if(I.has(t,o)&&(c++,!(a=I.has(r,o)&&n(t[o],r[o],e))))break;if(a){for(o in r)if(I.has(r,o)&&!c--)break;a=!c}}return e.pop(),a}var t,r,e,u,i,c,a,o,l,f=this,s=f._,p={},h=Array.prototype,g=Object.prototype,d=Function.prototype,m=h.slice,y=h.unshift,v=g.toString,b=g.hasOwnProperty,x=h.forEach,_=h.map,j=h.reduce,A=h.reduceRight,E=h.filter,w=h.every,O=h.some,q=h.indexOf,F=h.lastIndexOf,S=Array.isArray,R=Object.keys,k=d.bind,I=function(n){return new a(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=I),exports._=I):f._=I,I.VERSION="1.3.1",t=I.each=I.forEach=function(n,t,r){var e,u,i;if(null!=n)if(x&&n.forEach===x)n.forEach(t,r);else if(n.length===+n.length){for(e=0,u=n.length;u>e;e++)if(e in n&&t.call(r,n[e],e,n)===p)return}else for(i in n)if(I.has(n,i)&&t.call(r,n[i],i,n)===p)return},I.map=I.collect=function(n,r,e){var u=[];return null==n?u:_&&n.map===_?n.map(r,e):(t(n,function(n,t,i){u[u.length]=r.call(e,n,t,i)}),n.length===+n.length&&(u.length=n.length),u)},I.reduce=I.foldl=I.inject=function(n,r,e,u){var i=arguments.length>2;if(null==n&&(n=[]),j&&n.reduce===j)return u&&(r=I.bind(r,u)),i?n.reduce(r,e):n.reduce(r);if(t(n,function(n,t,c){i?e=r.call(u,e,n,t,c):(e=n,i=!0)}),!i)throw new TypeError("Reduce of empty array with no initial value");return e},I.reduceRight=I.foldr=function(n,t,r,e){var u,i=arguments.length>2;return null==n&&(n=[]),A&&n.reduceRight===A?(e&&(t=I.bind(t,e)),i?n.reduceRight(t,r):n.reduceRight(t)):(u=I.toArray(n).reverse(),e&&!i&&(t=I.bind(t,e)),i?I.reduce(u,t,r,e):I.reduce(u,t))},I.find=I.detect=function(n,t,e){var u;return r(n,function(n,r,i){return t.call(e,n,r,i)?(u=n,!0):void 0}),u},I.filter=I.select=function(n,r,e){var u=[];return null==n?u:E&&n.filter===E?n.filter(r,e):(t(n,function(n,t,i){r.call(e,n,t,i)&&(u[u.length]=n)}),u)},I.reject=function(n,r,e){var u=[];return null==n?u:(t(n,function(n,t,i){r.call(e,n,t,i)||(u[u.length]=n)}),u)},I.every=I.all=function(n,r,e){var u=!0;return null==n?u:w&&n.every===w?n.every(r,e):(t(n,function(n,t,i){return(u=u&&r.call(e,n,t,i))?void 0:p}),u)},r=I.some=I.any=function(n,r,e){r||(r=I.identity);var u=!1;return null==n?u:O&&n.some===O?n.some(r,e):(t(n,function(n,t,i){return u||(u=r.call(e,n,t,i))?p:void 0}),!!u)},I.include=I.contains=function(n,t){var e=!1;return null==n?e:q&&n.indexOf===q?-1!=n.indexOf(t):e=r(n,function(n){return n===t})},I.invoke=function(n,t){var r=m.call(arguments,2);return I.map(n,function(n){return(I.isFunction(t)?t||n:n[t]).apply(n,r)})},I.pluck=function(n,t){return I.map(n,function(n){return n[t]})},I.max=function(n,r,e){if(!r&&I.isArray(n))return Math.max.apply(Math,n);if(!r&&I.isEmpty(n))return-1/0;var u={computed:-1/0};return t(n,function(n,t,i){var c=r?r.call(e,n,t,i):n;c>=u.computed&&(u={value:n,computed:c})}),u.value},I.min=function(n,r,e){if(!r&&I.isArray(n))return Math.min.apply(Math,n);if(!r&&I.isEmpty(n))return 1/0;var u={computed:1/0};return t(n,function(n,t,i){var c=r?r.call(e,n,t,i):n;c<u.computed&&(u={value:n,computed:c})}),u.value},I.shuffle=function(n){var r,e=[];return t(n,function(n,t){0==t?e[0]=n:(r=Math.floor(Math.random()*(t+1)),e[t]=e[r],e[r]=n)}),e},I.sortBy=function(n,t,r){return I.pluck(I.map(n,function(n,e,u){return{value:n,criteria:t.call(r,n,e,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;return e>r?-1:r>e?1:0}),"value")},I.groupBy=function(n,r){var e={},u=I.isFunction(r)?r:function(n){return n[r]};return t(n,function(n,t){var r=u(n,t);(e[r]||(e[r]=[])).push(n)}),e},I.sortedIndex=function(n,t,r){var e,u,i;for(r||(r=I.identity),e=0,u=n.length;u>e;)i=e+u>>1,r(n[i])<r(t)?e=i+1:u=i;return e},I.toArray=function(n){return n?n.toArray?n.toArray():I.isArray(n)?m.call(n):I.isArguments(n)?m.call(n):I.values(n):[]},I.size=function(n){return I.toArray(n).length},I.first=I.head=function(n,t,r){return null==t||r?n[0]:m.call(n,0,t)},I.initial=function(n,t,r){return m.call(n,0,n.length-(null==t||r?1:t))},I.last=function(n,t,r){return null==t||r?n[n.length-1]:m.call(n,Math.max(n.length-t,0))},I.rest=I.tail=function(n,t,r){return m.call(n,null==t||r?1:t)},I.compact=function(n){return I.filter(n,function(n){return!!n})},I.flatten=function(n,t){return I.reduce(n,function(n,r){return I.isArray(r)?n.concat(t?r:I.flatten(r)):(n[n.length]=r,n)},[])},I.without=function(n){return I.difference(n,m.call(arguments,1))},I.uniq=I.unique=function(n,t,r){var e=r?I.map(n,r):n,u=[];return I.reduce(e,function(r,e,i){return 0!=i&&(t===!0?I.last(r)==e:I.include(r,e))||(r[r.length]=e,u[u.length]=n[i]),r},[]),u},I.union=function(){return I.uniq(I.flatten(arguments,!0))},I.intersection=I.intersect=function(n){var t=m.call(arguments,1);return I.filter(I.uniq(n),function(n){return I.every(t,function(t){return I.indexOf(t,n)>=0})})},I.difference=function(n){var t=I.flatten(m.call(arguments,1));return I.filter(n,function(n){return!I.include(t,n)})},I.zip=function(){var n,t=m.call(arguments),r=I.max(I.pluck(t,"length")),e=Array(r);for(n=0;r>n;n++)e[n]=I.pluck(t,""+n);return e},I.indexOf=function(n,t,r){if(null==n)return-1;var e,u;if(r)return e=I.sortedIndex(n,t),n[e]===t?e:-1;if(q&&n.indexOf===q)return n.indexOf(t);for(e=0,u=n.length;u>e;e++)if(e in n&&n[e]===t)return e;return-1},I.lastIndexOf=function(n,t){if(null==n)return-1;if(F&&n.lastIndexOf===F)return n.lastIndexOf(t);for(var r=n.length;r--;)if(r in n&&n[r]===t)return r;return-1},I.range=function(n,t,r){var e,u,i;for(arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1,e=Math.max(Math.ceil((t-n)/r),0),u=0,i=Array(e);e>u;)i[u++]=n,n+=r;return i},e=function(){},I.bind=function(n,t){var r,u;if(n.bind===k&&k)return k.apply(n,m.call(arguments,1));if(!I.isFunction(n))throw new TypeError;return u=m.call(arguments,2),r=function(){var i,c;return this instanceof r?(e.prototype=n.prototype,i=new e,c=n.apply(i,u.concat(m.call(arguments))),Object(c)===c?c:i):n.apply(t,u.concat(m.call(arguments)))}},I.bindAll=function(n){var r=m.call(arguments,1);return 0==r.length&&(r=I.functions(n)),t(r,function(t){n[t]=I.bind(n[t],n)}),n},I.memoize=function(n,t){var r={};return t||(t=I.identity),function(){var e=t.apply(this,arguments);return I.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},I.delay=function(n,t){var r=m.call(arguments,2);return setTimeout(function(){return n.apply(n,r)},t)},I.defer=function(n){return I.delay.apply(I,[n,1].concat(m.call(arguments,1)))},I.throttle=function(n,t){var r,e,u,i,c,a=I.debounce(function(){c=i=!1},t);return function(){r=this,e=arguments;var o=function(){u=null,c&&n.apply(r,e),a()};u||(u=setTimeout(o,t)),i?c=!0:n.apply(r,e),a(),i=!0}},I.debounce=function(n,t){var r;return function(){var e=this,u=arguments,i=function(){r=null,n.apply(e,u)};clearTimeout(r),r=setTimeout(i,t)}},I.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments))}},I.wrap=function(n,t){return function(){var r=[n].concat(m.call(arguments,0));return t.apply(this,r)}},I.compose=function(){var n=arguments;return function(){var t,r=arguments;for(t=n.length-1;t>=0;t--)r=[n[t].apply(this,r)];return r[0]}},I.after=function(n,t){return 0>=n?t():function(){return--n<1?t.apply(this,arguments):void 0}},I.keys=R||function(n){var t,r;if(n!==Object(n))throw new TypeError("Invalid object");t=[];for(r in n)I.has(n,r)&&(t[t.length]=r);return t},I.values=function(n){return I.map(n,I.identity)},I.functions=I.methods=function(n){var t,r=[];for(t in n)I.isFunction(n[t])&&r.push(t);return r.sort()},I.extend=function(n){return t(m.call(arguments,1),function(t){for(var r in t)n[r]=t[r]}),n},I.defaults=function(n){return t(m.call(arguments,1),function(t){for(var r in t)null==n[r]&&(n[r]=t[r])}),n},I.clone=function(n){return I.isObject(n)?I.isArray(n)?n.slice():I.extend({},n):n},I.tap=function(n,t){return t(n),n},I.isEqual=function(t,r){return n(t,r,[])},I.isEmpty=function(n){if(I.isArray(n)||I.isString(n))return 0===n.length;for(var t in n)if(I.has(n,t))return!1;return!0},I.isElement=function(n){return!(!n||1!=n.nodeType)},I.isArray=S||function(n){return"[object Array]"==v.call(n)},I.isObject=function(n){return n===Object(n)},I.isArguments=function(n){return"[object Arguments]"==v.call(n)},I.isArguments(arguments)||(I.isArguments=function(n){return!(!n||!I.has(n,"callee"))}),I.isFunction=function(n){return"[object Function]"==v.call(n)},I.isString=function(n){return"[object String]"==v.call(n)},I.isNumber=function(n){return"[object Number]"==v.call(n)},I.isNaN=function(n){return n!==n},I.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"==v.call(n)},I.isDate=function(n){return"[object Date]"==v.call(n)},I.isRegExp=function(n){return"[object RegExp]"==v.call(n)},I.isNull=function(n){return null===n},I.isUndefined=function(n){return void 0===n},I.has=function(n,t){return b.call(n,t)},I.noConflict=function(){return f._=s,this},I.identity=function(n){return n},I.times=function(n,t,r){for(var e=0;n>e;e++)t.call(r,e)},I.escape=function(n){return(""+n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},I.mixin=function(n){t(I.functions(n),function(t){l(t,I[t]=n[t])})},u=0,I.uniqueId=function(n){var t=u++;return n?n+t:t},I.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},i=/.^/,c=function(n){return n.replace(/\\\\/g,"\\").replace(/\\'/g,"'")},I.template=function(n,t){var r=I.templateSettings,e="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+n.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(r.escape||i,function(n,t){return"',_.escape("+c(t)+"),'"}).replace(r.interpolate||i,function(n,t){return"',"+c(t)+",'"}).replace(r.evaluate||i,function(n,t){return"');"+c(t).replace(/[\r\n\t]/g," ")+";__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",u=Function("obj","_",e);return t?u(t,I):function(n){return u.call(this,n,I)}},I.chain=function(n){return I(n).chain()},a=function(n){this._wrapped=n},I.prototype=a.prototype,o=function(n,t){return t?I(n).chain():n},l=function(n,t){a.prototype[n]=function(){var n=m.call(arguments);return y.call(n,this._wrapped),o(t.apply(I,n),this._chain)}},I.mixin(I),t(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=h[n];a.prototype[n]=function(){var r,e=this._wrapped;return t.apply(e,arguments),r=e.length,"shift"!=n&&"splice"!=n||0!==r||delete e[0],o(e,this._chain)}}),t(["concat","join","slice"],function(n){var t=h[n];a.prototype[n]=function(){return o(t.apply(this._wrapped,arguments),this._chain)}}),a.prototype.chain=function(){return this._chain=!0,this},a.prototype.value=function(){return this._wrapped}}).call(this);