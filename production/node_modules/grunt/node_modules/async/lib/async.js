!function(){var n,t,r,e,u,c,o,i,l,f,a,s,p={},h=this,y=h.async;"undefined"!=typeof module&&module.exports?module.exports=p:h.async=p,p.noConflict=function(){return h.async=y,p},n=function(n,t){if(n.forEach)return n.forEach(t);for(var r=0;r<n.length;r+=1)t(n[r],r,n)},t=function(t,r){if(t.map)return t.map(r);var e=[];return n(t,function(n,t,u){e.push(r(n,t,u))}),e},r=function(t,r,e){return t.reduce?t.reduce(r,e):(n(t,function(n,t,u){e=r(e,n,t,u)}),e)},e=function(n){var t,r;if(Object.keys)return Object.keys(n);t=[];for(r in n)n.hasOwnProperty(r)&&t.push(r);return t},p.nextTick="undefined"!=typeof process&&process.nextTick?process.nextTick:function(n){setTimeout(n,0)},p.forEach=function(t,r,e){if(e=e||function(){},!t.length)return e();var u=0;n(t,function(n){r(n,function(n){n?(e(n),e=function(){}):(u+=1,u===t.length&&e(null))})})},p.forEachSeries=function(n,t,r){var e,u;return r=r||function(){},n.length?(e=0,u=function(){t(n[e],function(t){t?(r(t),r=function(){}):(e+=1,e===n.length?r(null):u())})},u(),void 0):r()},p.forEachLimit=function(n,t,r,e){var u,c,o;return e=e||function(){},!n.length||0>=t?e():(u=0,c=0,o=0,function i(){if(u===n.length)return e();for(;t>o&&c<n.length;)c+=1,o+=1,r(n[c-1],function(t){t?(e(t),e=function(){}):(u+=1,o-=1,u===n.length?e():i())})}(),void 0)},u=function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[p.forEach].concat(t))}},c=function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(null,[p.forEachSeries].concat(t))}},o=function(n,r,e,u){var c=[];r=t(r,function(n,t){return{index:t,value:n}}),n(r,function(n,t){e(n.value,function(r,e){c[n.index]=e,t(r)})},function(n){u(n,c)})},p.map=u(o),p.mapSeries=c(o),p.reduce=function(n,t,r,e){p.forEachSeries(n,function(n,e){r(t,n,function(n,r){t=r,e(n)})},function(n){e(n,t)})},p.inject=p.reduce,p.foldl=p.reduce,p.reduceRight=function(n,r,e,u){var c=t(n,function(n){return n}).reverse();p.reduce(c,r,e,u)},p.foldr=p.reduceRight,i=function(n,r,e,u){var c=[];r=t(r,function(n,t){return{index:t,value:n}}),n(r,function(n,t){e(n.value,function(r){r&&c.push(n),t()})},function(){u(t(c.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})},p.filter=u(i),p.filterSeries=c(i),p.select=p.filter,p.selectSeries=p.filterSeries,l=function(n,r,e,u){var c=[];r=t(r,function(n,t){return{index:t,value:n}}),n(r,function(n,t){e(n.value,function(r){r||c.push(n),t()})},function(){u(t(c.sort(function(n,t){return n.index-t.index}),function(n){return n.value}))})},p.reject=u(l),p.rejectSeries=c(l),f=function(n,t,r,e){n(t,function(n,t){r(n,function(r){r?(e(n),e=function(){}):t()})},function(){e()})},p.detect=u(f),p.detectSeries=c(f),p.some=function(n,t,r){p.forEach(n,function(n,e){t(n,function(n){n&&(r(!0),r=function(){}),e()})},function(){r(!1)})},p.any=p.some,p.every=function(n,t,r){p.forEach(n,function(n,e){t(n,function(n){n||(r(!1),r=function(){}),e()})},function(){r(!0)})},p.all=p.every,p.sortBy=function(n,r,e){p.map(n,function(n,t){r(n,function(r,e){r?t(r):t(null,{value:n,criteria:e})})},function(n,r){if(n)return e(n);var u=function(n,t){var r=n.criteria,e=t.criteria;return e>r?-1:r>e?1:0};e(null,t(r.sort(u),function(n){return n.value}))})},p.auto=function(t,u){var c,o,i,l,f,a;return u=u||function(){},c=e(t),c.length?(o={},i=[],l=function(n){i.unshift(n)},f=function(n){for(var t=0;t<i.length;t+=1)if(i[t]===n)return i.splice(t,1),void 0},a=function(){n(i.slice(0),function(n){n()})},l(function(){e(o).length===c.length&&(u(null,o),u=function(){})}),n(c,function(n){var e,c=t[n]instanceof Function?[t[n]]:t[n],i=function(t){if(t)u(t),u=function(){};else{var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),o[n]=r,a()}},s=c.slice(0,Math.abs(c.length-1))||[],p=function(){return r(s,function(n,t){return n&&o.hasOwnProperty(t)},!0)&&!o.hasOwnProperty(n)};p()?c[c.length-1](i,o):(e=function(){p()&&(f(e),c[c.length-1](i,o))},l(e))}),void 0):u(null)},p.waterfall=function(n,t){if(t=t||function(){},!n.length)return t();var r=function(n){return function(e){var u,c;e?(t(e),t=function(){}):(u=Array.prototype.slice.call(arguments,1),c=n.next(),c?u.push(r(c)):u.push(t),p.nextTick(function(){n.apply(null,u)}))}};r(p.iterator(n))()},p.parallel=function(n,t){if(t=t||function(){},n.constructor===Array)p.map(n,function(n,t){n&&n(function(n){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),t.call(null,n,r)})},t);else{var r={};p.forEach(e(n),function(t,e){n[t](function(n){var u=Array.prototype.slice.call(arguments,1);u.length<=1&&(u=u[0]),r[t]=u,e(n)})},function(n){t(n,r)})}},p.series=function(n,t){if(t=t||function(){},n.constructor===Array)p.mapSeries(n,function(n,t){n&&n(function(n){var r=Array.prototype.slice.call(arguments,1);r.length<=1&&(r=r[0]),t.call(null,n,r)})},t);else{var r={};p.forEachSeries(e(n),function(t,e){n[t](function(n){var u=Array.prototype.slice.call(arguments,1);u.length<=1&&(u=u[0]),r[t]=u,e(n)})},function(n){t(n,r)})}},p.iterator=function(n){var t=function(r){var e=function(){return n.length&&n[r].apply(null,arguments),e.next()};return e.next=function(){return r<n.length-1?t(r+1):null},e};return t(0)},p.apply=function(n){var t=Array.prototype.slice.call(arguments,1);return function(){return n.apply(null,t.concat(Array.prototype.slice.call(arguments)))}},a=function(n,t,r,e){var u=[];n(t,function(n,t){r(n,function(n,r){u=u.concat(r||[]),t(n)})},function(n){e(n,u)})},p.concat=u(a),p.concatSeries=c(a),p.whilst=function(n,t,r){n()?t(function(e){return e?r(e):(p.whilst(n,t,r),void 0)}):r()},p.until=function(n,t,r){n()?r():t(function(e){return e?r(e):(p.until(n,t,r),void 0)})},p.queue=function(t,r){var e=0,u={tasks:[],concurrency:r,saturated:null,empty:null,drain:null,push:function(t,e){t.constructor!==Array&&(t=[t]),n(t,function(n){u.tasks.push({data:n,callback:"function"==typeof e?e:null}),u.saturated&&u.tasks.length==r&&u.saturated(),p.nextTick(u.process)})},process:function(){if(e<u.concurrency&&u.tasks.length){var n=u.tasks.shift();u.empty&&0==u.tasks.length&&u.empty(),e+=1,t(n.data,function(){e-=1,n.callback&&n.callback.apply(n,arguments),u.drain&&0==u.tasks.length+e&&u.drain(),u.process()})}},length:function(){return u.tasks.length},running:function(){return e}};return u},s=function(t){return function(r){var e=Array.prototype.slice.call(arguments,1);r.apply(null,e.concat([function(r){var e=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(r?console.error&&console.error(r):console[t]&&n(e,function(n){console[t](n)}))}]))}},p.log=s("log"),p.dir=s("dir"),p.memoize=function(n,t){var r,e={},u={};return t=t||function(n){return n},r=function(){var r=Array.prototype.slice.call(arguments),c=r.pop(),o=t.apply(null,r);o in e?c.apply(null,e[o]):o in u?u[o].push(c):(u[o]=[c],n.apply(null,r.concat([function(){var n,t,r;for(e[o]=arguments,n=u[o],delete u[o],t=0,r=n.length;r>t;t++)n[t].apply(null,arguments)}])))},r.unmemoized=n,r},p.unmemoize=function(n){return function(){return(n.unmemoized||n).apply(null,arguments)}}}();