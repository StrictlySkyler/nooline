function rimraf(r,t){if(!t)throw Error("No callback passed to rimraf()");var i=0;rimraf_(r,function n(o){if(o){if("EBUSY"===o.code&&i<exports.BUSYTRIES_MAX){i++;var e=100*i;return setTimeout(function(){rimraf_(r,n)},e)}if("EMFILE"===o.code&&timeout<exports.EMFILE_MAX)return setTimeout(function(){rimraf_(r,n)},timeout++);"ENOENT"===o.code&&(o=null)}timeout=0,t(o)})}function rimraf_(r,t){fs[lstat](r,function(i,n){return i?"ENOENT"===i.code?t():t(i):rm_(r,n,!1,t)})}function writable(r){var t=r.mode||511,i=myUid(),n=myGid();return 2&t||n===r.gid&&16&t||i===r.uid&&128&t}function rm_(r,t,i,n){return i||writable(t)?t.isDirectory()?(fs.readdir(r,function(t,i){return t?n(t):(asyncForEach(i.map(function(t){return path.join(r,t)}),function(r,t){rimraf(r,t)},function(t){return t?n(t):(fs.rmdir(r,n),void 0)}),void 0)}),void 0):fs.unlink(r,n):fs.chmod(r,146|t.mode,function(i){return i?n(i):(rm_(r,t,!0,n),void 0)})}function asyncForEach(r,t,i){r.length||i();var n=r.length,o=null;r.forEach(function(r){t(r,function(r){return o?void 0:r?i(o=r):0===--n?i():void 0})})}function rimrafSync(r){try{var t=fs[lstatSync](r)}catch(i){if("ENOENT"===i.code)return;throw i}return writable(t)||fs.chmodSync(r,146|t.mode),t.isDirectory()?(fs.readdirSync(r).forEach(function(t){rimrafSync(path.join(r,t))}),fs.rmdirSync(r),void 0):fs.unlinkSync(r)}var path,fs,lstat,v,lstatSync,timeout,myGid,myUid;module.exports=rimraf,rimraf.sync=rimrafSync,path=require("path");try{fs=require("graceful-fs")}catch(er){fs=require("fs")}lstat="lstat","win32"===process.platform&&(v=process.version.replace(/^v/,"").split(/\.|-/).map(Number),0===v[0]&&(v[1]<7||7==v[1]&&v[2]<9)&&(lstat="stat")),fs[lstat]||(lstat="stat"),lstatSync=lstat+"Sync",timeout=0,exports.EMFILE_MAX=1e3,exports.BUSYTRIES_MAX=3,myGid=function r(){var t=process.getgid&&process.getgid();return r=function(){return t},t},myUid=function t(){var r=process.getuid&&process.getuid();return t=function(){return r},r};