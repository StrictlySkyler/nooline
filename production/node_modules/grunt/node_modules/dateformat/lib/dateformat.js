/*
 * Date Format 1.2.3
 * (c) 2007-2009 Steven Levithan <stevenlevithan.com>
 * MIT license
 *
 * Includes enhancements by Scott Trenda <scott.trenda.net>
 * and Kris Kowal <cixar.com/~kris.kowal/>
 *
 * Accepts a date, a mask, or a date and a mask.
 * Returns a formatted version of the given date.
 * The date defaults to the current date/time.
 * The mask defaults to dateFormat.masks.default.
 */

var dateFormat=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZW]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/[^-+\dA-Z]/g,m=function(e,t){for(e+="",t=t||2;e.length<t;)e="0"+e;return e},d=function(e){var t,a,m,d=new Date(e.getFullYear(),e.getMonth(),e.getDate());return d.setDate(d.getDate()-(d.getDay()+6)%7+3),t=new Date(d.getFullYear(),0,4),t.setDate(t.getDate()-(t.getDay()+6)%7+3),a=d.getTimezoneOffset()/t.getTimezoneOffset()-1,d.setHours(d.getHours()+a),m=(d-t)/6048e5,1+m};return function(n,s,r){var y,o,i,u,l,M,T,g,h,c,D,f,p=dateFormat;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(n)||/\d/.test(n)||(s=n,n=void 0),n=n||new Date,n instanceof Date||(n=new Date(n)),isNaN(n))throw TypeError("Invalid date");return s=(p.masks[s]||s||p.masks["default"])+"","UTC:"==s.slice(0,4)&&(s=s.slice(4),r=!0),y=r?"getUTC":"get",o=n[y+"Date"](),i=n[y+"Day"](),u=n[y+"Month"](),l=n[y+"FullYear"](),M=n[y+"Hours"](),T=n[y+"Minutes"](),g=n[y+"Seconds"](),h=n[y+"Milliseconds"](),c=r?0:n.getTimezoneOffset(),D=d(n),f={d:o,dd:m(o),ddd:p.i18n.dayNames[i],dddd:p.i18n.dayNames[i+7],m:u+1,mm:m(u+1),mmm:p.i18n.monthNames[u],mmmm:p.i18n.monthNames[u+12],yy:(l+"").slice(2),yyyy:l,h:M%12||12,hh:m(M%12||12),H:M,HH:m(M),M:T,MM:m(T),s:g,ss:m(g),l:m(h,3),L:m(h>99?Math.round(h/10):h),t:12>M?"a":"p",tt:12>M?"am":"pm",T:12>M?"A":"P",TT:12>M?"AM":"PM",Z:r?"UTC":((n+"").match(t)||[""]).pop().replace(a,""),o:(c>0?"-":"+")+m(100*Math.floor(Math.abs(c)/60)+Math.abs(c)%60,4),S:["th","st","nd","rd"][o%10>3?0:(10!=o%100-o%10)*o%10],W:D},s.replace(e,function(e){return e in f?f[e]:e.slice(1,e.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},"undefined"!=typeof exports&&(module.exports=dateFormat);