(function(){var n,e,r,t,o,i,u,s,c,$;n=null.Parser,$=/^function\s*\(\)\s*\{\s*return\s*([\s\S]*);\s*\}/,i=function(n,e,r){var t;return n=n.replace(/\s{2,}/g," "),e?(e=(t=$.exec(e))?t[1]:"("+e+"())",e=e.replace(/\bnew /g,"$&yy."),e=e.replace(/\b(?:Block\.wrap|extend)\b/g,"yy.$&"),[n,"$$ = "+e+";",r]):[n,"$$ = $1;",r]},t={Root:[i("",function(){return new Block}),i("Body"),i("Block TERMINATOR")],Body:[i("Line",function(){return Block.wrap([$1])}),i("Body TERMINATOR Line",function(){return $1.push($3)}),i("Body TERMINATOR")],Line:[i("Expression"),i("Statement")],Statement:[i("Return"),i("Comment"),i("STATEMENT",function(){return new Literal($1)})],Expression:[i("Value"),i("Invocation"),i("Code"),i("Operation"),i("Assign"),i("If"),i("Try"),i("While"),i("For"),i("Switch"),i("Class"),i("Throw")],Block:[i("INDENT OUTDENT",function(){return new Block}),i("INDENT Body OUTDENT",function(){return $2})],Identifier:[i("IDENTIFIER",function(){return new Literal($1)})],AlphaNumeric:[i("NUMBER",function(){return new Literal($1)}),i("STRING",function(){return new Literal($1)})],Literal:[i("AlphaNumeric"),i("JS",function(){return new Literal($1)}),i("REGEX",function(){return new Literal($1)}),i("DEBUGGER",function(){return new Literal($1)}),i("UNDEFINED",function(){return new Undefined}),i("NULL",function(){return new Null}),i("BOOL",function(){return new Bool($1)})],Assign:[i("Assignable = Expression",function(){return new Assign($1,$3)}),i("Assignable = TERMINATOR Expression",function(){return new Assign($1,$4)}),i("Assignable = INDENT Expression OUTDENT",function(){return new Assign($1,$4)})],AssignObj:[i("ObjAssignable",function(){return new Value($1)}),i("ObjAssignable : Expression",function(){return new Assign(new Value($1),$3,"object")}),i("ObjAssignable :       INDENT Expression OUTDENT",function(){return new Assign(new Value($1),$4,"object")}),i("Comment")],ObjAssignable:[i("Identifier"),i("AlphaNumeric"),i("ThisProperty")],Return:[i("RETURN Expression",function(){return new Return($2)}),i("RETURN",function(){return new Return})],Comment:[i("HERECOMMENT",function(){return new Comment($1)})],Code:[i("PARAM_START ParamList PARAM_END FuncGlyph Block",function(){return new Code($2,$5,$4)}),i("FuncGlyph Block",function(){return new Code([],$2,$1)})],FuncGlyph:[i("->",function(){return"func"}),i("=>",function(){return"boundfunc"})],OptComma:[i(""),i(",")],ParamList:[i("",function(){return[]}),i("Param",function(){return[$1]}),i("ParamList , Param",function(){return $1.concat($3)}),i("ParamList OptComma TERMINATOR Param",function(){return $1.concat($4)}),i("ParamList OptComma INDENT ParamList OptComma OUTDENT",function(){return $1.concat($4)})],Param:[i("ParamVar",function(){return new Param($1)}),i("ParamVar ...",function(){return new Param($1,null,!0)}),i("ParamVar = Expression",function(){return new Param($1,$3)})],ParamVar:[i("Identifier"),i("ThisProperty"),i("Array"),i("Object")],Splat:[i("Expression ...",function(){return new Splat($1)})],SimpleAssignable:[i("Identifier",function(){return new Value($1)}),i("Value Accessor",function(){return $1.add($2)}),i("Invocation Accessor",function(){return new Value($1,[].concat($2))}),i("ThisProperty")],Assignable:[i("SimpleAssignable"),i("Array",function(){return new Value($1)}),i("Object",function(){return new Value($1)})],Value:[i("Assignable"),i("Literal",function(){return new Value($1)}),i("Parenthetical",function(){return new Value($1)}),i("Range",function(){return new Value($1)}),i("This")],Accessor:[i(".  Identifier",function(){return new Access($2)}),i("?. Identifier",function(){return new Access($2,"soak")}),i(":: Identifier",function(){return[new Access(new Literal("prototype")),new Access($2)]}),i("::",function(){return new Access(new Literal("prototype"))}),i("Index")],Index:[i("INDEX_START IndexValue INDEX_END",function(){return $2}),i("INDEX_SOAK  Index",function(){return extend($2,{soak:!0})})],IndexValue:[i("Expression",function(){return new Index($1)}),i("Slice",function(){return new Slice($1)})],Object:[i("{ AssignList OptComma }",function(){return new Obj($2,$1.generated)})],AssignList:[i("",function(){return[]}),i("AssignObj",function(){return[$1]}),i("AssignList , AssignObj",function(){return $1.concat($3)}),i("AssignList OptComma TERMINATOR AssignObj",function(){return $1.concat($4)}),i("AssignList OptComma INDENT AssignList OptComma OUTDENT",function(){return $1.concat($4)})],Class:[i("CLASS",function(){return new Class}),i("CLASS Block",function(){return new Class(null,null,$2)}),i("CLASS EXTENDS Expression",function(){return new Class(null,$3)}),i("CLASS EXTENDS Expression Block",function(){return new Class(null,$3,$4)}),i("CLASS SimpleAssignable",function(){return new Class($2)}),i("CLASS SimpleAssignable Block",function(){return new Class($2,null,$3)}),i("CLASS SimpleAssignable EXTENDS Expression",function(){return new Class($2,$4)}),i("CLASS SimpleAssignable EXTENDS Expression Block",function(){return new Class($2,$4,$5)})],Invocation:[i("Value OptFuncExist Arguments",function(){return new Call($1,$3,$2)}),i("Invocation OptFuncExist Arguments",function(){return new Call($1,$3,$2)}),i("SUPER",function(){return new Call("super",[new Splat(new Literal("arguments"))])}),i("SUPER Arguments",function(){return new Call("super",$2)})],OptFuncExist:[i("",function(){return!1}),i("FUNC_EXIST",function(){return!0})],Arguments:[i("CALL_START CALL_END",function(){return[]}),i("CALL_START ArgList OptComma CALL_END",function(){return $2})],This:[i("THIS",function(){return new Value(new Literal("this"))}),i("@",function(){return new Value(new Literal("this"))})],ThisProperty:[i("@ Identifier",function(){return new Value(new Literal("this"),[new Access($2)],"this")})],Array:[i("[ ]",function(){return new Arr([])}),i("[ ArgList OptComma ]",function(){return new Arr($2)})],RangeDots:[i("..",function(){return"inclusive"}),i("...",function(){return"exclusive"})],Range:[i("[ Expression RangeDots Expression ]",function(){return new Range($2,$4,$3)})],Slice:[i("Expression RangeDots Expression",function(){return new Range($1,$3,$2)}),i("Expression RangeDots",function(){return new Range($1,null,$2)}),i("RangeDots Expression",function(){return new Range(null,$2,$1)}),i("RangeDots",function(){return new Range(null,null,$1)})],ArgList:[i("Arg",function(){return[$1]}),i("ArgList , Arg",function(){return $1.concat($3)}),i("ArgList OptComma TERMINATOR Arg",function(){return $1.concat($4)}),i("INDENT ArgList OptComma OUTDENT",function(){return $2}),i("ArgList OptComma INDENT ArgList OptComma OUTDENT",function(){return $1.concat($4)})],Arg:[i("Expression"),i("Splat")],SimpleArgs:[i("Expression"),i("SimpleArgs , Expression",function(){return[].concat($1,$3)})],Try:[i("TRY Block",function(){return new Try($2)}),i("TRY Block Catch",function(){return new Try($2,$3[0],$3[1])}),i("TRY Block FINALLY Block",function(){return new Try($2,null,null,$4)}),i("TRY Block Catch FINALLY Block",function(){return new Try($2,$3[0],$3[1],$5)})],Catch:[i("CATCH Identifier Block",function(){return[$2,$3]})],Throw:[i("THROW Expression",function(){return new Throw($2)})],Parenthetical:[i("( Body )",function(){return new Parens($2)}),i("( INDENT Body OUTDENT )",function(){return new Parens($3)})],WhileSource:[i("WHILE Expression",function(){return new While($2)}),i("WHILE Expression WHEN Expression",function(){return new While($2,{guard:$4})}),i("UNTIL Expression",function(){return new While($2,{invert:!0})}),i("UNTIL Expression WHEN Expression",function(){return new While($2,{invert:!0,guard:$4})})],While:[i("WhileSource Block",function(){return $1.addBody($2)}),i("Statement  WhileSource",function(){return $2.addBody(Block.wrap([$1]))}),i("Expression WhileSource",function(){return $2.addBody(Block.wrap([$1]))}),i("Loop",function(){return $1})],Loop:[i("LOOP Block",function(){return new While(new Literal("true")).addBody($2)}),i("LOOP Expression",function(){return new While(new Literal("true")).addBody(Block.wrap([$2]))})],For:[i("Statement  ForBody",function(){return new For($1,$2)}),i("Expression ForBody",function(){return new For($1,$2)}),i("ForBody    Block",function(){return new For($2,$1)})],ForBody:[i("FOR Range",function(){return{source:new Value($2)}}),i("ForStart ForSource",function(){return $2.own=$1.own,$2.name=$1[0],$2.index=$1[1],$2})],ForStart:[i("FOR ForVariables",function(){return $2}),i("FOR OWN ForVariables",function(){return $3.own=!0,$3})],ForValue:[i("Identifier"),i("ThisProperty"),i("Array",function(){return new Value($1)}),i("Object",function(){return new Value($1)})],ForVariables:[i("ForValue",function(){return[$1]}),i("ForValue , ForValue",function(){return[$1,$3]})],ForSource:[i("FORIN Expression",function(){return{source:$2}}),i("FOROF Expression",function(){return{source:$2,object:!0}}),i("FORIN Expression WHEN Expression",function(){return{source:$2,guard:$4}}),i("FOROF Expression WHEN Expression",function(){return{source:$2,guard:$4,object:!0}}),i("FORIN Expression BY Expression",function(){return{source:$2,step:$4}}),i("FORIN Expression WHEN Expression BY Expression",function(){return{source:$2,guard:$4,step:$6}}),i("FORIN Expression BY Expression WHEN Expression",function(){return{source:$2,step:$4,guard:$6}})],Switch:[i("SWITCH Expression INDENT Whens OUTDENT",function(){return new Switch($2,$4)}),i("SWITCH Expression INDENT Whens ELSE Block OUTDENT",function(){return new Switch($2,$4,$6)}),i("SWITCH INDENT Whens OUTDENT",function(){return new Switch(null,$3)}),i("SWITCH INDENT Whens ELSE Block OUTDENT",function(){return new Switch(null,$3,$5)})],Whens:[i("When"),i("Whens When",function(){return $1.concat($2)})],When:[i("LEADING_WHEN SimpleArgs Block",function(){return[[$2,$3]]}),i("LEADING_WHEN SimpleArgs Block TERMINATOR",function(){return[[$2,$3]]})],IfBlock:[i("IF Expression Block",function(){return new If($2,$3,{type:$1})}),i("IfBlock ELSE IF Expression Block",function(){return $1.addElse(new If($4,$5,{type:$3}))})],If:[i("IfBlock"),i("IfBlock ELSE Block",function(){return $1.addElse($3)}),i("Statement  POST_IF Expression",function(){return new If($3,Block.wrap([$1]),{type:$2,statement:!0})}),i("Expression POST_IF Expression",function(){return new If($3,Block.wrap([$1]),{type:$2,statement:!0})})],Operation:[i("UNARY Expression",function(){return new Op($1,$2)}),i("-     Expression",function(){return new Op("-",$2)},{prec:"UNARY"}),i("+     Expression",function(){return new Op("+",$2)},{prec:"UNARY"}),i("-- SimpleAssignable",function(){return new Op("--",$2)}),i("++ SimpleAssignable",function(){return new Op("++",$2)}),i("SimpleAssignable --",function(){return new Op("--",$1,null,!0)}),i("SimpleAssignable ++",function(){return new Op("++",$1,null,!0)}),i("Expression ?",function(){return new Existence($1)}),i("Expression +  Expression",function(){return new Op("+",$1,$3)}),i("Expression -  Expression",function(){return new Op("-",$1,$3)}),i("Expression MATH     Expression",function(){return new Op($2,$1,$3)}),i("Expression SHIFT    Expression",function(){return new Op($2,$1,$3)}),i("Expression COMPARE  Expression",function(){return new Op($2,$1,$3)}),i("Expression LOGIC    Expression",function(){return new Op($2,$1,$3)}),i("Expression RELATION Expression",function(){return"!"===$2.charAt(0)?new Op($2.slice(1),$1,$3).invert():new Op($2,$1,$3)}),i("SimpleAssignable COMPOUND_ASSIGN       Expression",function(){return new Assign($1,$3,$2)}),i("SimpleAssignable COMPOUND_ASSIGN       INDENT Expression OUTDENT",function(){return new Assign($1,$4,$2)}),i("SimpleAssignable EXTENDS Expression",function(){return new Extends($1,$3)})]},u=[["left",".","?.","::"],["left","CALL_START","CALL_END"],["nonassoc","++","--"],["left","?"],["right","UNARY"],["left","MATH"],["left","+","-"],["left","SHIFT"],["left","RELATION"],["left","COMPARE"],["left","LOGIC"],["nonassoc","INDENT","OUTDENT"],["right","=",":","COMPOUND_ASSIGN","RETURN","THROW","EXTENDS"],["right","FORIN","FOROF","BY","WHEN"],["right","IF","ELSE","FOR","WHILE","UNTIL","LOOP","SUPER","CLASS"],["right","POST_IF"]],c=[];for(o in t)r=t[o],t[o]=function(){var n,i,u,$,a,l;for(l=[],n=0,u=r.length;u>n;n++){for(e=r[n],a=e[0].split(" "),i=0,$=a.length;$>i;i++)s=a[i],t[s]||c.push(s);"Root"===o&&(e[1]="return "+e[1]),l.push(e)}return l}();exports.parser=new n({tokens:c.join(" "),bnf:t,operators:u.reverse(),startSymbol:"Root"})}).call(this);