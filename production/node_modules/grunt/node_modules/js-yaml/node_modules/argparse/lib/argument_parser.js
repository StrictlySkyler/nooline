"use strict";var $$,ActionContainer,argumentErrorHelper,HelpFormatter,Namespace,ArgumentParser,util=null,format=null.format,Path=null,_=null;_.str=null,$$=null,ActionContainer=null,argumentErrorHelper=null,HelpFormatter=null,Namespace=null,ArgumentParser=module.exports=function(t){var r,e,n=this;t=t||{},t.description=t.description||null,t.argumentDefault=t.argumentDefault||null,t.prefixChars=t.prefixChars||"-",t.conflictHandler=t.conflictHandler||"error",ActionContainer.call(this,t),t.addHelp=void 0===t.addHelp||!!t.addHelp,t.parents=t.parents||[],t.prog=t.prog||Path.basename(process.argv[1]),this.prog=t.prog,this.usage=t.usage,this.epilog=t.epilog,this.version=t.version,this.debug=t.debug===!0,this.formatterClass=t.formatterClass||HelpFormatter,this.fromfilePrefixChars=t.fromfilePrefixChars||null,this._positionals=this.addArgumentGroup({title:"Positional arguments"}),this._optionals=this.addArgumentGroup({title:"Optional arguments"}),this._subparsers=null,r=function(t){return t},this.register("type","auto",r),this.register("type",null,r),this.register("type","int",function(t){var r=parseInt(t,10);if(isNaN(r))throw Error(t+" is not a valid integer.");return r}),this.register("type","float",function(t){var r=parseFloat(t);if(isNaN(r))throw Error(t+" is not a valid float.");return r}),this.register("type","string",function(t){return""+t}),e=this.prefixChars.indexOf("-")>-1?"-":this.prefixChars[0],t.addHelp&&this.addArgument([e+"h",e+e+"help"],{action:"help",defaultValue:$$.SUPPRESS,help:"Show this help message and exit."}),void 0!==this.version&&this.addArgument([e+"v",e+e+"version"],{action:"version",version:this.version,defaultValue:$$.SUPPRESS,help:"Show program's version number and exit."}),t.parents.forEach(function(t){if(n._addContainerActions(t),void 0!==t._defaults)for(var r in t._defaults)t._defaults.hasOwnProperty(r)&&(n._defaults[r]=t._defaults[r])})},util.inherits(ArgumentParser,ActionContainer),ArgumentParser.prototype.addSubparsers=function(t){var r,e,n,s,i;return this._subparsers&&this.error("Cannot have multiple subparser arguments."),t=t||{},t.debug=this.debug===!0,t.optionStrings=[],t.parserClass=t.parserClass||ArgumentParser,t.title||t.description?(this._subparsers=this.addArgumentGroup({title:t.title||"subcommands",description:t.description}),delete t.title,delete t.description):this._subparsers=this._positionals,t.prog||(r=this._getFormatter(),e=this._getPositionalActions(),n=this._mutuallyExclusiveGroups,r.addUsage(this.usage,e,n,""),t.prog=_.str.strip(r.formatHelp())),s=this._popActionClass(t,"parsers"),i=new s(t),this._subparsers._addAction(i),i},ArgumentParser.prototype._addAction=function(t){return t.isOptional()?this._optionals._addAction(t):this._positionals._addAction(t),t},ArgumentParser.prototype._getOptionalActions=function(){return this._actions.filter(function(t){return t.isOptional()})},ArgumentParser.prototype._getPositionalActions=function(){return this._actions.filter(function(t){return t.isPositional()})},ArgumentParser.prototype.parseArgs=function(t,r){var e,n=this.parseKnownArgs(t,r);return t=n[0],e=n[1],e&&e.length>0&&this.error(format("Unrecognized arguments: %s.",e.join(" "))),t},ArgumentParser.prototype.parseKnownArgs=function(t,r){var e,n=this;t=t||process.argv.slice(2),r=r||new Namespace,n._actions.forEach(function(t){if(t.dest!==$$.SUPPRESS&&!_.has(r,t.dest)&&t.defaultValue!==$$.SUPPRESS){var e=t.defaultValue;_.isString(t.defaultValue)&&(e=n._getValue(t,e)),r[t.dest]=e}}),_.keys(n._defaults).forEach(function(t){r[t]=n._defaults[t]});try{return e=this._parseKnownArgs(t,r),r=e[0],t=e[1],_.has(r,$$._UNRECOGNIZED_ARGS_ATTR)&&(t=_.union(t,r[$$._UNRECOGNIZED_ARGS_ATTR]),delete r[$$._UNRECOGNIZED_ARGS_ATTR]),[r,t]}catch(s){this.error(s)}},ArgumentParser.prototype._parseKnownArgs=function(t,r){function e(t){return t.getName()}function n(t,n,s){h.push(t);var i=$._getValues(t,n);i!==t.defaultValue&&(g.push(t),u[e(t)]&&u[e(t)].forEach(function(r){if(g.indexOf(r)>=0)throw argumentErrorHelper(t,format('Not allowed with argument "%s".',r.getName()))})),i!==$$.SUPPRESS&&t.call($,r,i,s)}function s(r){for(var e,s,i,a,o,u,p,h,g,f,m,d=l[r],A=d[0],E=d[1],P=d[2],v=[];;){if(!A)return x.push(t[r]),r+1;if(!P){i=r+1,f=c.substr(i),s=$._matchArgument(A,f),a=i+s,e=t.slice(i,a),v.push([A,e,E]);break}if(s=$._matchArgument(A,"A"),o=$.prefixChars,!(0===s&&o.indexOf(E[1])<0)){if(1===s){a=r+1,e=[P],v.push([A,e,E]);break}throw g="ignored explicit argument %r",argumentErrorHelper(A,_.str.sprintf(g,P))}if(v.push([A,[],E]),E=E[0]+P[0],u=P.slice(1)||null,p=$._optionStringActions,!(_.keys(p).indexOf(E)>=0))throw h="ignored explicit argument %r",argumentErrorHelper(A,h);A=p[E],P=u}if(v.length<1)throw Error("length should be > 0");for(m=0;m<v.length;m++)n.apply($,v[m]);return a}function i(r){var e=c.substr(r),s=$._matchArgumentsPartial(f,e);return _.zip(f,s).forEach(function(e){var s,i=e[0],a=e[1];void 0!==a&&(s=t.slice(r,r+a),r+=a,n(i,s))}),f=f.slice(s.length),r}var a,o,u,l,p,c,h,g,f,m,d,A,E,P,v,y,O,$=this,x=[];if(null!==this.fromfilePrefixChars&&(t=this._readArgsFromFiles(t)),u={},this._mutuallyExclusiveGroups.forEach(function(t){t._groupActions.forEach(function(t,r,n){o=e(t),_.has(u,o)||(u[o]=[]),a=u[o],a.push.apply(a,n.slice(0,r)),a.push.apply(a,n.slice(r+1))})}),l={},p=[],t.forEach(function(r,e){var n,s;if("--"===r)for(p.push("-");e<t.length;)p.push("A"),e++;else s=$._parseOptional(r),s?(l[e]=s,n="O"):n="A",p.push(n)}),c=p.join(""),h=[],g=[],f=$._getPositionalActions(),m=0,A=-1,l)for(d in l)A=Math.max(A,parseInt(d,10));for(;A>=m;){P=null;for(d in l)d=parseInt(d,10),d>=m&&(P=null!==P?Math.min(P,d):d);if(m!==P){if(E=i(m),E>m){m=E;continue}m=E}l[m]||(v=t.slice(m,P),x=x.concat(v),m=P),m=s(m)}return y=i(m),x=x.concat(_.rest(t,y)),f.length>0&&$.error("too few arguments"),$._actions.forEach(function(t){t.required&&_.indexOf(h,t)<0&&$.error(format('Argument "%s" is required',t.getName()))}),O=!1,$._mutuallyExclusiveGroups.forEach(function(t){var r,e;t.required&&(O=_.any(t._groupActions,function(t){return _.contains(g,t)}),O||(r=[],t._groupActions.forEach(function(t){t.help!==$$.SUPPRESS&&r.push(t.getName())}),r=r.join(" "),e="one of the arguments "+r+" is required",$.error(e)))}),[r,x]},ArgumentParser.prototype._readArgsFromFiles=function(t){var r=this,e=null,n=[];return t.forEach(function(t){var s,i,a;if(r.fromfilePrefixChars.indexOf(t[0])<0)n.push(t);else try{s=[],i=t.slice(1),a=e.readFileSync(i,"utf8"),a=a.trim().split("\n"),a.forEach(function(t){r.convertArgLineToArgs(t).forEach(function(t){s.push(t)}),s=r._readArgsFromFiles(s)}),n.push.apply(n,s)}catch(o){return r.error(o.message)}}),n},ArgumentParser.prototype.convertArgLineToArgs=function(t){return[t]},ArgumentParser.prototype._matchArgument=function(t,r){var e,n=RegExp("^"+this._getNargsPattern(t)),s=r.match(n);if(!s){switch(t.nargs){case void 0:case null:e="Expected one argument.";break;case $$.OPTIONAL:e="Expected at most one argument.";break;case $$.ONE_OR_MORE:e="Expected at least one argument.";break;default:e="Expected %s argument(s)"}throw argumentErrorHelper(t,format(e,t.nargs))}return s[1].length},ArgumentParser.prototype._matchArgumentsPartial=function(t,r){var e,n,s,i,a,o=this,u=[],l=function(t){return t.length};for(i=t.length;i>0;i-=1){n="",e=t.slice(0,i);for(a in e)n+=o._getNargsPattern(e[a]);if(n=RegExp("^"+n),s=r.match(n),s&&s.length>0){s=s.splice(1),u=u.concat(s.map(l));break}}return u},ArgumentParser.prototype._parseOptional=function(t){var r,e,n,s,i,a;if(!t)return null;if(this.prefixChars.indexOf(t[0])<0)return null;if(this._optionStringActions[t])return[this._optionStringActions[t],t,null];if(1===t.length)return null;if(t.indexOf("=")>=0&&(i=t.split("="),e=i[0],n=i[1],this._optionStringActions[e]))return r=this._optionStringActions[e],[r,e,n];if(s=this._getOptionTuples(t),s.length>1)a=s.map(function(t){return t[1]}),this.error(format('Ambiguous option: "%s" could match %s.',t,a.join(", ")));else if(1===s.length)return s[0];return t.match(this._regexpNegativeNumber)&&!_.any(this._hasNegativeNumberOptionals)?null:t.search(" ")>=0?null:[null,t,null]},ArgumentParser.prototype._getOptionTuples=function(t){var r,e,n,s,i,a,o,u=[],l=this.prefixChars;if(l.indexOf(t[0])>=0&&l.indexOf(t[1])>=0){t.indexOf("=")>=0?(i=t.split("=",1),r=i[0],e=i[1]):(r=t,e=null);for(s in this._optionStringActions)s.substr(0,r.length)===r&&(n=this._optionStringActions[s],u.push([n,s,e]))}else{if(!(l.indexOf(t[0])>=0&&l.indexOf(t[1])<0))throw Error(format("Unexpected option string: %s.",t));r=t,e=null,a=t.substr(0,2),o=t.substr(2);for(s in this._optionStringActions)n=this._optionStringActions[s],s===a?u.push([n,s,o]):s.substr(0,r.length)===r&&u.push([n,s,e])}return u},ArgumentParser.prototype._getNargsPattern=function(t){var r;switch(t.nargs){case void 0:case null:r="(-*A-*)";break;case $$.OPTIONAL:r="(-*A?-*)";break;case $$.ZERO_OR_MORE:r="(-*[A-]*)";break;case $$.ONE_OR_MORE:r="(-*A[A-]*)";break;case $$.REMAINDER:r="([-AO]*)";break;case $$.PARSER:r="(-*A[-AO]*)";break;default:r="(-*"+_.str.repeat("-*A",t.nargs)+"-*)"}return t.isOptional()&&(r=r.replace(/-\*/g,""),r=r.replace(/-/g,"")),r},ArgumentParser.prototype._getValues=function(t,r){var e,n,s=this;return t.nargs!==$$.PARSER&&t.nargs!==$$.REMAINDER&&(r=r.filter(function(t){return"--"!==t})),0===r.length&&t.nargs===$$.OPTIONAL?(e=t.isOptional()?t.constant:t.defaultValue,"string"==typeof e&&(e=this._getValue(t,e),this._checkValue(t,e))):0===r.length&&t.nargs===$$.ZERO_OR_MORE&&0===t.optionStrings.length?(e=t.defaultValue||r,this._checkValue(t,e)):1!==r.length||t.nargs&&t.nargs!==$$.OPTIONAL?t.nargs===$$.REMAINDER?e=r.map(function(r){return s._getValue(t,r)}):t.nargs===$$.PARSER?(e=r.map(function(r){return s._getValue(t,r)}),this._checkValue(t,e[0])):(e=r.map(function(r){return s._getValue(t,r)}),e.forEach(function(r){s._checkValue(t,r)})):(n=r[0],e=this._getValue(t,n),this._checkValue(t,e)),e},ArgumentParser.prototype._getValue=function(t,r){var e,n,s,i,a=this._registryGet("type",t.type,t.type);if(!_.isFunction(a))throw n=format("%s is not callable",a),argumentErrorHelper(t,n);try{e=a(r)}catch(o){throw s=null,s=_.isString(t.type)?t.type:t.type.name||t.type.displayName||"<function>",i=format("Invalid %s value: %s",s,r),"<function>"===s&&(i+="\n"+o.message),argumentErrorHelper(t,i)}return e},ArgumentParser.prototype._checkValue=function(t,r){var e,n=t.choices;if(n){if((_.isString(n)||_.isArray(n))&&-1!==n.indexOf(r))return;if(_.isObject(n)&&!_.isArray(n)&&n[r])return;throw n=_.isString(n)?n.split("").join(", "):_.isArray(n)?n.join(", "):_.keys(n).join(", "),e=format("Invalid choice: %s (choose from [%s])",r,n),argumentErrorHelper(t,e)}},ArgumentParser.prototype.formatUsage=function(){var t=this._getFormatter();return t.addUsage(this.usage,this._actions,this._mutuallyExclusiveGroups),t.formatHelp()},ArgumentParser.prototype.formatHelp=function(){var t=this._getFormatter();return t.addUsage(this.usage,this._actions,this._mutuallyExclusiveGroups),t.addText(this.description),this._actionGroups.forEach(function(r){t.startSection(r.title),t.addText(r.description),t.addArguments(r._groupActions),t.endSection()}),t.addText(this.epilog),t.formatHelp()},ArgumentParser.prototype._getFormatter=function(){var t=this.formatterClass,r=new t({prog:this.prog});return r},ArgumentParser.prototype.printUsage=function(){this._printMessage(this.formatUsage())},ArgumentParser.prototype.printHelp=function(){this._printMessage(this.formatHelp())},ArgumentParser.prototype._printMessage=function(t,r){r||(r=process.stdout),t&&r.write(""+t)},ArgumentParser.prototype.exit=function(t,r){r&&(0===t?this._printMessage(r):this._printMessage(r,process.stderr)),process.exit(t)},ArgumentParser.prototype.error=function(t){var r,e;if(t instanceof Error){if(this.debug===!0)throw t;r=t.message}else r=t;if(e=format("%s: error: %s",this.prog,r)+$$.EOL,this.debug===!0)throw Error(e);return this.printUsage(process.stderr),this.exit(2,e)};