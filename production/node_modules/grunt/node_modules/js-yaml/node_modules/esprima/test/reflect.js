/*
 * Any copyright is dedicated to the Public Domain.
 * http://creativecommons.org/licenses/publicdomain/
 */

!function(t){function n(t,n){function e(t){return n({type:"Program",body:t})}function o(t){return n({type:"ExpressionStatement",expression:t})}function r(t){return n({type:"ThrowStatement",argument:t})}function i(t){return n({type:"ReturnStatement",argument:t})}function u(t){return n({type:"Literal",value:t})}function y(t,e,o){return n({type:"FunctionDeclaration",id:t,params:e,defaults:[],body:o,rest:null,generator:!1,expression:!1})}function f(t,e){return n({type:"VariableDeclarator",id:t,init:e})}function x(t){return n({type:"VariableDeclaration",declarations:t,kind:"var"})}function a(t){return n({type:"Identifier",name:t})}function l(t,e){return n({type:"MemberExpression",computed:!1,object:t,property:e})}function c(t,e){return n({type:"MemberExpression",computed:!0,object:t,property:e})}function s(t,e,o,r){return n({type:"ForStatement",init:t,test:e,update:o,body:r})}function p(t,e,o){return n({type:"ForInStatement",left:t,right:e,body:o,each:!1})}function b(t){return n({type:"BreakStatement",label:t})}function d(t){return n({type:"ContinueStatement",label:t})}function h(t){return n({type:"BlockStatement",body:t})}function m(t,e,o){return n({type:"IfStatement",test:t,alternate:o,consequent:e})}function g(t,e){return n({type:"LabeledStatement",label:t,body:e})}function w(t,e){return n({type:"WithStatement",object:t,body:e})}function z(t,e){return n({type:"WhileStatement",test:t,body:e})}function v(t,e){return n({type:"DoWhileStatement",test:e,body:t})}function S(t,e){return n({type:"SwitchStatement",discriminant:t,cases:e})}function k(t,e){return n({type:"SwitchCase",test:t,consequent:e})}function j(t){return n({type:"SwitchCase",test:null,consequent:t})}function E(t,e,o){return e?n({type:"GuardedCatchClause",param:t,guard:e,body:o}):n({type:"CatchClause",param:t,body:o})}function C(t,e,o,r){return n({type:"TryStatement",block:t,guardedHandlers:e,handlers:o,finalizer:r})}function O(t,e,o){return n({type:"FunctionExpression",id:t,params:e,defaults:[],body:o,rest:null,generator:!1,expression:!1})}function q(t,e){return n({type:"UnaryExpression",operator:t,argument:e,prefix:!0})}function D(t,e,o){return n({type:"BinaryExpression",operator:t,left:e,right:o})}function F(t,e,o){return n({type:"AssignmentExpression",operator:t,left:e,right:o})}function B(t,e,o){return n({type:"UpdateExpression",operator:t,argument:e,prefix:o})}function I(t,e,o){return n({type:"LogicalExpression",operator:t,left:e,right:o})}function L(t,e,o){return n({type:"ConditionalExpression",test:t,consequent:e,alternate:o})}function T(t){return n({type:"SequenceExpression",expressions:t})}function W(t,e){return n({type:"NewExpression",callee:t,arguments:e})}function A(t,e){return n({type:"CallExpression",callee:t,arguments:e})}function M(t){return n({type:"ArrayExpression",elements:t})}function P(t){return n({type:"ObjectExpression",properties:t})}function R(t,e,o){return n({type:"Property",key:t,value:e,kind:o})}function U(t){return"(function(){ "+t+" })"}function V(t){return e([o(O(null,[],h([t])))])}function G(t){return"(function(){ { "+t+" } })"}function H(t){return e([o(O(null,[],h([h([t])])))])}function N(n,e){H(e).assert(t.parse(G(n)))}function J(t,n){N(t,o(n))}function K(n,e,o){H(e).assert(t.parse(G(n),{builder:o}))}function Q(n,e){V(e).assert(t.parse(U(n)))}function X(t,n){Q(t,o(n))}function Y(n,e){V(e).assert(t.parse(U(n)))}function Z(n,o,r){e([o]).assert(t.parse(n,{builder:r}))}function $(n,r,i){e([o(r)]).assert(t.parse(n,{builder:i}))}function _(n,o){e([o]).assert(t.parse(n))}function tn(t,n){Q(t,n),Z(t,n),N(t,n)}function nn(t,n){X(t,n),$(t,n),J(t,n)}function en(t,n){Y(t,n),_(t,n),K(t,n)}var on=n({type:"ThisExpression"}),rn=n({type:"EmptyStatement"});en("var x = 1, y = 2, z = 3",x([f(a("x"),u(1)),f(a("y"),u(2)),f(a("z"),u(3))])),en("var x, y, z",x([f(a("x"),null),f(a("y"),null),f(a("z"),null)])),en("function foo() { }",y(a("foo"),[],h([]))),en("function foo() { return 42 }",y(a("foo"),[],h([i(u(42))]))),en("function f(a) { function a() { } }",y(a("f"),[a("a")],h([y(a("a"),[],h([]))]))),en("function f(a,b,c) { function b() { } }",y(a("f"),[a("a"),a("b"),a("c")],h([y(a("b"),[],h([]))]))),nn("true",u(!0)),nn("false",u(!1)),nn("42",u(42)),nn("(/asdf/)",u(/asdf/)),nn("this",on),nn("foo",a("foo")),nn("foo.bar",l(a("foo"),a("bar"))),nn("foo[bar]",c(a("foo"),a("bar"))),nn("(function(){})",O(null,[],h([]))),nn("(function f() {})",O(a("f"),[],h([]))),nn("(function f(x,y,z) {})",O(a("f"),[a("x"),a("y"),a("z")],h([]))),nn("(++x)",B("++",a("x"),!0)),nn("(x++)",B("++",a("x"),!1)),nn("(+x)",q("+",a("x"))),nn("(-x)",q("-",a("x"))),nn("(!x)",q("!",a("x"))),nn("(~x)",q("~",a("x"))),nn("(delete x)",q("delete",a("x"))),nn("(typeof x)",q("typeof",a("x"))),nn("(void x)",q("void",a("x"))),nn("(x == y)",D("==",a("x"),a("y"))),nn("(x != y)",D("!=",a("x"),a("y"))),nn("(x === y)",D("===",a("x"),a("y"))),nn("(x !== y)",D("!==",a("x"),a("y"))),nn("(x < y)",D("<",a("x"),a("y"))),nn("(x <= y)",D("<=",a("x"),a("y"))),nn("(x > y)",D(">",a("x"),a("y"))),nn("(x >= y)",D(">=",a("x"),a("y"))),nn("(x << y)",D("<<",a("x"),a("y"))),nn("(x >> y)",D(">>",a("x"),a("y"))),nn("(x >>> y)",D(">>>",a("x"),a("y"))),nn("(x + y)",D("+",a("x"),a("y"))),nn("(w + x + y + z)",D("+",D("+",D("+",a("w"),a("x")),a("y")),a("z"))),nn("(x - y)",D("-",a("x"),a("y"))),nn("(w - x - y - z)",D("-",D("-",D("-",a("w"),a("x")),a("y")),a("z"))),nn("(x * y)",D("*",a("x"),a("y"))),nn("(x / y)",D("/",a("x"),a("y"))),nn("(x % y)",D("%",a("x"),a("y"))),nn("(x | y)",D("|",a("x"),a("y"))),nn("(x ^ y)",D("^",a("x"),a("y"))),nn("(x & y)",D("&",a("x"),a("y"))),nn("(x in y)",D("in",a("x"),a("y"))),nn("(x instanceof y)",D("instanceof",a("x"),a("y"))),nn("(x = y)",F("=",a("x"),a("y"))),nn("(x += y)",F("+=",a("x"),a("y"))),nn("(x -= y)",F("-=",a("x"),a("y"))),nn("(x *= y)",F("*=",a("x"),a("y"))),nn("(x /= y)",F("/=",a("x"),a("y"))),nn("(x %= y)",F("%=",a("x"),a("y"))),nn("(x <<= y)",F("<<=",a("x"),a("y"))),nn("(x >>= y)",F(">>=",a("x"),a("y"))),nn("(x >>>= y)",F(">>>=",a("x"),a("y"))),nn("(x |= y)",F("|=",a("x"),a("y"))),nn("(x ^= y)",F("^=",a("x"),a("y"))),nn("(x &= y)",F("&=",a("x"),a("y"))),nn("(x || y)",I("||",a("x"),a("y"))),nn("(x && y)",I("&&",a("x"),a("y"))),nn("(w || x || y || z)",I("||",I("||",I("||",a("w"),a("x")),a("y")),a("z"))),nn("(x ? y : z)",L(a("x"),a("y"),a("z"))),nn("(x,y)",T([a("x"),a("y")])),nn("(x,y,z)",T([a("x"),a("y"),a("z")])),nn("(a,b,c,d,e,f,g)",T([a("a"),a("b"),a("c"),a("d"),a("e"),a("f"),a("g")])),nn("(new Object)",W(a("Object"),[])),nn("(new Object())",W(a("Object"),[])),nn("(new Object(42))",W(a("Object"),[u(42)])),nn("(new Object(1,2,3))",W(a("Object"),[u(1),u(2),u(3)])),nn("(String())",A(a("String"),[])),nn("(String(42))",A(a("String"),[u(42)])),nn("(String(1,2,3))",A(a("String"),[u(1),u(2),u(3)])),nn("[]",M([])),nn("[1]",M([u(1)])),nn("[1,2]",M([u(1),u(2)])),nn("[1,2,3]",M([u(1),u(2),u(3)])),nn("[1,,2,3]",M([u(1),,u(2),u(3)])),nn("[1,,,2,3]",M([u(1),,,u(2),u(3)])),nn("[1,,,2,,3]",M([u(1),,,u(2),,u(3)])),nn("[1,,,2,,,3]",M([u(1),,,u(2),,,u(3)])),nn("[,1,2,3]",M([,u(1),u(2),u(3)])),nn("[,,1,2,3]",M([,,u(1),u(2),u(3)])),nn("[,,,1,2,3]",M([,,,u(1),u(2),u(3)])),nn("[,,,1,2,3,]",M([,,,u(1),u(2),u(3)])),nn("[,,,1,2,3,,]",M([,,,u(1),u(2),u(3),void 0])),nn("[,,,1,2,3,,,]",M([,,,u(1),u(2),u(3),void 0,void 0])),nn("[,,,,,]",M([void 0,void 0,void 0,void 0,void 0])),nn("({})",P([])),nn("({x:1})",P([R(a("x"),u(1),"init")])),nn("({x:1, y:2})",P([R(a("x"),u(1),"init"),R(a("y"),u(2),"init")])),nn("({x:1, y:2, z:3})",P([R(a("x"),u(1),"init"),R(a("y"),u(2),"init"),R(a("z"),u(3),"init")])),nn("({x:1, 'y':2, z:3})",P([R(a("x"),u(1),"init"),R(u("y"),u(2),"init"),R(a("z"),u(3),"init")])),nn("({'x':1, 'y':2, z:3})",P([R(u("x"),u(1),"init"),R(u("y"),u(2),"init"),R(a("z"),u(3),"init")])),nn("({'x':1, 'y':2, 3:3})",P([R(u("x"),u(1),"init"),R(u("y"),u(2),"init"),R(u(3),u(3),"init")])),nn("2 + 3",D("+",u(2),u(3))),nn("typeof(0?0:a)",q("typeof",L(u(0),u(0),a("a")))),e([o(a("f")),m(u(1),y(a("f"),[],h([])),null)]).assert(t.parse("f; if (1) function f(){}")),tn("throw 42",r(u(42))),tn("for (;;) break",s(null,null,null,b(null))),tn("for (x; y; z) break",s(a("x"),a("y"),a("z"),b(null))),tn("for (var x; y; z) break",s(x([f(a("x"),null)]),a("y"),a("z"),b(null))),tn("for (var x = 42; y; z) break",s(x([f(a("x"),u(42))]),a("y"),a("z"),b(null))),tn("for (x; ; z) break",s(a("x"),null,a("z"),b(null))),tn("for (var x; ; z) break",s(x([f(a("x"),null)]),null,a("z"),b(null))),tn("for (var x = 42; ; z) break",s(x([f(a("x"),u(42))]),null,a("z"),b(null))),tn("for (x; y; ) break",s(a("x"),a("y"),null,b(null))),tn("for (var x; y; ) break",s(x([f(a("x"),null)]),a("y"),null,b(null))),tn("for (var x = 42; y; ) break",s(x([f(a("x"),u(42))]),a("y"),null,b(null))),tn("for (var x in y) break",p(x([f(a("x"),null)]),a("y"),b(null))),tn("for (x in y) break",p(a("x"),a("y"),b(null))),tn("{ }",h([])),tn("{ throw 1; throw 2; throw 3; }",h([r(u(1)),r(u(2)),r(u(3))])),tn(";",rn),tn("if (foo) throw 42;",m(a("foo"),r(u(42)),null)),tn("if (foo) throw 42; else true;",m(a("foo"),r(u(42)),o(u(!0)))),tn("if (foo) { throw 1; throw 2; throw 3; }",m(a("foo"),h([r(u(1)),r(u(2)),r(u(3))]),null)),tn("if (foo) { throw 1; throw 2; throw 3; } else true;",m(a("foo"),h([r(u(1)),r(u(2)),r(u(3))]),o(u(!0)))),tn("foo: for(;;) break foo;",g(a("foo"),s(null,null,null,b(a("foo"))))),tn("foo: for(;;) continue foo;",g(a("foo"),s(null,null,null,d(a("foo"))))),tn("with (obj) { }",w(a("obj"),h([]))),tn("with (obj) { obj; }",w(a("obj"),h([o(a("obj"))]))),tn("while (foo) { }",z(a("foo"),h([]))),tn("while (foo) { foo; }",z(a("foo"),h([o(a("foo"))]))),tn("do { } while (foo);",v(h([]),a("foo"))),tn("do { foo; } while (foo)",v(h([o(a("foo"))]),a("foo"))),tn("switch (foo) { case 1: 1; break; case 2: 2; break; default: 3; }",S(a("foo"),[k(u(1),[o(u(1)),b(null)]),k(u(2),[o(u(2)),b(null)]),j([o(u(3))])])),tn("switch (foo) { case 1: 1; break; case 2: 2; break; default: 3; case 42: 42; }",S(a("foo"),[k(u(1),[o(u(1)),b(null)]),k(u(2),[o(u(2)),b(null)]),j([o(u(3))]),k(u(42),[o(u(42))])])),tn("try { } catch (e) { }",C(h([]),[],[E(a("e"),null,h([]))],null)),tn("try { } catch (e) { } finally { }",C(h([]),[],[E(a("e"),null,h([]))],h([]))),tn("try { } finally { }",C(h([]),[],[],h([]))),tn("function f() { function g() { } function g() { } }",y(a("f"),[],h([y(a("g"),[],h([])),y(a("g"),[],h([]))]))),tn("function f() { function g() { } function g() { return 42 } }",y(a("f"),[],h([y(a("g"),[],h([])),y(a("g"),[],h([i(u(42))]))]))),tn("function f() { var x = 42; var x = 43; }",y(a("f"),[],h([x([f(a("x"),u(42))]),x([f(a("x"),u(43))])]))),nn("({ get x() { return 42 } })",P([R(a("x"),O(null,[],h([i(u(42))])),"get")])),nn("({ set x(v) { return 42 } })",P([R(a("x"),O(null,[a("v")],h([i(u(42))])),"set")]))}t.testReflect=n}("undefined"==typeof exports?this:exports);