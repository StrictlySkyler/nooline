"use strict";function kindOf(e){var E=typeof e;return null===e?"null":"number"===E?0===e%1?"integer":"float":"object"===E&&Array.isArray(e)?"array":E}function compileStyleMap(e,E){var n,A,t,C,r,_,l;if(null===E)return{};for(n={},A=Object.keys(E),t=0,C=A.length;C>t;t+=1)r=A[t],_=E[r]+"","!!"===r.slice(0,2)&&(r="tag:yaml.org,2002:"+r.slice(2)),l=e.compiledTypeMap[r],l&&l.dumper&&_hasOwnProperty.call(l.dumper.styleAliases,_)&&(_=l.dumper.styleAliases[_]),n[r]=_;return n}function encodeHex(e){var E,n,A;if(E=e.toString(16).toUpperCase(),255>=e)n="x",A=2;else if(65535>=e)n="u",A=4;else{if(!(4294967295>=e))throw new YAMLException("code point within a string may not be greater than 0xFFFFFFFF");n="U",A=8}return"\\"+n+common.repeat("0",A-E.length)+E}function dump(e,E){function n(e){return"\n"+common.repeat(" ",c*e)}function A(e){var E,n,A;for(E=0,n=f.length;n>E;E+=1)if(A=f[E],null!==A.loader&&NIL!==A.loader.resolver(e,!1))return!0;return!1}function t(e){var E,n,t,C,r;for(i="",E=!1,n=0,(0===e.length||CHAR_SPACE===e.charCodeAt(0)||CHAR_SPACE===e.charCodeAt(e.length-1))&&(E=!0),t=0,C=e.length;C>t;t+=1)r=e.charCodeAt(t),E||(CHAR_TAB===r||CHAR_LINE_FEED===r||CHAR_CARRIAGE_RETURN===r||CHAR_COMMA===r||CHAR_LEFT_SQUARE_BRACKET===r||CHAR_RIGHT_SQUARE_BRACKET===r||CHAR_LEFT_CURLY_BRACKET===r||CHAR_RIGHT_CURLY_BRACKET===r||CHAR_SHARP===r||CHAR_AMPERSAND===r||CHAR_ASTERISK===r||CHAR_EXCLAMATION===r||CHAR_VERTICAL_LINE===r||CHAR_GREATER_THAN===r||CHAR_SINGLE_QUOTE===r||CHAR_DOUBLE_QUOTE===r||CHAR_PERCENT===r||CHAR_COMMERCIAL_AT===r||CHAR_GRAVE_ACCENT===r||CHAR_QUESTION===r||CHAR_COLON===r||CHAR_MINUS===r)&&(E=!0),(ESCAPE_SEQUENCES[r]||!(r>=32&&126>=r||133===r||r>=160&&55295>=r||r>=57344&&65533>=r||r>=65536&&1114111>=r))&&(i+=e.slice(n,t),i+=ESCAPE_SEQUENCES[r]||encodeHex(r),n=t+1,E=!0);t>n&&(i+=e.slice(n,t)),!E&&A(i)&&(E=!0),E&&(i='"'+i+'"')}function C(e,E){var n,A,t="",C=u;for(n=0,A=E.length;A>n;n+=1)0!==n&&(t+=", "),o(e,E[n],!1,!1),t+=i;u=C,i="["+t+"]"}function r(e,E,A){var t,C,r="",_=u;for(t=0,C=E.length;C>t;t+=1)A&&0===t||(r+=n(e)),o(e+1,E[t],!0,!0),r+="- "+i;u=_,i=r}function _(e,E){var n,A,t,C,r="",_=u,l=Object.keys(E);for(n=0,A=l.length;A>n;n+=1)0!==n&&(r+=", "),t=l[n],C=E[t],o(e,t,!1,!1),i.length>1024&&(r+="? "),r+=i+": ",o(e,C,!1,!1),r+=i;u=_,i="{"+r+"}"}function l(e,E,A){var t,C,r,_,l,R="",S=u,a=Object.keys(E);for(t=0,C=a.length;C>t;t+=1)A&&0===t||(R+=n(e)),r=a[t],_=E[r],o(e+1,r,!0,!0),l=null!==u&&"?"!==u&&i.length<=1024,l&&(R+="? "),R+=i,l&&(R+=n(e)),o(e+1,_,!0,l),R+=": "+i;u=S,i=R}function R(e,E){var n,A,t,C,r,_;for(A=E?s:f,S=kindOf(e),t=0,C=A.length;C>t;t+=1)if(r=A[t],null!==r.dumper&&(null===r.dumper.kind||S===r.dumper.kind)&&(null===r.dumper.instanceOf||e instanceof r.dumper.instanceOf)&&(null===r.dumper.predicate||r.dumper.predicate(e))){if(u=E?r.tag:"?",null!==r.dumper.representer){if(_=H[r.tag]||r.dumper.defaultStyle,"function"==typeof r.dumper.representer)n=r.dumper.representer(e,_);else{if(!_hasOwnProperty.call(r.dumper.representer,_))throw new YAMLException("!<"+r.tag+'> tag resolver accepts not "'+_+'" style');n=r.dumper.representer[_](e,_)}if(NIL===n){if(E)throw new YAMLException("cannot represent an object of !<"+r.tag+"> type");continue}S=kindOf(n),i=n}return!0}return!1}function o(e,E,n,A){if(u=null,i=E,R(E,!1)||R(E,!0),n&&(n=0>p||p>e),(null!==u&&"?"!==u||2!==c&&e>0)&&(A=!1),"object"===S)n&&0!==Object.keys(i).length?l(e,i,A):_(e,i);else if("array"===S)n&&0!==i.length?r(e,i,A):C(e,i);else{if("string"!==S)throw new YAMLException("unacceptabe kind of an object to dump ("+S+")");"?"!==u&&t(i)}null!==u&&"?"!==u&&(i="!<"+u+"> "+i)}E=E||{};var S,u,i,a=E.schema||DEFAULT_SCHEMA,c=Math.max(1,E.indent||2),p=common.isNothing(E.flowLevel)?-1:E.flowLevel,H=compileStyleMap(a,E.styles||null),f=a.compiledImplicit,s=a.compiledExplicit;return o(0,e,!0,!0),i+"\n"}function safeDump(e,E){return dump(e,common.extend({schema:SAFE_SCHEMA},E))}var common=null,NIL=common.NIL,YAMLException=null,DEFAULT_SCHEMA=null,SAFE_SCHEMA=null,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_TAB=9,CHAR_LINE_FEED=10,CHAR_CARRIAGE_RETURN=13,CHAR_SPACE=32,CHAR_EXCLAMATION=33,CHAR_DOUBLE_QUOTE=34,CHAR_SHARP=35,CHAR_PERCENT=37,CHAR_AMPERSAND=38,CHAR_SINGLE_QUOTE=39,CHAR_ASTERISK=42,CHAR_COMMA=44,CHAR_MINUS=45,CHAR_COLON=58,CHAR_GREATER_THAN=62,CHAR_QUESTION=63,CHAR_COMMERCIAL_AT=64,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_GRAVE_ACCENT=96,CHAR_LEFT_CURLY_BRACKET=123,CHAR_VERTICAL_LINE=124,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0",ESCAPE_SEQUENCES[7]="\\a",ESCAPE_SEQUENCES[8]="\\b",ESCAPE_SEQUENCES[9]="\\t",ESCAPE_SEQUENCES[10]="\\n",ESCAPE_SEQUENCES[11]="\\v",ESCAPE_SEQUENCES[12]="\\f",ESCAPE_SEQUENCES[13]="\\r",ESCAPE_SEQUENCES[27]="\\e",ESCAPE_SEQUENCES[34]='\\"',ESCAPE_SEQUENCES[92]="\\\\",ESCAPE_SEQUENCES[133]="\\N",ESCAPE_SEQUENCES[160]="\\_",ESCAPE_SEQUENCES[8232]="\\L",ESCAPE_SEQUENCES[8233]="\\P",module.exports.dump=dump,module.exports.safeDump=safeDump;