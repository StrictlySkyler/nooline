"use strict";var grunt=null;exports.template={process:function(e){e.expect(4);var t={foo:"c",bar:"b<%= foo %>d",baz:"a<%= bar %>e"};e.equal(grunt.template.process("<%= foo %>",{data:t}),"c","should retrieve value."),e.equal(grunt.template.process("<%= bar %>",{data:t}),"bcd","should recurse."),e.equal(grunt.template.process("<%= baz %>",{data:t}),"abcde","should recurse."),t.foo="<% oops %",e.equal(grunt.template.process("<%= baz %>",{data:t}),"ab<% oops %de","should not explode."),e.done()},"custom delimiters":function(e){e.expect(6);var t={foo:"c",bar:"b{%= foo %}d",baz:"a{%= bar %}e"};e.equal(grunt.template.process("{%= foo %}",{data:t,delimiters:"custom"}),"{%= foo %}","custom delimiters have yet to be defined."),grunt.template.addDelimiters("custom","{%","%}"),e.equal(grunt.template.process("{%= foo %}",{data:t,delimiters:"custom"}),"c","should retrieve value."),e.equal(grunt.template.process("{%= bar %}",{data:t,delimiters:"custom"}),"bcd","should recurse."),e.equal(grunt.template.process("{%= baz %}",{data:t,delimiters:"custom"}),"abcde","should recurse."),e.equal(grunt.template.process("{%= foo %}<%= foo %>",{data:t,delimiters:"custom"}),"c<%= foo %>","should ignore default delimiters"),t.foo="{% oops %",e.equal(grunt.template.process("{%= baz %}",{data:t,delimiters:"custom"}),"ab{% oops %de","should not explode."),e.done()}};