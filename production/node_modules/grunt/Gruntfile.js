/*
 * grunt
 * http://gruntjs.com/
 *
 * Copyright (c) 2013 "Cowboy" Ben Alman
 * Licensed under the MIT license.
 * https://github.com/gruntjs/grunt/blob/master/LICENSE-MIT
 */

"use strict";module.exports=function(t){t.initConfig({nodeunit:{all:["test/{grunt,tasks,util}/**/*.js"]},jshint:{gruntfile:["Gruntfile.js"],libs_n_tests:["lib/**/*.js","<%= nodeunit.all %>"],subgrunt:["<%= subgrunt.all %>"],options:{curly:!0,eqeqeq:!0,immed:!0,latedef:!0,newcap:!0,noarg:!0,sub:!0,undef:!0,unused:!0,boss:!0,eqnull:!0,node:!0,es5:!0}},watch:{gruntfile:{files:["<%= jshint.gruntfile %>"],tasks:["jshint:gruntfile"]},libs_n_tests:{files:["<%= jshint.libs_n_tests %>"],tasks:["jshint:libs_n_tests","nodeunit"]},subgrunt:{files:["<%= subgrunt.all %>"],tasks:["jshint:subgrunt","subgrunt"]}},subgrunt:{all:["test/gruntfile/*.js"]}}),t.loadNpmTasks("grunt-contrib-jshint"),t.loadNpmTasks("grunt-contrib-nodeunit"),t.loadNpmTasks("grunt-contrib-watch"),t.registerTask("test",["jshint","nodeunit","subgrunt"]),t.registerTask("default",["test"]),t.registerMultiTask("subgrunt","Run a sub-gruntfile.",function(){var s=null;t.util.async.forEachSeries(this.filesSrc,function(n,u){t.util.spawn({grunt:!0,args:["--gruntfile",s.resolve(n)]},function(s,e){s?(t.log.error(e.stdout).writeln(),u(Error('Error running sub-gruntfile "'+n+'".'))):(t.verbose.ok(e.stdout),u())})},this.async())})};