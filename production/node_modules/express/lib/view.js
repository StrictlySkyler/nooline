function View(e,t){var i,n;if(t=t||{},this.name=e,this.root=t.root,i=t.engines,this.defaultEngine=t.defaultEngine,n=this.ext=extname(e),!n&&!this.defaultEngine)throw Error("No default engine was specified and no extension was provided.");n||(e+=n=this.ext=("."!=this.defaultEngine[0]?".":"")+this.defaultEngine),this.engine=i[n]||(i[n]=require(n.slice(1)).__express),this.path=this.lookup(e)}var path=null,fs=null,utils=null,dirname=path.dirname,basename=path.basename,extname=path.extname,exists=fs.existsSync||path.existsSync,join=path.join;module.exports=View,View.prototype.lookup=function(e){var t=this.ext;return utils.isAbsolute(e)||(e=join(this.root,e)),exists(e)?e:(e=join(dirname(e),basename(e,t),"index"+t),exists(e)?e:void 0)},View.prototype.render=function(e,t){this.engine(this.path,e,t)};