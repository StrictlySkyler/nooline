/*!
 * Connect - favicon
 * Copyright(c) 2010 Sencha Inc.
 * Copyright(c) 2011 TJ Holowaychuk
 * MIT Licensed
 */

var fs=null,utils=null;module.exports=function(e,n){var i,n=n||{},e=e||__dirname+"/../public/favicon.ico",o=n.maxAge||864e5;return function(n,a,t){"/favicon.ico"==n.url?i?(a.writeHead(200,i.headers),a.end(i.body)):fs.readFile(e,function(e,n){return e?t(e):(i={headers:{"Content-Type":"image/x-icon","Content-Length":n.length,ETag:'"'+utils.md5(n)+'"',"Cache-Control":"public, max-age="+o/1e3},body:n},a.writeHead(200,i.headers),a.end(i.body),void 0)}):t()}};