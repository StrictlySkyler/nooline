(function(){var e,r,l,o,n,t,i;e=null.Negotiator,l=null,n={"text/html":"<h1>Hello world!</h1>","text/plain":"Hello World!","application/json":JSON.stringify({hello:"world!"})},r=function(){var e;e=[];for(o in n)i=n[o],e.push(o);return e}(),t=l.createServer(function(l,o){var t,i;return i=new e(l),console.log("Accept: "+l.headers.accept),console.log("Preferred: "+i.preferredMediaTypes()),console.log("Possible: "+i.preferredMediaTypes(r)),t=i.preferredMediaType(r),console.log("Selected: "+t),t?(o.writeHead(200,{"Content-Type":t}),o.end(n[t])):(o.writeHead(406),o.end())}),t.listen(8080)}).call(this);