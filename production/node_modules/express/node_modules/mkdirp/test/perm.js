var mkdirp=null,path=null,fs=null,test=null.test;test("async perm",function(t){t.plan(2);var n="/tmp/"+(Math.random()*(1<<30)).toString(16);mkdirp(n,493,function(i){i?t.fail(i):path.exists(n,function(i){i?fs.stat(n,function(n,i){n?t.fail(n):(t.equal(511&i.mode,493),t.ok(i.isDirectory(),"target not a directory"),t.end())}):t.fail("file not created")})})}),test("async root perm",function(t){mkdirp("/tmp",493,function(n){n&&t.fail(n),t.end()}),t.end()});