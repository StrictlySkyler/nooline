function Emitter(t){return t?mixin(t):void 0}function mixin(t){for(var i in Emitter.prototype)t[i]=Emitter.prototype[i];return t}module.exports=Emitter,Emitter.prototype.on=function(t,i){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(i),this},Emitter.prototype.once=function(t,i){function s(){e.off(t,s),i.apply(this,arguments)}var e=this;return this._callbacks=this._callbacks||{},i._off=s,this.on(t,s),this},Emitter.prototype.off=function(t,i){var s,e;return this._callbacks=this._callbacks||{},(s=this._callbacks[t])?1==arguments.length?(delete this._callbacks[t],this):(e=s.indexOf(i._off||i),~e&&s.splice(e,1),this):this},Emitter.prototype.emit=function(t){var i,s,e,r;if(this._callbacks=this._callbacks||{},i=[].slice.call(arguments,1),s=this._callbacks[t],s)for(s=s.slice(0),e=0,r=s.length;r>e;++e)s[e].apply(this,i);return this},Emitter.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},Emitter.prototype.hasListeners=function(t){return!!this.listeners(t).length};