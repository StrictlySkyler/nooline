function polling(o){var l,e,t,n=!1,s=!1;return global.location&&(e="https:"==location.protocol,t=location.port,Number(t)!=t&&(t=e?443:80),n=o.host!=location.hostname||t!=o.port,s=o.secure!=e),l=util.request(n),s&&global.XDomainRequest&&l instanceof global.XDomainRequest?new JSONP(o):l&&!o.forceJSONP?new XHR(o):new JSONP(o)}var global,XHR=null,JSONP=null,websocket=null,flashsocket=null,util=null;exports.polling=polling,exports.websocket=websocket,exports.flashsocket=flashsocket,global="undefined"!=typeof window?window:global;