function empty(){}function JSONPPolling(e){Polling.call(this,e),callbacks||(global.___eio||(global.___eio=[]),callbacks=global.___eio),this.index=callbacks.length;var t=this;callbacks.push(function(e){t.onData(e)}),this.query.j=this.index}var global,rNewline,callbacks,index,Polling=null,util=null;module.exports=JSONPPolling,global="undefined"!=typeof window?window:global,rNewline=/\n/g,index=0,util.inherits(JSONPPolling,Polling),JSONPPolling.prototype.doOpen=function(){var e=this;util.defer(function(){Polling.prototype.doOpen.call(e)})},JSONPPolling.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null),Polling.prototype.doClose.call(this)},JSONPPolling.prototype.doPoll=function(){var e,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),e=document.getElementsByTagName("script")[0],e.parentNode.insertBefore(t,e),this.script=t,util.ua.gecko&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},JSONPPolling.prototype.doWrite=function(e,t){function i(){o(),t()}function o(){s.iframe&&s.form.removeChild(s.iframe);try{l=document.createElement('<iframe name="'+s.iframeId+'">')}catch(e){l=document.createElement("iframe"),l.name=s.iframeId}l.id=s.iframeId,s.form.appendChild(l),s.iframe=l}var l,n,a,r,s=this;this.form||(n=document.createElement("form"),a=document.createElement("textarea"),r=this.iframeId="eio_iframe_"+this.index,n.className="socketio",n.style.position="absolute",n.style.top="-1000px",n.style.left="-1000px",n.target=r,n.method="POST",n.setAttribute("accept-charset","utf-8"),a.name="d",n.appendChild(a),document.body.appendChild(n),this.form=n,this.area=a),this.form.action=this.uri(),o(),this.area.value=e.replace(rNewline,"\\n");try{this.form.submit()}catch(c){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==s.iframe.readyState&&i()}:this.iframe.onload=i};