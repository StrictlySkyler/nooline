function Transport(t){this.path=t.path,this.host=t.host,this.port=t.port,this.secure=t.secure,this.query=t.query,this.timestampParam=t.timestampParam,this.timestampRequests=t.timestampRequests,this.readyState=""}var util=null,parser=null,Emitter=null;module.exports=Transport,Emitter(Transport.prototype),Transport.prototype.onError=function(t,r){var e=Error(t);return e.type="TransportError",e.description=r,this.emit("error",e),this},Transport.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},Transport.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},Transport.prototype.send=function(t){if("open"!=this.readyState)throw Error("Transport not open");this.write(t)},Transport.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},Transport.prototype.onData=function(t){this.onPacket(parser.decodePacket(t))},Transport.prototype.onPacket=function(t){this.emit("packet",t)},Transport.prototype.onClose=function(){this.readyState="closed",this.emit("close")};