/**
 * This is my js Parser: Ze. It's actually the post-dev pre-cleanup version. Clearly.
 * Some optimizations have been applied :)
 * (c) Peter van der Zee, qfox.nl
 * @param {String} inp Input
 * @param {Tokenizer} tok
 * @param {Array} stack The tokens will be put in this array. If you're looking for the AST, this would be it :)
 */

function ZeParser(e,t,s,a){this.input=e,this.tokenizer=t,this.stack=s,this.stack.root=!0,this.scope=s.scope=[{value:"this",isDeclared:!0,isEcma:!0,thisIsGlobal:!0}],this.scope.global=!0,this.statementLabels=[],this.errorStack=[],s.scope=this.scope,s.labels=this.statementLabels,this.regexLhsStart=ZeParser.regexLhsStart,this.regexStartKeyOrReserved=ZeParser.regexStartKeyOrReserved,this.hashStartKeyOrReserved=ZeParser.hashStartKeyOrReserved,this.regexIsKeywordOrReserved=ZeParser.regexIsKeywordOrReserved,this.regexAssignments=ZeParser.regexAssignments,this.regexNonAssignmentBinaryExpressionOperators=ZeParser.regexNonAssignmentBinaryExpressionOperators,this.regexUnaryKeywords=ZeParser.regexUnaryKeywords,this.hashUnaryKeywordStart=ZeParser.hashUnaryKeywordStart,this.regexUnaryOperators=ZeParser.regexUnaryOperators,this.regexLiteralKeywords=ZeParser.regexLiteralKeywords,this.testing={"this":1,"null":1,"true":1,"false":1},this.ast=!a}if("undefined"!=typeof exports){var Tokenizer=null.Tokenizer;exports.ZeParser=ZeParser}ZeParser.parse=function(e,t){var s,a=new Tokenizer(e),r=[];try{return s=new ZeParser(e,a,r),t&&(s.ast=!1),s.parse(),r}catch(n){return console.log("Parser has a bug for this input, please report it :)",n),null}},ZeParser.createParser=function(e){var t,s=new Tokenizer(e),a=[];try{return t=new ZeParser(e,s,a),t.parse(),t}catch(r){return console.log("Parser has a bug for this input, please report it :)",r),null}},ZeParser.prototype={input:null,tokenizer:null,stack:null,scope:null,statementLabels:null,errorStack:null,ast:null,parse:function(e){e=e?this.tokenizer.storeCurrentAndFetchNextToken(!1,e,this.stack):this.tokenizer.storeCurrentAndFetchNextToken(!1,null,this.stack,!0),e=this.eatSourceElements(e,this.stack);var t=!1;do e&&12!=e.name&&(14!=e.name&&this.failignore("UnexpectedToken",e,this.stack),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,this.stack),t=!0);while(e&&14==e.name);return t&&e&&12!=e.name&&(e=this.parse(e)),this.tokenizer.errorEscape&&(this.stack.push(this.tokenizer.errorEscape),this.tokenizer.errorEscape=null),e},eatSemiColon:function(e,t){if(";"==e.value)e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t);else if(12==e.name||!e.semi&&(e.newline||"}"==e.value)||e.newline&&("++"==e.value||"--"==e.value)){var s={start:e.start,stop:e.start,name:13};t.push(s),this.tokenizer.addTokenToStreamBefore(s,e)}else this.failignore("NoASI",e,t);return e.semi=!0,e},eatExpressions:function(e,t,s,a,r,n){var i,o,h,l,c,u,d,p,m,f,k,g,x,v,y,b,S,C,w,A,N,T,F,E,B,O,z,I,P;this.ast&&(i=s,s=[],s.desc="expressions",s.nextBlack=t.tokposb,i.push(s),o=0),h=!0;do{for(l=!1,h||(t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),t.name<=6||this.regexLhsStart.test(t.value)||(t=this.failsafe("ExpectedAnotherExpressionComma",t))),this.ast&&(++o,c=s,s=[],s.desc="expression",s.nextBlack=t.tokposb,c.push(s)),u=!0;u;){for(this.ast&&(d=s,s=[],s.desc="sub-expression",s.nextBlack=t.tokposb,d.push(s),p=0),m=!1,f=null;!n&&(f=t.value&&this.hashUnaryKeywordStart[t.value[0]]&&this.regexUnaryKeywords.test(t.value)||11==t.name&&this.regexUnaryOperators.test(t.value));)f&&(t.isUnaryOp=!0),this.ast&&"new"==t.value&&++p,t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),t.name<=6||this.regexLhsStart.test(t.value)||(t=this.failsafe("ExpectedAnotherExpressionRhs",t)),m=!0;if(m&&(e=!1),k=!1,"("==t.value)this.ast&&(g=s,s=[],s.desc="grouped",s.nextBlack=t.tokposb,g.push(s),x=t,t.isGroupStart=!0),t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),t.name<=6||this.regexLhsStart.test(t.value)||(t=this.failsafe("GroupingShouldStartWithExpression",t)),t=this.eatExpressions(!1,t,s),")"!=t.value&&(t=this.failsafe("UnclosedGroupingOperator",t)),this.ast&&(t.twin=x,x.twin=t,t.isGroupStop=!0,"expressions"==s[s.length-1].desc&&(x.expressionArg=s[s.length-1])),t=this.tokenizer.storeCurrentAndFetchNextToken(!0,t,s),this.ast&&(s=g),k=!0;else if("["==t.value){for(this.ast&&(s.sub="array literal",s.hasArrayLiteral=!0,v=t,t.isArrayLiteralStart=!0,this.scope.arrays||(this.scope.arrays=[]),t.arrayId=this.scope.arrays.length,this.scope.arrays.push(t),t.targetScope=this.scope),t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s);","==t.value;)t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s);for(y=!0;y&&"]"!=t.value;)for(y=!1,t.name<=6||this.regexLhsStart.test(t.value)||14==t.name||(t=this.failsafe("ArrayShouldStartWithExpression",t)),t=this.eatExpressions(!1,t,s,!0);","==t.value;)y=!0,t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s);for("]"!=t.value&&(t=this.failsafe("UnclosedPropertyBracket",t)),this.ast&&(t.twin=v,v.twin=t,t.isArrayLiteralStop=!0),t=this.tokenizer.storeCurrentAndFetchNextToken(!0,t,s);"++"==t.value||"--"==t.value;)this.failignore("InvalidPostfixOperandArray",t,s),t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s)}else if("{"==t.value){for(this.ast&&(s.sub="object literal",s.hasObjectLiteral=!0,t.isObjectLiteralStart=!0,this.scope.objects||(this.scope.objects=[]),t.objectId=this.scope.objects.length,this.scope.objects.push(t),b=t,t.targetScope=this.scope,S=t),t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),12==t.name&&(t=this.failsafe("ObjectLiteralExpectsColonAfterName",t));"}"!=t.value&&14!=t.name;)t.isNumber||t.isString||2==t.name||(t=this.failsafe("IllegalPropertyNameToken",t)),this.ast&&(C=s,s=[],s.desc="objlit pair",s.isObjectLiteralPair=!0,s.nextBlack=t.tokposb,C.push(s),w=s,s=[],s.desc="objlit pair name",s.nextBlack=t.tokposb,w.push(s),w.sub="data",A=t,A.isPropertyName=!0),N=t.value,t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),this.ast&&(s=w),"get"==N?":"==t.value?(this.ast&&(A.isPropertyOf=b),t=this.eatObjectLiteralColonAndBody(t,s)):(this.ast&&(t.isPropertyOf=b,w.sub="getter",w.isAccessor=!0),t.isNumber||t.isString||2==t.name||(t=this.failsafe("IllegalGetterSetterNameToken",t,!0)),t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),"("!=t.value&&(t=this.failsafe("GetterSetterNameFollowedByOpenParen",t)),this.ast&&(x=t),t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),")"!=t.value&&(t=this.failsafe("GetterHasNoArguments",t)),this.ast&&(t.twin=x,x.twin=t),t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),t=this.eatFunctionBody(t,s)):"set"==N?":"==t.value?(this.ast&&(A.isPropertyOf=b),t=this.eatObjectLiteralColonAndBody(t,s)):(this.ast&&(t.isPropertyOf=b,w.sub="setter",w.isAccessor=!0),t.isNumber||t.isString||2==t.name||(t=this.failsafe("IllegalGetterSetterNameToken",t)),t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),"("!=t.value&&(t=this.failsafe("GetterSetterNameFollowedByOpenParen",t)),this.ast&&(x=t),t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),2!=t.name&&(t=")"==t.value?this.failsafe("SettersMustHaveArgument",t):this.failsafe("IllegalSetterArgumentNameToken",t)),t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),")"!=t.value&&(t=","==t.value?this.failsafe("SettersOnlyGetOneArgument",t):this.failsafe("SetterHeaderShouldHaveClosingParen",t)),this.ast&&(t.twin=x,x.twin=t),t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),t=this.eatFunctionBody(t,s)):(this.ast&&(A.isPropertyOf=b),t=this.eatObjectLiteralColonAndBody(t,s)),this.ast&&(s=C),","==t.value?(t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),","==t.value&&(t=this.failsafe("IllegalDoubleCommaInObjectLiteral",t))):"}"!=t.value&&(t=this.failsafe("UnclosedObjectLiteral",t));for(this.ast&&(t.twin=S,S.twin=t,t.isObjectLiteralStop=!0),t=this.tokenizer.storeCurrentAndFetchNextToken(!0,t,s);"++"==t.value||"--"==t.value;)this.failignore("InvalidPostfixOperandObject",t,s),t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s)}else if("function"==t.value){for(this.ast&&(T=s,s=[],s.desc="func expr",s.isFunction=!0,s.nextBlack=t.tokposb,this.scope.functions||(this.scope.functions=[]),t.functionId=this.scope.functions.length,this.scope.functions.push(t),T.push(s),F=this.scope,t.scope=s.scope=this.scope=[this.scope,{value:"this",isDeclared:!0,isEcma:!0,functionStack:s},{value:"arguments",isDeclared:!0,isEcma:!0,varType:["Object"]}],this.scope.upper=F,this.scope.scopeFor=t,t.targetScope=F,t.isFuncExprKeyword=!0,t.functionStack=s),E=t,t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),e&&":"==t.value&&(t=this.failsafe("LabelsMayNotBeReserved",t)),2==t.name&&(E.funcName=t,t.meta="func expr name",t.varType=["Function"],t.functionStack=s,this.ast&&this.scope.push({value:t.value}),this.hashStartKeyOrReserved[t.value[0]]&&this.regexIsKeywordOrReserved.test(t.value)&&(t=this.failsafe("FunctionNameMustNotBeReserved",t)),t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s)),t=this.eatFunctionParametersAndBody(t,s,!0,E);"++"==t.value||"--"==t.value;)this.failignore("InvalidPostfixOperandFunction",t,s),t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s);this.ast&&(s=T,this.scope=F)}else if(t.name<=6){if(B=t,2==t.name?(!this.regexLiteralKeywords.test(t.value)&&this.hashStartKeyOrReserved[t.value[0]]&&this.regexIsKeywordOrReserved.test(t.value)&&(n?this.failignore("BreakOrContinueArgMustBeJustIdentifier",t,s):"else"==t.value?this.failignore("DidNotExpectElseHere",t,s):this.failignore("UnexpectedToken",t,s)),k=!0):n&&(t=this.failsafe("BreakOrContinueArgMustBeJustIdentifier",t)),this.ast&&(n||(t.meta="lead value",t.leadValue=!0)),t=this.tokenizer.storeCurrentAndFetchNextToken(!0,t,s),e&&":"==t.value)return 2!=B.name&&this.failignore("LabelsMayOnlyBeIdentifiers",t,s),e=!0,t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),B.isLabel=!0,this.ast&&(delete B.meta,B.isLabelDeclaration=!0,this.statementLabels.push(B.value),s.desc="labeled statement"),O=this.errorStack.length,t=this.eatStatement(!1,t,s),t.error&&t.error.msg==ZeParser.Errors.UnableToParseStatement.msg&&(t.error=new ZeParser.Error("LabelRequiresStatement"),this.errorStack[O]=t.error),t.wasLabel=!0,t;e=!1}else if("}"==t.value);else if(14==t.name){do t.tokenError&&(z=new ZeParser.Error("TokenizerError",t),z.msg+=": "+t.error.msg,this.errorStack.push(z),this.failSpecial({start:t.start,stop:t.start,name:14,error:z},t,s)),t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s);while(14==t.name)}else{if(12==t.name)return t;this.failignore("UnknownToken",t,s),t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s)}for(;"."==t.value||"["==t.value||"("==t.value;)n&&(t=this.failsafe("BreakOrContinueArgMustBeJustIdentifier",t)),"."==t.value?(t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),2!=t.name&&this.failignore("PropertyNamesMayOnlyBeIdentifiers",t,s),this.ast&&(t.isPropertyName=!0),t=this.tokenizer.storeCurrentAndFetchNextToken(!0,t,s),k=!0):"["==t.value?(this.ast&&(v=t,t.propertyAccessStart=!0),t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),t.name<=6||this.regexLhsStart.test(t.value)||(t="]"==t.value?this.failsafe("SquareBracketsMayNotBeEmpty",t):this.failsafe("SquareBracketExpectsExpression",t)),t=this.eatExpressions(!1,t,s),"]"!=t.value&&(t=this.failsafe("UnclosedSquareBrackets",t)),this.ast&&(t.twin=v,t.propertyAccessStop=!0,v.twin=t,"expressions"==s[s.length-1].desc&&(v.expressionArg=s[s.length-1])),t=this.tokenizer.storeCurrentAndFetchNextToken(!0,t,s),k=!0):"("==t.value&&(this.ast&&(x=t,t.isCallExpressionStart=!0,p&&(t.parensBelongToNew=!0,--p)),t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),(t.name<=6||this.regexLhsStart.test(t.value))&&(t=this.eatExpressions(!1,t,s)),")"!=t.value&&(t=this.failsafe("UnclosedCallParens",t)),this.ast&&(t.twin=x,x.twin=t,t.isCallExpressionStop=!0,"expressions"==s[s.length-1].desc&&(x.expressionArg=s[s.length-1])),t=this.tokenizer.storeCurrentAndFetchNextToken(!0,t,s),k=!1);"++"!=t.value&&"--"!=t.value||t.newline||(n&&(t=this.failsafe("BreakOrContinueArgMustBeJustIdentifier",t)),t=this.tokenizer.storeCurrentAndFetchNextToken(!0,t,s)),this.ast&&(s=d);do I=!1,!r&&"in"==t.value||"instanceof"==t.value||11==t.name&&(t.isAssignment=this.regexAssignments.test(t.value))||this.regexNonAssignmentBinaryExpressionOperators.test(t.value)?(t.isAssignment&&(k?l&&this.failignore("AssignmentNotAllowedAfterNonAssignmentInExpression",t,s):this.failignore("IllegalLhsForAssignment",t,s)),n&&(t=this.failsafe("BreakOrContinueArgMustBeJustIdentifier",t)),t.isAssignment||(l=!0),this.ast&&(t.isBinaryOperator=!0,P=s,s=[],s.desc="operator-expression",s.isBinaryOperator=!0,s.sub=t.value,s.nextBlack=t.tokposb,P.sub=t.value,s.isAssignment=t.isAssignment,P.push(s)),I="?"==t.value,t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),this.ast&&(s=P),I&&(t.name<=6||this.regexLhsStart.test(t.value)||this.failignore("InvalidCenterTernaryExpression",t,s),t=this.eatExpressions(!1,t,s,!0,r),":"!=t.value&&(t=","==t.value?this.failsafe("TernarySecondExpressionCanNotContainComma",t):this.failsafe("UnfinishedTernaryOperator",t)),this.ast&&(P=s,s=[],s.desc="operator-expression",s.sub=t.value,s.nextBlack=t.tokposb,P.sub=t.value,s.isAssignment=t.isAssignment,P.push(s)),t=this.tokenizer.storeCurrentAndFetchNextToken(!1,t,s),this.ast&&(s=P),t=this.eatExpressions(!1,t,s,!0,r))):u=!1;while(I);!u||t.name<=6||this.regexLhsStart.test(t.value)||this.failignore("InvalidRhsExpression",t,s)}this.ast&&(s=c),e=h=!1}while(!a&&","==t.value);return this.ast&&(s.length||(i.length=i.length-1),i.numberOfExpressions=o,i[0]&&(i[0].numberOfExpressions=o),s.expressionCount=o),t},eatFunctionDeclaration:function(e,t){var s,a;return this.ast&&(t.push(t=[]),s=this.scope,t.desc="func decl",t.isFunction=!0,t.nextBlack=e.tokposb,this.scope.functions||(this.scope.functions=[]),e.functionId=this.scope.functions.length,this.scope.functions.push(e),e.scope=t.scope=this.scope=[this.scope,{value:"this",isDeclared:!0,isEcma:!0,functionStack:t},{value:"arguments",isDeclared:!0,isEcma:!0,varType:["Object"]}],this.scope.scopeFor=e,e.targetScope=s,e.functionStack=t,e.isFuncDeclKeyword=!0),a=e,e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),2!=e.name&&(e=this.failsafe("FunctionDeclarationsMustHaveName",e)),this.hashStartKeyOrReserved[e.value[0]]&&this.regexIsKeywordOrReserved.test(e.value)&&this.failignore("FunctionNameMayNotBeReserved",e,t),this.ast&&(a.funcName=e,s.push({value:e.value}),e.meta="func decl name",e.varType=["Function"],e.functionStack=t),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e=this.eatFunctionParametersAndBody(e,t,!1,a),this.ast&&(this.scope=s),e},eatObjectLiteralColonAndBody:function(e,t){var s,a;return this.ast&&(s=t,t=[],t.desc="objlit pair colon",t.nextBlack=e.tokposb,s.push(t)),":"!=e.value&&(e=this.failsafe("ObjectLiteralExpectsColonAfterName",e)),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),this.ast&&(t=s),a=e,e=this.eatExpressions(!1,e,t,!0),e==a&&(e=this.failsafe("ObjectLiteralMissingPropertyValue",e)),e},eatFunctionParametersAndBody:function(e,t,s,a){if("("!=e.value)e=this.failsafe("ExpectingFunctionHeaderStart",e);else if(this.ast){var r=e;a.lhp=e}if(e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),2==e.name)for(this.hashStartKeyOrReserved[e.value[0]]&&this.regexIsKeywordOrReserved.test(e.value)&&this.failignore("FunctionArgumentsCanNotBeReserved",e,t),this.ast&&(a.paramNames||(a.paramNames=[]),t.paramNames=a.paramNames,a.paramNames.push(e),this.scope.push({value:e.value}),e.meta="parameter"),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t);","==e.value;)e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),2!=e.name?this.failignore("FunctionParametersMustBeIdentifiers",e,t):this.hashStartKeyOrReserved[e.value[0]]&&this.regexIsKeywordOrReserved.test(e.value)&&this.failignore("FunctionArgumentsCanNotBeReserved",e,t),this.ast&&(this.scope.push({value:e.value}),e.meta="parameter",2==e.name&&a.paramNames.push(e)),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t);return this.ast&&r&&(e.twin=r,r.twin=e,a.rhp=e),")"!=e.value&&(e=this.failsafe("ExpectedFunctionHeaderClose",e)),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e=this.eatFunctionBody(e,t,s,a)},eatFunctionBody:function(e,t,s,a){var r,n;return this.ast&&(t.push(t=[]),t.desc="func body",t.nextBlack=e.tokposb,r=this.statementLabels,this.statementLabels=[],t.labels=this.statementLabels),"{"!=e.value&&(e=this.failsafe("ExpectedFunctionBodyCurlyOpen",e)),this.ast&&(n=e,a&&(a.lhc=n)),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e=this.eatSourceElements(e,t),"}"!=e.value&&(e=this.failsafe("ExpectedFunctionBodyCurlyClose",e)),this.ast&&(e.twin=n,n.twin=e,a&&(a.rhc=e)),e=this.tokenizer.storeCurrentAndFetchNextToken(s,e,t),this.ast&&(this.statementLabels=r),e},eatVar:function(e,t){return this.ast&&(t.push(t=[]),t.desc="statement",t.sub="var",t.nextBlack=e.tokposb,e.stack=t,e.isVarKeyword=!0),e=this.eatVarDecl(e,t),e=this.eatSemiColon(e,t)},eatVarDecl:function(e,t,s){var a,r,n,i,o;if(this.ast)for(t.push(t=[]),t.desc="var decl",t.nextBlack=e.tokposb,a=this.scope;a.catchScope;)a=a[0];r=!0,n=0;do++n,e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),this.ast&&(i=t,t=[],t.desc="single var decl",t.varStack=i,t.nextBlack=e.tokposb,i.push(t),o=t,t=[],t.desc="sub-expression",t.nextBlack=e.tokposb,o.push(t)),12==e.name?e=r?this.failsafe("VarKeywordMissingName",e):this.failsafe("IllegalTrailingComma",e):2!=e.name?e=this.failsafe("VarNamesMayOnlyBeIdentifiers",e):this.hashStartKeyOrReserved[e.value[0]]&&this.regexIsKeywordOrReserved.test(e.value)&&(e=this.failsafe("VarNamesCanNotBeReserved",e)),this.ast&&(e.meta="var name",a.push({value:e.value})),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),this.ast&&(t=o),"="==e.value&&(this.ast&&(o=t,t=[],t.desc="operator-expression",t.sub="=",t.nextBlack=e.tokposb,o.push(t),t.isAssignment=!0),e.isInitialiser=!0,e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),this.ast&&(t=o),e.name<=6||14==e.name||this.regexLhsStart.test(e.value)||(e=this.failsafe("VarInitialiserExpressionExpected",e)),e=this.eatExpressions(!1,e,t,!0,s)),this.ast&&(t=i),r=!1;while(","==e.value);return this.ast&&(t.varsDeclared=n),e},eatIf:function(e,t){var s,a;return this.ast&&(t.push(t=[]),t.desc="statement",t.sub="if",t.hasElse=!1,t.nextBlack=e.tokposb),s=e,e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),"("!=e.value&&(e=this.failsafe("ExpectedStatementHeaderOpen",e)),this.ast&&(a=e,e.statementHeaderStart=!0),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e.name<=6||this.regexLhsStart.test(e.value)||(e=this.failsafe("StatementHeaderIsNotOptional",e)),e=this.eatExpressions(!1,e,t),")"!=e.value&&(e=this.failsafe("ExpectedStatementHeaderClose",e)),this.ast&&(e.twin=a,e.statementHeaderStop=!0,a.twin=e,"expressions"==t[t.length-1].desc&&(a.expressionArg=t[t.length-1])),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e=this.eatStatement(!1,e,t),e&&"else"==e.value&&(this.ast&&(s.hasElse=e),e=this.eatElse(e,t)),e},eatElse:function(e,t){return this.ast&&(t.hasElse=!0,t.push(t=[]),t.desc="statement",t.sub="else",t.nextBlack=e.tokposb),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e=this.eatStatement(!1,e,t)},eatDo:function(e,t){var s,a;return this.ast&&(t.push(t=[]),t.desc="statement",t.sub="do",t.isIteration=!0,t.nextBlack=e.tokposb,this.statementLabels.push(""),s=e),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e=this.eatStatement(!1,e,t),"while"!=e.value&&(e=this.failsafe("DoShouldBeFollowedByWhile",e)),this.ast&&(e.hasDo=s),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),"("!=e.value&&(e=this.failsafe("ExpectedStatementHeaderOpen",e)),this.ast&&(a=e,e.statementHeaderStart=!0),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e.name<=6||this.regexLhsStart.test(e.value)||(e=this.failsafe("StatementHeaderIsNotOptional",e)),e=this.eatExpressions(!1,e,t),")"!=e.value&&(e=this.failsafe("ExpectedStatementHeaderClose",e)),this.ast&&(e.twin=a,e.statementHeaderStop=!0,e.isForDoWhile=!0,a.twin=e,"expressions"==t[t.length-1].desc&&(a.expressionArg=t[t.length-1])),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e=this.eatSemiColon(e,t)},eatWhile:function(e,t){if(this.ast&&(t.push(t=[]),t.desc="statement",t.sub="while",t.isIteration=!0,t.nextBlack=e.tokposb,this.statementLabels.push("")),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),"("!=e.value&&(e=this.failsafe("ExpectedStatementHeaderOpen",e)),this.ast){var s=e;e.statementHeaderStart=!0}return e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e.name<=6||this.regexLhsStart.test(e.value)||(e=this.failsafe("StatementHeaderIsNotOptional",e)),e=this.eatExpressions(!1,e,t),")"!=e.value&&(e=this.failsafe("ExpectedStatementHeaderClose",e)),this.ast&&(e.twin=s,e.statementHeaderStop=!0,s.twin=e,"expressions"==t[t.length-1].desc&&(s.expressionArg=t[t.length-1])),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e=this.eatStatement(!1,e,t)},eatFor:function(e,t){var s,a;return this.ast&&(t.push(t=[]),t.desc="statement",t.sub="for",t.isIteration=!0,t.nextBlack=e.tokposb,this.statementLabels.push("")),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),"("!=e.value&&(e=this.failsafe("ExpectedStatementHeaderOpen",e)),this.ast&&(s=e,e.statementHeaderStart=!0,e.forHeaderStart=!0),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),"var"==e.value?e=this.eatVarDecl(e,t,!0):";"!=e.value&&(e.name<=6||this.regexLhsStart.test(e.value)||this.failignore("StatementHeaderIsNotOptional",e,t),e=this.eatExpressions(!1,e,t,!1,!0)),"in"==e.value?(a=t[t.length-1],a.varsDeclared>1&&this.failignore("ForInCanOnlyDeclareOnVar",e,t),this.ast&&(t.forType="in",e.forFor=!0),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e=this.eatExpressions(!1,e,t)):(";"!=e.value&&(e=this.failsafe("ForHeaderShouldHaveSemisOrIn",e)),this.ast&&(t.forType="each",e.forEachHeaderStart=!0),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),(e.name<=6||this.regexLhsStart.test(e.value))&&(e=this.eatExpressions(!1,e,t)),";"!=e.value&&(e=this.failsafe("ExpectedSecondSemiOfForHeader",e)),this.ast&&(e.forEachHeaderStop=!0),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),(e.name<=6||this.regexLhsStart.test(e.value))&&(e=this.eatExpressions(!1,e,t))),")"!=e.value&&(e=this.failsafe("ExpectedStatementHeaderClose",e)),this.ast&&(e.twin=s,e.statementHeaderStop=!0,e.forHeaderStop=!0,s.twin=e,"in"==e.forType&&"expressions"==t[t.length-1].desc&&(s.expressionArg=t[t.length-1])),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e=this.eatStatement(!1,e,t)},eatContinue:function(e,t){if(this.ast&&(t.push(t=[]),t.desc="statement",t.sub="continue",t.nextBlack=e.tokposb,e.restricted=!0),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),!e.newline&&";"!=e.value&&12!=e.name&&"}"!=e.value){if(this.ast){e.isLabel=!0,e.isLabelTarget=!0;var s=e}e=this.eatExpressions(!1,e,t,!0,!1,!0),this.ast&&(t.hasLabel=s!=e),";"==e.value||e.newline||12==e.name||"}"==e.value||(e=this.failsafe("BreakOrContinueArgMustBeJustIdentifier",e))}return e=this.eatSemiColon(e,t)},eatBreak:function(e,t){var s,a;return this.ast&&(s=t,t=[],t.desc="statement",t.sub="break",t.nextBlack=e.tokposb,s.push(t),e.restricted=!0),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e.newline||";"==e.value||12==e.name||"}"==e.value||(this.ast&&(e.isLabel=!0,e.isLabelTarget=!0,a=e),e=this.eatExpressions(!1,e,t,!0,!1,!0),this.ast&&(t.hasLabel=a!=e),";"==e.value||e.newline||12==e.name||"}"==e.value||(e=this.failsafe("BreakOrContinueArgMustBeJustIdentifier",e))),e=this.eatSemiColon(e,t)},eatReturn:function(e,t){return this.ast&&(t.push(t=[]),t.desc="statement",t.sub="return",t.nextBlack=e.tokposb,t.returnFor=this.scope.scopeFor,e.restricted=!0),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e.newline||";"==e.value||12==e.name||"}"==e.value||(e=this.eatExpressions(!1,e,t)),e=this.eatSemiColon(e,t)},eatThrow:function(e,t){return this.ast&&(t.push(t=[]),t.desc="statement",t.sub="throw",t.nextBlack=e.tokposb,e.restricted=!0),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e.newline&&(e=this.failsafe("ThrowCannotHaveReturn",e)),";"==e.value&&(e=this.failsafe("ThrowMustHaveArgument",e)),e=this.eatExpressions(!1,e,t),e=this.eatSemiColon(e,t)},eatSwitch:function(e,t){var s,a,r;for(this.ast&&(t.push(t=[]),t.desc="statement",t.sub="switch",t.nextBlack=e.tokposb,this.statementLabels.push("")),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),"("!=e.value&&(e=this.failsafe("ExpectedStatementHeaderOpen",e)),this.ast&&(s=e,e.statementHeaderStart=!0),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e.name<=6||this.regexLhsStart.test(e.value)||this.failignore("StatementHeaderIsNotOptional",e,t),e=this.eatExpressions(!1,e,t),")"!=e.value&&(e=this.failsafe("ExpectedStatementHeaderClose",e)),this.ast&&(e.twin=s,e.statementHeaderStop=!0,s.twin=e,"expressions"==t[t.length-1].desc&&(s.expressionArg=t[t.length-1])),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),"{"!=e.value&&(e=this.failsafe("SwitchBodyStartsWithCurly",e)),this.ast&&(a=e),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),r=!1;"case"==e.value||!t.parsedSwitchDefault&&"default"==e.value;)r=!0,e=this.eatSwitchClause(e,t);return r||"}"==e.value||(e=this.failsafe("SwitchBodyMustStartWithClause",e)),t.parsedSwitchDefault&&"default"==e.value&&this.failignore("SwitchCannotHaveDoubleDefault",e,t),"}"!=e.value&&14!=e.name&&(e=this.failsafe("SwitchBodyEndsWithCurly",e)),this.ast&&(e.twin=a,a.twin=e),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t)},eatSwitchClause:function(e,t){return e=this.eatSwitchHeader(e,t),e=this.eatSwitchBody(e,t)},eatSwitchHeader:function(e,t){if(this.ast){var s=t;t.push(t=[]),t.desc="switch clause header",t.nextBlack=e.tokposb}return"case"==e.value?e=this.eatSwitchCaseHead(e,t):(this.ast&&(s.hasDefaultClause=!0),e=this.eatSwitchDefaultHead(e,t)),this.ast&&(t.push(t=[]),t.desc="colon",t.nextBlack=e.tokposb),":"!=e.value&&(e=this.failsafe("SwitchClausesEndWithColon",e)),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t)},eatSwitchBody:function(e,t){this.ast&&(t.push(t=[]),t.desc="switch clause body",t.nextBlack=e.tokposb);for(var s=null;"default"!=e.value&&"case"!=e.value&&"}"!=e.value&&14!=e.name&&12!=e.name&&s!=e;)s=e,e=this.eatStatement(!0,e,t);return s==e&&this.failsafe("UnexpectedInputSwitch",e),e},eatSwitchCaseHead:function(e,t){if(this.ast){t.sub="case";var s=t;t.push(t=[]),t.desc="case",t.nextBlack=e.tokposb,e.isCase=!0}return e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),":"==e.value?this.failignore("CaseMissingExpression",e,t):(this.ast&&(s.push(t=[]),t.desc="case arg",t.nextBlack=e.tokposb),e=this.eatExpressions(!1,e,t)),e},eatSwitchDefaultHead:function(e,t){return this.ast&&(t.sub="default",t.push(t=[]),t.desc="case",t.nextBlack=e.tokposb,e.isDefault=!0),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t)},eatTryCatchFinally:function(e,t){return this.ast&&(t.push(t=[]),t.desc="statement",t.sub="try",t.nextBlack=e.tokposb),e=this.eatTry(e,t),"catch"==e.value&&(this.ast&&(t.hasCatch=!0),e=this.eatCatch(e,t)),"finally"==e.value&&(this.ast&&(t.hasFinally=!0),e=this.eatFinally(e,t)),t.tryHasCatchOrFinally||this.failignore("TryMustHaveCatchOrFinally",e,t),e},eatTry:function(e,t){if(e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),"{"!=e.value&&(e=this.failsafe("MissingTryBlockCurlyOpen",e)),this.ast){t.push(t=[]),t.desc="statement",t.sub="tryblock",t.nextBlack=e.tokposb;var s=e}return e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),"}"!=e.value&&(e=this.eatStatements(e,t)),"}"!=e.value&&(e=this.failsafe("MissingTryBlockCurlyClose",e)),this.ast&&(e.twin=s,s.twin=e),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t)},eatCatch:function(e,t){var s,a,r,n;if(t.tryHasCatchOrFinally=!0,this.ast){for(t.push(t=[]),t.desc="statement",t.sub="catch",t.nextBlack=e.tokposb,s=this.scope,e.scope=this.scope=t.scope=[this.scope],this.scope.catchScope=!0,a=s;a.catchScope;)a=a[0];a.catches||(a.catches=[]),e.catchId=a.catches.length,a.catches.push(e),e.targetScope=a,e.catchScope=this.scope,this.scope.scopeFor=e,s.global?this.scope.push(s[0]):s.catchScope?(this.scope.push(s[1]),s[2]&&"arguments"==s[2].value&&this.scope.push(s[2])):this.scope.push(s[1],s[2])}return e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),"("!=e.value&&(e=this.failsafe("CatchHeaderMissingOpen",e)),this.ast&&(r=e),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),2!=e.name&&(e=this.failsafe("MissingCatchParameter",e)),this.hashStartKeyOrReserved[e.value[0]]&&this.regexIsKeywordOrReserved.test(e.value)&&this.failignore("CatchParameterNameMayNotBeReserved",e,t),this.ast&&(e.meta="var name",this.scope.push(e),e.isCatchVar=!0),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),")"!=e.value&&(e=this.failsafe("CatchHeaderMissingClose",e)),this.ast&&(e.twin=r,r.twin=e),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),"{"!=e.value&&(e=this.failsafe("MissingCatchBlockCurlyOpen",e)),this.ast&&(n=e),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),"}"!=e.value&&(e=this.eatStatements(e,t)),"}"!=e.value&&(e=this.failsafe("MissingCatchBlockCurlyClose",e)),this.ast&&(e.twin=n,n.twin=e),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),this.ast&&(this.scope=s),e},eatFinally:function(e,t){if(t.tryHasCatchOrFinally=!0,this.ast&&(t.push(t=[]),t.desc="statement",t.sub="finally",t.nextBlack=e.tokposb),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),"{"!=e.value&&(e=this.failsafe("MissingFinallyBlockCurlyOpen",e)),this.ast)var s=e;return e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),"}"!=e.value&&(e=this.eatStatements(e,t)),"}"!=e.value&&(e=this.failsafe("MissingFinallyBlockCurlyClose",e)),this.ast&&(e.twin=s,s.twin=e),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t)},eatDebugger:function(e,t){return this.ast&&(t.push(t=[]),t.desc="statement",t.sub="debugger",t.nextBlack=e.tokposb),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e=this.eatSemiColon(e,t)},eatWith:function(e,t){if(this.ast&&(t.push(t=[]),t.desc="statement",t.sub="with",t.nextBlack=e.tokposb),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),"("!=e.value&&(e=this.failsafe("ExpectedStatementHeaderOpen",e)),this.ast){var s=e;e.statementHeaderStart=!0}return e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e.name<=6||this.regexLhsStart.test(e.value)||(e=this.failsafe("StatementHeaderIsNotOptional",e)),e=this.eatExpressions(!1,e,t),")"!=e.value&&(e=this.failsafe("ExpectedStatementHeaderClose",e)),this.ast&&(e.twin=s,e.statementHeaderStop=!0,s.twin=e,"expressions"==t[t.length-1].desc&&(s.expressionArg=t[t.length-1])),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),e=this.eatStatement(!1,e,t)},eatFunction:function(e,t){var s,a=new ZeParser.Error;return this.errorStack.push(a),s={start:e.stop,stop:e.stop,name:14,error:a},this.specialError(s,e,t),e=this.eatFunctionDeclaration(e,t)},eatLabelOrExpression:function(e,t){if(this.ast){var s=t;t=[],t.desc="statement",t.sub="expression",t.nextBlack=e.tokposb,s.push(t)}return e=this.eatExpressions(!0,e,t),e.wasLabel?this.ast&&(t.sub="labeled"):(this.ast&&(t.sub="expression"),e=this.eatSemiColon(e,t)),e},eatBlock:function(e,t){if(this.ast){t.sub="block";var s=e}return e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t),"}"==e.value?this.ast&&(t.isEmptyBlock=!0):e=this.eatStatements(e,t),"}"!=e.value&&(e=this.failsafe("BlockCurlyClose",e)),this.ast&&(e.twin=s,s.twin=e),e=this.tokenizer.storeCurrentAndFetchNextToken(!1,e,t)},eatStatements:function(e,t){for(;e!=(e=this.eatStatement(!0,e,t)););return e},eatStatement:function(e,t,s){var a,r;if(!t&&e)return t;if(this.ast&&(t.statementStart=!0,a=s,s=[],s.desc="statement-parent",s.nextBlack=t.tokposb,a.push(s),r=this.statementLabels,this.statementLabels=[r],s.labels=this.statementLabels),2==t.name)switch(t.value){case"var":t=this.eatVar(t,s);break;case"if":t=this.eatIf(t,s);break;case"do":t=this.eatDo(t,s);break;case"while":t=this.eatWhile(t,s);break;case"for":t=this.eatFor(t,s);break;case"continue":t=this.eatContinue(t,s);break;case"break":t=this.eatBreak(t,s);break;case"return":t=this.eatReturn(t,s);break;case"throw":t=this.eatThrow(t,s);break;case"switch":t=this.eatSwitch(t,s);break;case"try":t=this.eatTryCatchFinally(t,s);break;case"debugger":t=this.eatDebugger(t,s);break;case"with":t=this.eatWith(t,s);break;case"function":this.failignore("StatementMayNotStartWithFunction",t,s),t=this.eatFunctionDeclaration(t,s);
break;default:t=this.eatLabelOrExpression(t,s)}else"{"==t.value?t=this.eatBlock(t,s):t.isString||t.isNumber||1==t.name||this.regexLhsStart.test(t.value)?(t=this.eatExpressions(!1,t,s),t=this.eatSemiColon(t,s)):";"==t.value?(t.emptyStatement=!0,t=this.eatSemiColon(t,s)):e?this.ast&&(t.statementStart=!0):(this.ast&&(t.statementStart=!1),t=this.failsafe("UnableToParseStatement",t));return this.ast&&(s.length||(a.length=a.length-1),this.statementLabels=r),t},eatSourceElements:function(e,t){for(;e!=s;){var s=e;e="function"==e.value?this.eatFunctionDeclaration(e,t):this.eatStatement(!0,e,t)}return e},failsafe:function(e,t,s){var a,r=new ZeParser.Error(e,t);return this.errorStack.push(r),s||(this.tokenizer.errorEscape&&this.stack.push(this.tokenizer.errorEscape),this.tokenizer.errorEscape=t),a={start:t.start,stop:t.start,len:0,name:14,error:r,value:""},this.tokenizer.addTokenToStreamBefore(a,t),a},failignore:function(e,t,s){var a,r=new ZeParser.Error(e,t);this.errorStack.push(r),a={start:t.start,stop:t.start,len:0,name:14,error:r,value:""},s.push(a),this.tokenizer.addTokenToStreamBefore(a,t)},failSpecial:function(e,t,s){s.push(e),this.tokenizer.addTokenToStreamBefore(e,t)},0:0},ZeParser.testSuite=function(e){var t,s,a,r,n=0,i=0,o=+new Date;for(t=0;t<e.length;++t){s=e[t],a=s[0],s[s.length-1],r=[];try{new ZeParser(a,new Tokenizer(a),r).parse(),++n}catch(h){++i}document.getElementsByTagName("div")[0].innerHTML="Ze parser test suite finished ("+(+new Date-o)+" ms). ok:"+n+", fail:"+i}},ZeParser.regexLhsStart=/[\+\-\~\!\(\{\[]/,ZeParser.regexStartKeyOrReserved=/[bcdefinrstvw]/,ZeParser.hashStartKeyOrReserved=Object.create?Object.create(null,{b:{value:1},c:{value:1},d:{value:1},e:{value:1},f:{value:1},i:{value:1},n:{value:1},r:{value:1},s:{value:1},t:{value:1},v:{value:1},w:{value:1}}):{b:1,c:1,d:1,e:1,f:1,i:1,n:1,r:1,s:1,t:1,v:1,w:1},ZeParser.regexIsKeywordOrReserved=/^break$|^catch$|^continue$|^debugger$|^default$|^delete$|^do$|^else$|^finally$|^for$|^function$|^if$|^in$|^instanceof$|^new$|^return$|^switch$|^case$|^this$|^true$|^false$|^null$|^throw$|^try$|^typeof$|^var$|^void$|^while$|^with$|^class$|^const$|^enum$|^export$|^extends$|^import$|^super$/,ZeParser.regexAssignments=/^[\+\-\*\%\&\|\^\/]?=$|^\<\<\=$|^\>{2,3}\=$/,ZeParser.regexNonAssignmentBinaryExpressionOperators=/^[\+\-\*\%\|\^\&\?\/]$|^[\<\>]\=?$|^[\=\!]\=\=?$|^\<\<|\>\>\>?$|^\&\&$|^\|\|$/,ZeParser.regexUnaryKeywords=/^delete$|^void$|^typeof$|^new$/,ZeParser.hashUnaryKeywordStart=Object.create?Object.create(null,{d:{value:1},v:{value:1},t:{value:1},n:{value:1}}):{d:1,v:1,t:1,n:1},ZeParser.regexUnaryOperators=/[\+\-\~\!]/,ZeParser.regexLiteralKeywords=/^this$|^null$|^true$|^false$/,ZeParser.Error=function(e,t){this.msg=ZeParser.Errors[e].msg,this.before=ZeParser.Errors[e].before,this.match=t},ZeParser.Errors={NoASI:{msg:"Expected semi-colon, was unable to apply ASI"},ExpectedAnotherExpressionComma:{msg:"expecting another (left hand sided) expression after the comma"},ExpectedAnotherExpressionRhs:{msg:"expected a rhs expression"},UnclosedGroupingOperator:{msg:"Unclosed grouping operator"},GroupingShouldStartWithExpression:{msg:"The grouping operator (`(`) should start with a left hand sided expression"},ArrayShouldStartWithExpression:{msg:"The array literal (`[`) should start with a left hand sided expression"},UnclosedPropertyBracket:{msg:"Property bracket was not closed after expression (expecting `]`)"},IllegalPropertyNameToken:{msg:"Object literal property names can only be assigned as strings, numbers or identifiers"},IllegalGetterSetterNameToken:{msg:"Name of a getter/setter can only be assigned as strings, numbers or identifiers"},GetterSetterNameFollowedByOpenParen:{msg:"The name of the getter/setter should immediately be followed by the opening parenthesis `(`"},GetterHasNoArguments:{msg:"The opening parenthesis `(` of the getter should be immediately followed by the closing parenthesis `)`, the getter cannot have an argument"},IllegalSetterArgumentNameToken:{msg:"Expecting the name of the argument of a setter, can only be assigned as strings, numbers or identifiers"},SettersOnlyGetOneArgument:{msg:"Setters have one and only one argument, missing the closing parenthesis `)`"},SetterHeaderShouldHaveClosingParen:{msg:"After the first argument of a setter should come a closing parenthesis `)`"},SettersMustHaveArgument:{msg:"Setters must have exactly one argument defined"},UnclosedObjectLiteral:{msg:"Expected to find a comma `,` for the next expression or a closing curly brace `}` to end the object literal"},FunctionNameMustNotBeReserved:{msg:"Function name may not be a keyword or a reserved word"},ExpressionMayNotStartWithKeyword:{msg:"Expressions may not start with keywords or reserved words that are not in this list: [this, null, true, false, void, typeof, delete, new]"},LabelsMayOnlyBeIdentifiers:{msg:"Label names may only be defined as an identifier"},LabelsMayNotBeReserved:{msg:"Labels may not be a keyword or a reserved word"},UnknownToken:{msg:"Unknown token encountered, dont know how to proceed"},PropertyNamesMayOnlyBeIdentifiers:{msg:"The tokens of property names accessed through the dot operator may only be identifiers"},SquareBracketExpectsExpression:{msg:"The square bracket property access expects an expression"},SquareBracketsMayNotBeEmpty:{msg:"Square brackets may never be empty, expecting an expression"},UnclosedSquareBrackets:{msg:"Unclosed square bracket encountered, was expecting `]` after the expression"},UnclosedCallParens:{msg:"Unclosed call parenthesis, expecting `)` after the optional expression"},InvalidCenterTernaryExpression:{msg:"Center expression of ternary operator should be a regular expression (but may not contain the comma operator directly)"},UnfinishedTernaryOperator:{msg:"Encountered a ternary operator start (`?`) but did not find the required colon (`:`) after the center expression"},TernarySecondExpressionCanNotContainComma:{msg:'The second and third expressions of the ternary operator can/may not "directly" contain a comma operator'},InvalidRhsExpression:{msg:"Expected a right hand side expression after the operator (which should also be a valid lhs) but did not find one"},FunctionDeclarationsMustHaveName:{msg:"Function declaration must have name"},FunctionNameMayNotBeReserved:{msg:"Function name may not be a keyword or reserved word"},ExpectingFunctionHeaderStart:{msg:"Expected the opening parenthesis of the function header"},FunctionArgumentsCanNotBeReserved:{msg:"Function arguments may not be keywords or reserved words"},FunctionParametersMustBeIdentifiers:{msg:"Function arguments must be identifiers"},ExpectedFunctionHeaderClose:{msg:"Expected the closing parenthesis `)` of the function header"},ExpectedFunctionBodyCurlyOpen:{msg:"Expected the opening curly brace `{` for the function body"},ExpectedFunctionBodyCurlyClose:{msg:"Expected the closing curly brace `}` for the function body"},VarNamesMayOnlyBeIdentifiers:{msg:"Missing variable name, must be a proper identifier"},VarNamesCanNotBeReserved:{msg:"Variable names may not be keywords or reserved words"},VarInitialiserExpressionExpected:{msg:"The initialiser of the variable statement should be an expression without comma"},ExpectedStatementHeaderOpen:{msg:"Expected opening parenthesis `(` for statement header"},StatementHeaderIsNotOptional:{msg:"Statement header must not be empty"},ExpectedStatementHeaderClose:{msg:"Expected closing parenthesis `)` for statement header"},DoShouldBeFollowedByWhile:{msg:"The do-while statement requires the `while` keyword after the expression"},ExpectedSecondSemiOfForHeader:{msg:"Expected the second semi-colon of the for-each header"},ForHeaderShouldHaveSemisOrIn:{msg:"The for-header should contain at least the `in` operator or two semi-colons (`;`)"},SwitchBodyStartsWithCurly:{msg:"The body of a switch statement starts with a curly brace `{`"},SwitchClausesEndWithColon:{msg:"Switch clauses (`case` and `default`) end with a colon (`:`)"},SwitchCannotHaveDoubleDefault:{msg:"Switches cannot have more than one `default` clause"},SwitchBodyEndsWithCurly:{msg:"The body of a switch statement ends with a curly brace `}`"},MissingTryBlockCurlyOpen:{msg:"Missing the opening curly brace (`{`) for the block of the try statement"},MissingTryBlockCurlyClose:{msg:"Missing the closing curly brace (`}`) for the block of the try statement"},CatchHeaderMissingOpen:{msg:"Missing the opening parenthesis of the catch header"},MissingCatchParameter:{msg:"Catch clauses should have exactly one argument which will be bound to the error object being thrown"},CatchParameterNameMayNotBeReserved:{msg:"Catch clause parameter may not be a keyword or reserved word"},CatchHeaderMissingClose:{msg:"Missing the closing parenthesis of the catch header"},MissingCatchBlockCurlyOpen:{msg:"Missing the opening curly brace (`{`) for the block of the catch statement"},MissingCatchBlockCurlyClose:{msg:"Missing the closing curly brace (`}`) for the block of the catch statement"},MissingFinallyBlockCurlyOpen:{msg:"Missing the opening curly brace (`{`) for the block of the finally statement"},MissingFinallyBlockCurlyClose:{msg:"Missing the closing curly brace (`}`) for the block of the finally statement"},StatementMayNotStartWithFunction:{msg:"statements may not start with function...",before:!0},BlockCurlyClose:{msg:"Expected the closing curly (`}`) for a block statement"},BlockCurlyOpen:{msg:"Expected the closing curly (`}`) for a block statement"},UnableToParseStatement:{msg:"Was unable to find a statement when it was requested"},IllegalDoubleCommaInObjectLiteral:{msg:"A double comma in object literals is not allowed"},ObjectLiteralExpectsColonAfterName:{msg:"After every property name (identifier, string or number) a colon (`:`) should follow"},ThrowMustHaveArgument:{msg:"The expression argument for throw is not optional"},ThrowCannotHaveReturn:{msg:"There may not be a return between throw and the start of its expression argument"},SwitchBodyMustStartWithClause:{msg:"The body of a switch clause must start with at a case or default clause (but may be empty, which would be silly)"},BreakOrContinueArgMustBeJustIdentifier:{msg:"The argument to a break or continue statement must be exactly and only an identifier (an existing label)"},AssignmentNotAllowedAfterNonAssignmentInExpression:{msg:"An assignment is not allowed if it is preceeded by a non-expression operator in the same expression-level"},IllegalLhsForAssignment:{msg:"Illegal left hand side for assignment (you cannot assign to things like string literals, number literals or function calls}"},VarKeywordMissingName:{msg:"Var keyword should be followed by a variable name"},IllegalTrailingComma:{msg:"Illegal trailing comma found"},ObjectLiteralMissingPropertyValue:{msg:"Missing object literal property value"},TokenizerError:{msg:"Tokenizer encountered unexpected input"},LabelRequiresStatement:{msg:"Saw a label without the (required) statement following"},DidNotExpectElseHere:{msg:"Did not expect an else here. To what if should it belong? Maybe you put a ; after the if-block? (if(x){};else{})"},UnexpectedToken:{msg:"Found an unexpected token and have no idea why"},InvalidPostfixOperandArray:{msg:"You cannot apply ++ or -- to an array"},InvalidPostfixOperandObject:{msg:"You cannot apply ++ or -- to an object"},InvalidPostfixOperandFunction:{msg:"You cannot apply ++ or -- to a function"},CaseMissingExpression:{msg:"Case expects an expression before the colon"},TryMustHaveCatchOrFinally:{msg:"The try statement must have a catch or finally block"},UnexpectedInputSwitch:{msg:"Unexpected input while parsing a switch clause..."},ForInCanOnlyDeclareOnVar:{msg:"For-in header can only introduce one new variable"}};