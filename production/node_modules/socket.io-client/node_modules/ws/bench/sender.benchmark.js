/*!
 * ws: a node.js websocket client
 * Copyright(c) 2011 Einar Otto Stangvik <einaros@gmail.com>
 * MIT Licensed
 */

var benchmark=null,Sender=null.Sender,suite=new benchmark.Suite("Sender");suite.on("start",function(){sender=new Sender,sender._socket={write:function(){}}}),suite.on("cycle",function(){sender=new Sender,sender._socket={write:function(){}}}),framePacket=new Buffer(204800),framePacket.fill(99),suite.add("frameAndSend, unmasked (200 kB)",function(){sender.frameAndSend(2,framePacket,!0,!1)}),suite.add("frameAndSend, masked (200 kB)",function(){sender.frameAndSend(2,framePacket,!0,!0)}),suite.on("cycle",function(e,n){console.log("\n  "+suite.name.grey,n.name.white.bold),console.log("  "+[n.hz.toFixed(2).cyan+" ops/sec".grey,(""+n.count).white+" times executed".grey,"benchmark took ".grey+(""+n.times.elapsed).white+" sec.".grey].join(", ".grey))}),module.parent?module.exports=suite:suite.run();