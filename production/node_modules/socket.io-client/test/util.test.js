/*!
 * socket.io-node
 * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
 * MIT Licensed
 */

!function(o,e){o.exports={"parse uri":function(){var o=e.util.parseUri("http://google.com"),l=e.util.parseUri("https://www.google.com:80"),u=e.util.parseUri("google.com:8080/foo/bar?foo=bar");o.protocol.should().eql("http"),o.port.should().eql(""),o.host.should().eql("google.com"),l.protocol.should().eql("https"),l.port.should().eql("80"),l.host.should().eql("www.google.com"),u.port.should().eql("8080"),u.query.should().eql("foo=bar"),u.path.should().eql("/foo/bar"),u.relative.should().eql("/foo/bar?foo=bar")},"unique uri":function(){var o=e.util.parseUri("http://google.com"),l=e.util.parseUri("google.com"),u=e.util.parseUri("https://google.com"),r=e.util.parseUri("https://google.com/google.com/com/?foo=bar");"object"==typeof window?(e.util.uniqueUri(o).should().eql("http://google.com:3000"),e.util.uniqueUri(l).should().eql("http://google.com:3000")):(e.util.uniqueUri(o).should().eql("http://google.com:80"),e.util.uniqueUri(l).should().eql("http://google.com:80")),e.util.uniqueUri(u).should().eql("https://google.com:443"),e.util.uniqueUri(r).should().eql("https://google.com:443")},"chunk query string":function(){e.util.chunkQuery("foo=bar").should().be.a("object"),e.util.chunkQuery("foo=bar").foo.should().eql("bar")},"merge query strings":function(){var o=e.util.query("foo=bar","foo=baz"),l=e.util.query("foo=bar","bar=foo");o.should().eql("?foo=baz"),l.should().eql("?foo=bar&bar=foo"),e.util.query("","").should().eql(""),e.util.query("foo=bar","").should().eql("?foo=bar"),e.util.query("","foo=bar").should().eql("?foo=bar")},request:function(){var o=typeof e.util.request();o.should().eql("object")},"is array":function(){e.util.isArray([]).should().be_true,e.util.isArray({}).should().be_false,e.util.isArray("str").should().be_false,e.util.isArray(new Date).should().be_false,e.util.isArray(!0).should().be_false,e.util.isArray(arguments).should().be_false},"merge, deep merge":function(){var o={foo:"bar",bar:"baz"},l={foo:"foo",bar:"bar"},u={ping:"pong"},r={level1:{foo:"bar",level2:{foo:"bar",level3:{foo:"bar",rescursive:r}}}},t={foo:"bar",level1:{foo:"baz",level2:{foo:"foo",level3:{foo:"pewpew",rescursive:r}}}};e.util.merge(o,l),o.foo.should().eql("foo"),o.bar.should().eql("bar"),e.util.merge(o,u),o.ping.should().eql("pong"),o.foo.should().eql("foo"),e.util.merge(r,t),r.foo.should().eql("bar"),r.level1.foo.should().eql("baz"),r.level1.level2.foo.should().eql("foo"),r.level1.level2.level3.foo.should().eql("pewpew")},defer:function(o){var l=+new Date;e.util.defer(function(){(new Date-l>=(e.util.webkit?100:0)).should().be_true(),o()})},indexOf:function(){var o=["socket",2,3,4,"socket",5,6,7,"io"];e.util.indexOf(o,"socket",1).should().eql(4),e.util.indexOf(o,"socket").should().eql(0),e.util.indexOf(o,"waffles").should().eql(-1)}}}("undefined"==typeof module?module={}:module,"undefined"==typeof io?null:io,"undefined"==typeof should?null:should);