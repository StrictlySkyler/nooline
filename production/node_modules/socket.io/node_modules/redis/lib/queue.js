function Queue(){this.tail=[],this.head=[],this.offset=0}var to_array=require("./to_array");Queue.prototype.shift=function(){if(this.offset===this.head.length){var t=this.head;if(t.length=0,this.head=this.tail,this.tail=t,this.offset=0,0===this.head.length)return}return this.head[this.offset++]},Queue.prototype.push=function(t){return this.tail.push(t)},Queue.prototype.forEach=function(t,e){var h,i,s=this.head.slice(this.offset);if(s.push.apply(s,this.tail),e)for(h=0,i=s.length;i>h;h+=1)t.call(e,s[h],h,s);else for(h=0,i=s.length;i>h;h+=1)t(s[h],h,s);return s},Queue.prototype.getLength=function(){return this.head.length-this.offset+this.tail.length},Object.defineProperty(Queue.prototype,"length",{get:function(){return this.getLength()}}),"undefined"!=typeof module&&module.exports&&(module.exports=Queue);