var multi,redis=require("redis"),client=redis.createClient(),set_size=20;for(client.sadd("bigset","a member"),client.sadd("bigset","another member");set_size>0;)client.sadd("bigset","member "+set_size),set_size-=1;client.multi().scard("bigset").smembers("bigset").keys("*",function(e,i){client.mget(i,redis.print)}).dbsize().exec(function(e,i){console.log("MULTI got "+i.length+" replies"),i.forEach(function(e,i){console.log("Reply "+i+": "+(""+e))})}),client.mset("incr thing",100,"incr other thing",1,redis.print),multi=client.multi(),multi.incr("incr thing",redis.print),multi.incr("incr other thing",redis.print),client.get("incr thing",redis.print),multi.exec(function(e,i){console.log(i)}),multi.exec(function(e,i){console.log(i),client.quit()});