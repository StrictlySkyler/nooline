var i,j,k,tmp,str,buf,start,end,source=new Buffer(100),dest=new Buffer(100),count=1e6,bytes=100;for(i=99;i>=0;i--)source[i]=120;for(str="This is a nice String.",buf=new Buffer("This is a lovely Buffer."),start=new Date,i=100*count;i>0;i--)Buffer.isBuffer(str);for(end=new Date,console.log("Buffer.isBuffer(str) "+(end-start)+" ms"),start=new Date,i=100*count;i>0;i--)Buffer.isBuffer(buf);for(end=new Date,console.log("Buffer.isBuffer(buf) "+(end-start)+" ms"),start=new Date,i=100*count;i>0;i--);for(end=new Date,console.log("str instanceof Buffer "+(end-start)+" ms"),start=new Date,i=100*count;i>0;i--);for(end=new Date,console.log("buf instanceof Buffer "+(end-start)+" ms"),i=bytes;i>0;i--){for(start=new Date,j=count;j>0;j--)tmp=source.toString("ascii",0,bytes);end=new Date,console.log("toString() "+i+" bytes "+(end-start)+" ms")}for(i=bytes;i>0;i--){for(start=new Date,j=count;j>0;j--)for(tmp="",k=0;i>=k;k++)tmp+=String.fromCharCode(source[k]);end=new Date,console.log("manual string "+i+" bytes "+(end-start)+" ms")}for(i=bytes;i>0;i--){for(start=new Date,j=count;j>0;j--)for(k=i;k>0;k--)dest[k]=source[k];end=new Date,console.log("Manual copy "+i+" bytes "+(end-start)+" ms")}for(i=bytes;i>0;i--){for(start=new Date,j=count;j>0;j--)for(k=i;k>0;k--)dest[k]=120;end=new Date,console.log("Direct assignment "+i+" bytes "+(end-start)+" ms")}for(i=bytes;i>0;i--){for(start=new Date,j=count;j>0;j--)source.copy(dest,0,0,i);end=new Date,console.log("Buffer.copy() "+i+" bytes "+(end-start)+" ms")}