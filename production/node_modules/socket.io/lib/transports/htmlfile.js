/*!
 * socket.io-node
 * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
 * MIT Licensed
 */

function HTMLFile(t,e,r){HTTPTransport.call(this,t,e,r)}var HTTPTransport=null;exports=module.exports=HTMLFile,HTMLFile.prototype.__proto__=HTTPTransport.prototype,HTMLFile.prototype.name="htmlfile",HTMLFile.prototype.handleRequest=function(t){HTTPTransport.prototype.handleRequest.call(this,t),"GET"==t.method&&(t.res.writeHead(200,{"Content-Type":"text/html; charset=UTF-8",Connection:"keep-alive","Transfer-Encoding":"chunked"}),t.res.write("<html><body><script>var _ = function (msg) { parent.s._(msg, document); };</script>"+Array(174).join(" ")))},HTMLFile.prototype.write=function(t){t="<script>_("+JSON.stringify(t).replace(/\//g,"\\/")+");</script>",this.response.write(t)&&(this.drained=!0),this.log.debug(this.name+" writing",t)};