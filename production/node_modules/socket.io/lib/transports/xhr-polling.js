/*!
 * socket.io-node
 * Copyright(c) 2011 LearnBoost <dev@learnboost.com>
 * MIT Licensed
 */

function XHRPolling(o,t,e){HTTPPolling.call(this,o,t,e)}var HTTPPolling=null;exports=module.exports=XHRPolling,XHRPolling.prototype.__proto__=HTTPPolling.prototype,XHRPolling.prototype.name="xhr-polling",XHRPolling.prototype.doWrite=function(o){HTTPPolling.prototype.doWrite.call(this);var t=this.req.headers.origin,e={"Content-Type":"text/plain; charset=UTF-8","Content-Length":void 0===o?0:Buffer.byteLength(o),Connection:"Keep-Alive"};t&&(e["Access-Control-Allow-Origin"]=t,e["Access-Control-Allow-Credentials"]="true"),this.response.writeHead(200,e),this.response.write(o),this.log.debug(this.name+" writing",o)};