function HtmlToDom(e){if(e&&e.write)this.appendHtmlToElement=function(t,n){var o=n;return e.onerror=function(){},e.ontext=function(e){var t=o.ownerDocument||o,n=t.createTextNode(e);o.appendChild(n)},e.onopentag=function(e){var t=e.name.toLowerCase(),n=o.ownerDocument||o,r=n.createElement(t),a=0;e.attributes&&e.attributes.length?e.attributes.length:0;for(a in e.attributes)e.attributes.hasOwnProperty(a)&&r.setAttribute(a,e.attributes[a]);for(a=0;a<e.attributes.length;a++)r.setAttribute(a,e.attributes.item(a));o.appendChild(r),o=r},e.onclosetag=function(){o=o.parentNode},e.write(t).close(),n};else if(e&&(e.ParseHtml||e.DefaultHandler)){if(e.ParseHtml);else if(e.DefaultHandler){var t=new e.DefaultHandler,n=new e.Parser(t);e.ParseHtml=function(e){return n.includeLocation=!1,n.parseComplete(e),t.dom}}this.appendHtmlToElement=function(t,n){var o,r;for("string"!=typeof t&&(t+=""),o=e.ParseHtml(t),r=0;r<o.length;r++)setChild(n,o[r]);return n}}else this.appendHtmlToElement=e&&"HTML5"==e.moduleName?function(t,n){if("string"!=typeof t&&(t+=""),t.length>0)if(9==n.nodeType)new e.Parser({document:n}).parse(t);else{var o=new e.Parser({document:n.ownerDocument});o.parse_fragment(t,n)}}:function(){console.log(""),console.log("###########################################################"),console.log("#  WARNING: No HTML parser could be found."),console.log("#  Element.innerHTML setter support has been disabled"),console.log("#  Element.innerHTML getter support will still function"),console.log("#  Download: http://github.com/tautologistics/node-htmlparser"),console.log("###########################################################"),console.log("")}}function setChild(e,t){var n,o,r=e._ownerDocument||e;switch(t.type){case"tag":case"script":case"style":try{o=r.createElement(t.name),t.location&&(o.sourceLocation=t.location,o.sourceLocation.file=e.sourceLocation.file)}catch(a){return r.raise("error","invalid markup",{exception:a,node:t}),null}break;case"text":o=r.createTextNode(/^(?:script|style)$/i.test(e.nodeName)?t.data:HTMLDecode(t.data));break;case"comment":o=r.createComment(t.data);break;default:return null}if(!o)return null;if(t.attribs)for(n in t.attribs)try{o.setAttribute(n.toLowerCase(),HTMLDecode(t.attribs[n]))}catch(l){}if(t.children)for(n=0;n<t.children.length;n++)setChild(o,t.children[n]);try{return e.appendChild(o)}catch(a){return r.raise("error",a.message,{exception:a,node:t}),null}}var HTMLDecode=null.HTMLDecode;exports.HtmlToDom=HtmlToDom;