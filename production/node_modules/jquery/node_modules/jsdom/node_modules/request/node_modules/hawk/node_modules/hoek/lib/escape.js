var internals={};exports.escapeJavaScript=function(n){var r,e,t,a;if(!n)return"";for(r="",e=0,t=n.length;t>e;++e)a=n.charCodeAt(e),r+=internals.isSafe(a)?n[e]:internals.escapeJavaScriptChar(a);return r},exports.escapeHtml=function(n){var r,e,t,a;if(!n)return"";for(r="",e=0,t=n.length;t>e;++e)a=n.charCodeAt(e),r+=internals.isSafe(a)?n[e]:internals.escapeHtmlChar(a);return r},internals.escapeJavaScriptChar=function(n){if(n>=256)return"\\u"+internals.padLeft(""+n,4);var r=new Buffer(String.fromCharCode(n),"ascii").toString("hex");return"\\x"+internals.padLeft(r,2)},internals.escapeHtmlChar=function(n){var r,e=internals.namedHtml[n];return void 0!==e?e:n>=256?"&#"+n+";":(r=new Buffer(String.fromCharCode(n),"ascii").toString("hex"),"&#x"+internals.padLeft(r,2)+";")},internals.padLeft=function(n,r){for(;n.length<r;)n="0"+n;return n},internals.isSafe=function(n){return void 0!==internals.safeCharCodes[n]},internals.namedHtml={38:"&amp;",60:"&lt;",62:"&gt;",34:"&quot;",160:"&nbsp;",162:"&cent;",163:"&pound;",164:"&curren;",169:"&copy;",174:"&reg;"},internals.safeCharCodes=function(){var n,r={};for(n=32;123>n;++n)(n>=97&&122>=n||n>=65&&90>=n||n>=48&&57>=n||32===n||46===n||44===n||45===n||58===n||95===n)&&(r[n]=null);return r}();