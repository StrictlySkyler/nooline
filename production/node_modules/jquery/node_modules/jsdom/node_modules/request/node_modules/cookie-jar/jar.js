/*!
* Tobi - CookieJar
* Copyright(c) 2010 LearnBoost <dev@learnboost.com>
* MIT Licensed
*/

var url=null,CookieJar=exports=module.exports=function(){this.cookies=[]};CookieJar.prototype.add=function(e){this.cookies=this.cookies.filter(function(t){return!(t.name==e.name&&t.path==e.path)}),this.cookies.push(e)},CookieJar.prototype.get=function(e){var t=url.parse(e.url).pathname,o=new Date,n={};return this.cookies.filter(function(e){return 0==t.indexOf(e.path)&&o<e.expires&&e.path.length>(n[e.name]||0)?n[e.name]=e.path.length:void 0})},CookieJar.prototype.cookieString=function(e){var t=this.get(e);return t.length?t.map(function(e){return e.name+"="+e.value}).join("; "):void 0};