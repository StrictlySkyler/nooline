function expires(e){return new Date(Date.now()+e).toUTCString()}var Cookie=null,Jar=Cookie.Jar,assert=null;!function(){var e=new Jar,o=new Cookie("sid=1234; path=/; expires="+expires(1e3));e.add(o),setTimeout(function(){var t=e.get({url:"http://foo.com/foo"});assert.equal(t.length,1),assert.equal(t[0],o),setTimeout(function(){var o=e.get({url:"http://foo.com/foo"});assert.equal(o.length,0)},1e3)},5)}(),function(){var e,o,t,a=new Jar,s=new Cookie("sid=1234; path=/"),r=new Cookie("sid=1111; path=/foo/bar"),l=new Cookie("sid=2222; path=/");a.add(s),a.add(r),a.add(l),assert.equal(a.cookies.length,2),e=a.get({url:"http://foo.com/"}),assert.equal(e.length,1),assert.equal(e[0],l),e=a.get({url:"http://foo.com/foo/bar"}),assert.equal(e.length,1),assert.equal(e[0],r),a=new Jar,s=new Cookie("sid=1111; path=/foo/bar"),r=new Cookie("sid=1234; path=/"),a.add(s),a.add(r),e=a.get({url:"http://foo.com/foo/bar"}),assert.equal(e.length,1),assert.equal(e[0],s),e=a.get({url:"http://foo.com/"}),assert.equal(e.length,1),assert.equal(e[0],r),a=new Jar,s=new Cookie("sid=1111; path=/foo/bar"),r=new Cookie("sid=3333; path=/foo/bar"),l=new Cookie("pid=3333; path=/foo/bar"),o=new Cookie("sid=2222; path=/foo/"),t=new Cookie("sid=1234; path=/"),a.add(s),a.add(r),a.add(l),a.add(o),a.add(t),e=a.get({url:"http://foo.com/foo/bar"}),assert.equal(e.length,2),assert.equal(e[0],r),assert.equal(e[1],l),e=a.get({url:"http://foo.com/foo/"}),assert.equal(e.length,1),assert.equal(e[0],o),e=a.get({url:"http://foo.com/"}),assert.equal(e.length,1),assert.equal(e[0],t)}(),setTimeout(function(){console.log("All tests passed")},1200);