function sha1(e,r){return crypto.createHmac("sha1",e).update(r).digest("base64")}function rfc3986(e){return encodeURIComponent(e).replace(/!/g,"%21").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/'/g,"%27")}function hmacsign(e,r,c,n,a){var t=Object.keys(c).sort().map(function(e){return escape(rfc3986(e))+"%3D"+escape(rfc3986(c[e]))}).join("%26"),p=[e?e.toUpperCase():"GET",rfc3986(r),t].join("&"),o=[n,a||""].map(rfc3986).join("&");return sha1(o,p)}var crypto=null,qs=null;exports.hmacsign=hmacsign,exports.rfc3986=rfc3986;