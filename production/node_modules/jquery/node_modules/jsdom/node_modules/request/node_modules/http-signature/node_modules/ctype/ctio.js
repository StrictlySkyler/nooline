function ruint8(r,i,o){if(void 0===i)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o>=r.length)throw Error("Trying to read beyond buffer length");return r[o]}function rgint16(r,i,o){var n=0;return"big"==i?(n=r[o]<<8,n|=r[o+1]):(n=r[o],n|=r[o+1]<<8),n}function ruint16(r,i,o){if(void 0===i)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o+1>=r.length)throw Error("Trying to read beyond buffer length");return rgint16(r,i,o)}function rgint32(r,i,o){var n=0;return"big"==i?(n=r[o+1]<<16,n|=r[o+2]<<8,n|=r[o+3],n+=r[o]<<24>>>0):(n=r[o+2]<<16,n|=r[o+1]<<8,n|=r[o],n+=r[o+3]<<24>>>0),n}function ruint32(r,i,o){if(void 0===i)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o+3>=r.length)throw Error("Trying to read beyond buffer length");return rgint32(r,i,o)}function rgint64(r,i,o){var n=Array(2);return"big"==i?(n[0]=ruint32(r,i,o),n[1]=ruint32(r,i,o+4)):(n[0]=ruint32(r,i,o+4),n[1]=ruint32(r,i,o)),n}function ruint64(r,i,o){if(void 0===i)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o+7>=r.length)throw Error("Trying to read beyond buffer length");return rgint64(r,i,o)}function rsint8(r,i,o){var n;if(void 0===i)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o>=r.length)throw Error("Trying to read beyond buffer length");return n=128&r[o],n?-1*(255-r[o]+1):r[o]}function rsint16(r,i,o){var n,t;if(void 0===i)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o+1>=r.length)throw Error("Trying to read beyond buffer length");return t=rgint16(r,i,o),n=32768&t,n?-1*(65535-t+1):t}function rsint32(r,i,o){var n,t;if(void 0===i)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o+3>=r.length)throw Error("Trying to read beyond buffer length");return t=rgint32(r,i,o),n=2147483648&t,n?-1*(4294967295-t+1):t}function rsint64(r,i,o){var n,t;if(void 0===i)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o+3>=r.length)throw Error("Trying to read beyond buffer length");return t=rgint64(r,i,o),(n=2147483648&t[0])?(t[0]=-1*(4294967295-t[0]),t[1]=-1*(4294967295-t[1]+1),mod_assert.ok(t[1]<=4294967296),-4294967296==t[1]&&(t[1]=0,t[0]--),t):t}function rfloat(r,i,o){var n,t,e,f,s=[],u=127,a=255;if(void 0===i)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o+3>=r.length)throw Error("Trying to read beyond buffer length");return"big"==i?(s[0]=r[o],s[1]=r[o+1],s[2]=r[o+2],s[3]=r[o+3]):(s[3]=r[o],s[2]=r[o+1],s[1]=r[o+2],s[0]=r[o+3]),n=128&s[0],t=(127&s[0])<<1,t|=(128&s[1])>>>7,e=(127&s[1])<<16,e|=s[2]<<8,e|=s[3],n||t!=a||0!==e?n&&t==a&&0===e?Number.NEGATIVE_INFINITY:t==a&&0!==e?Number.NaN:0===t&&0===e?0:(t-=u,t==-u?(t++,f=0):f=1,f=(f+e*Math.pow(2,-23))*Math.pow(2,t),n&&(f*=-1),f):Number.POSITIVE_INFINITY}function rdouble(r,i,o){var n,t,e,f,s,u=[],a=1023,h=2047;if(void 0===i)throw Error("missing endian");if(void 0===r)throw Error("missing buffer");if(void 0===o)throw Error("missing offset");if(o+7>=r.length)throw Error("Trying to read beyond buffer length");return"big"==i?(u[0]=r[o],u[1]=r[o+1],u[2]=r[o+2],u[3]=r[o+3],u[4]=r[o+4],u[5]=r[o+5],u[6]=r[o+6],u[7]=r[o+7]):(u[7]=r[o],u[6]=r[o+1],u[5]=r[o+2],u[4]=r[o+3],u[3]=r[o+4],u[2]=r[o+5],u[1]=r[o+6],u[0]=r[o+7]),n=128&u[0],t=(127&u[0])<<4,t|=(240&u[1])>>>4,s=u[7],s|=u[6]<<8,s|=u[5]<<16,e=u[4],e|=u[3]<<8,e|=u[2]<<16,e|=(15&u[1])<<24,e*=Math.pow(2,24),e+=s,n||t!=h||0!==e?n&&t==h&&0===e?Number.NEGATIVE_INFINITY:t==h&&0!==e?Number.NaN:0===t&&0===e?0:(t-=a,t==-a?(t++,f=0):f=1,f=(f+e*Math.pow(2,-52))*Math.pow(2,t),n&&(f*=-1),f):Number.POSITIVE_INFINITY}function prepuint(r,i){if("number"!=typeof r)throw new(Error("cannot write a non-number as a number"));if(0>r)throw Error("specified a negative value for writing an unsigned value");if(r>i)throw Error("value is larger than maximum value for type");if(Math.floor(r)!==r)throw Error("value has a fractional component");return r}function wuint8(r,i,o,n){var t;if(void 0===r)throw Error("missing value");if(void 0===i)throw Error("missing endian");if(void 0===o)throw Error("missing buffer");if(void 0===n)throw Error("missing offset");if(n>=o.length)throw Error("Trying to read beyond buffer length");t=prepuint(r,255),o[n]=t}function wgint16(r,i,o,n){"big"==i?(o[n]=(65280&r)>>>8,o[n+1]=255&r):(o[n+1]=(65280&r)>>>8,o[n]=255&r)}function wuint16(r,i,o,n){var t;if(void 0===r)throw Error("missing value");if(void 0===i)throw Error("missing endian");if(void 0===o)throw Error("missing buffer");if(void 0===n)throw Error("missing offset");if(n+1>=o.length)throw Error("Trying to read beyond buffer length");t=prepuint(r,65535),wgint16(t,i,o,n)}function wgint32(r,i,o,n){"big"==i?(o[n]=(r-(16777215&r))/Math.pow(2,24),o[n+1]=255&r>>>16,o[n+2]=255&r>>>8,o[n+3]=255&r):(o[n+3]=(r-(16777215&r))/Math.pow(2,24),o[n+2]=255&r>>>16,o[n+1]=255&r>>>8,o[n]=255&r)}function wuint32(r,i,o,n){var t;if(void 0===r)throw Error("missing value");if(void 0===i)throw Error("missing endian");if(void 0===o)throw Error("missing buffer");if(void 0===n)throw Error("missing offset");if(n+3>=o.length)throw Error("Trying to read beyond buffer length");t=prepuint(r,4294967295),wgint32(t,i,o,n)}function wgint64(r,i,o,n){"big"==i?(wgint32(r[0],i,o,n),wgint32(r[1],i,o,n+4)):(wgint32(r[0],i,o,n+4),wgint32(r[1],i,o,n))}function wuint64(r,i,o,n){if(void 0===r)throw Error("missing value");if(!(r instanceof Array))throw Error("value must be an array");if(2!=r.length)throw Error("value must be an array of length 2");if(void 0===i)throw Error("missing endian");if(void 0===o)throw Error("missing buffer");if(void 0===n)throw Error("missing offset");if(n+7>=o.length)throw Error("Trying to read beyond buffer length");prepuint(r[0],4294967295),prepuint(r[1],4294967295),wgint64(r,i,o,n)}function prepsint(r,i,o){if("number"!=typeof r)throw new(Error("cannot write a non-number as a number"));if(r>i)throw Error("value larger than maximum allowed value");if(o>r)throw Error("value smaller than minimum allowed value");if(Math.floor(r)!==r)throw Error("value has a fractional component");return r}function wsint8(r,i,o,n){var t;if(void 0===r)throw Error("missing value");if(void 0===i)throw Error("missing endian");if(void 0===o)throw Error("missing buffer");if(void 0===n)throw Error("missing offset");if(n>=o.length)throw Error("Trying to read beyond buffer length");t=prepsint(r,127,-128),t>=0?wuint8(t,i,o,n):wuint8(255+t+1,i,o,n)}function wsint16(r,i,o,n){var t;if(void 0===r)throw Error("missing value");if(void 0===i)throw Error("missing endian");if(void 0===o)throw Error("missing buffer");if(void 0===n)throw Error("missing offset");if(n+1>=o.length)throw Error("Trying to read beyond buffer length");t=prepsint(r,32767,-32768),t>=0?wgint16(t,i,o,n):wgint16(65535+t+1,i,o,n)}function wsint32(r,i,o,n){var t;if(void 0===r)throw Error("missing value");if(void 0===i)throw Error("missing endian");if(void 0===o)throw Error("missing buffer");if(void 0===n)throw Error("missing offset");if(n+3>=o.length)throw Error("Trying to read beyond buffer length");t=prepsint(r,2147483647,-2147483648),t>=0?wgint32(t,i,o,n):wgint32(4294967295+t+1,i,o,n)}function wsint64(r,i,o,n){var t,e,f=Array(2);if(void 0===r)throw Error("missing value");if(!(r instanceof Array))throw Error("value must be an array");if(2!=r.length)throw Error("value must be an array of length 2");if(void 0===i)throw Error("missing endian");if(void 0===o)throw Error("missing buffer");if(void 0===n)throw Error("missing offset");if(n+7>=o.length)throw Error("Trying to read beyond buffer length");if(t=r[0]*Number.POSITIVE_INFINITY==Number.POSITIVE_INFINITY,e=r[1]*Number.POSITIVE_INFINITY==Number.POSITIVE_INFINITY,0!=r[0]&&0!=r[1]&&t!=e)throw Error("Both entries in the array must have the same sign");if(t)prepuint(r[0],2147483647),prepuint(r[1],4294967295);else if(prepsint(r[0],0,-2147483648),prepsint(r[1],0,-4294967295),-2147483648==r[0]&&0!=r[1])throw Error("value smaller than minimum allowed value");r[0]<0||r[1]<0?(f[0]=4294967295-Math.abs(r[0]),f[1]=4294967296-Math.abs(r[1]),4294967296==f[1]&&(f[1]=0,f[0]++)):(f[0]=r[0],f[1]=r[1]),wgint64(f,i,o,n)}function log2(r){return Math.log(r)/Math.log(2)}function intexp(r){return Math.floor(log2(r))}function fracexp(r){return Math.floor(log2(r))}function wfloat(r,i,o,n){var t,e,f,s,u=[];if(void 0===r)throw Error("missing value");if(void 0===i)throw Error("missing endian");if(void 0===o)throw Error("missing buffer");if(void 0===n)throw Error("missing offset");if(n+3>=o.length)throw Error("Trying to read beyond buffer length");isNaN(r)?(t=0,e=255,f=23):r==Number.POSITIVE_INFINITY?(t=0,e=255,f=0):r==Number.NEGATIVE_INFINITY?(t=1,e=255,f=0):(0>r?(t=1,r=Math.abs(r)):t=0,s=1>r?fracexp(r):intexp(r),-127>=s?(e=0,f=8388607&r*Math.pow(2,149)):(e=127+s,f=r*Math.pow(2,23-s),f&=8388607)),u[0]=t<<7|(254&e)>>>1,u[1]=(1&e)<<7|(8323072&f)>>>16,u[2]=(65280&f)>>>8,u[3]=255&f,"big"==i?(o[n]=u[0],o[n+1]=u[1],o[n+2]=u[2],o[n+3]=u[3]):(o[n]=u[3],o[n+1]=u[2],o[n+2]=u[1],o[n+3]=u[0])}function wdouble(r,i,o,n){var t,e,f,s,u=[];if(void 0===r)throw Error("missing value");if(void 0===i)throw Error("missing endian");if(void 0===o)throw Error("missing buffer");if(void 0===n)throw Error("missing offset");if(n+7>=o.length)throw Error("Trying to read beyond buffer length");isNaN(r)?(t=0,e=2047,f=23):r==Number.POSITIVE_INFINITY?(t=0,e=2047,f=0):r==Number.NEGATIVE_INFINITY?(t=1,e=2047,f=0):(0>r?(t=1,r=Math.abs(r)):t=0,s=1>r?fracexp(r):intexp(r),2.225073858507201e-308>=r||-1023>=s?(e=0,f=r*Math.pow(2,1023)*Math.pow(2,51),f%=Math.pow(2,52)):(s>1023&&(s=1023),e=1023+s,f=r*Math.pow(2,-s),f*=Math.pow(2,52),f%=Math.pow(2,52))),u[7]=255&f,u[6]=255&f>>>8,u[5]=255&f>>>16,f=(f-(16777215&f))/Math.pow(2,24),u[4]=255&f,u[3]=255&f>>>8,u[2]=255&f>>>16,u[1]=(15&e)<<4|f>>>24,u[0]=t<<7|(2032&e)>>>4,"big"==i?(o[n]=u[0],o[n+1]=u[1],o[n+2]=u[2],o[n+3]=u[3],o[n+4]=u[4],o[n+5]=u[5],o[n+6]=u[6],o[n+7]=u[7]):(o[n+7]=u[0],o[n+6]=u[1],o[n+5]=u[2],o[n+4]=u[3],o[n+3]=u[4],o[n+2]=u[5],o[n+1]=u[6],o[n]=u[7])}var mod_assert=null;exports.ruint8=ruint8,exports.ruint16=ruint16,exports.ruint32=ruint32,exports.ruint64=ruint64,exports.wuint8=wuint8,exports.wuint16=wuint16,exports.wuint32=wuint32,exports.wuint64=wuint64,exports.rsint8=rsint8,exports.rsint16=rsint16,exports.rsint32=rsint32,exports.rsint64=rsint64,exports.wsint8=wsint8,exports.wsint16=wsint16,exports.wsint32=wsint32,exports.wsint64=wsint64,exports.rfloat=rfloat,exports.rdouble=rdouble,exports.wfloat=wfloat,exports.wdouble=wdouble;