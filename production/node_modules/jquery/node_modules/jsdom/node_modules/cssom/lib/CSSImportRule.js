var CSSOM={CSSRule:require("./CSSRule").CSSRule,CSSStyleSheet:require("./CSSStyleSheet").CSSStyleSheet,MediaList:require("./MediaList").MediaList};CSSOM.CSSImportRule=function(){CSSOM.CSSRule.call(this),this.href="",this.media=new CSSOM.MediaList,this.styleSheet=new CSSOM.CSSStyleSheet},CSSOM.CSSImportRule.prototype=new CSSOM.CSSRule,CSSOM.CSSImportRule.prototype.constructor=CSSOM.CSSImportRule,CSSOM.CSSImportRule.prototype.type=3,CSSOM.CSSImportRule.prototype.__defineGetter__("cssText",function(){var e=this.media.mediaText;return"@import url("+this.href+")"+(e?" "+e:"")+";"}),CSSOM.CSSImportRule.prototype.__defineSetter__("cssText",function(e){for(var t,S,r,i=0,o="",a="";S=e.charAt(i);i++)switch(S){case" ":case"	":case"\r":case"\n":case"\f":"after-import"===o?o="url":a+=S;break;case"@":o||e.indexOf("@import",i)!==i||(o="after-import",i+="import".length,a="");break;case"u":if("url"===o&&e.indexOf("url(",i)===i){if(t=e.indexOf(")",i+1),-1===t)throw i+': ")" not found';i+="url(".length,r=e.slice(i,t),r[0]===r[r.length-1]&&('"'===r[0]||"'"===r[0])&&(r=r.slice(1,-1)),this.href=r,i=t,o="media"}break;case'"':if("url"===o){if(t=e.indexOf('"',i+1),!t)throw i+": '\"' not found";this.href=e.slice(i+1,t),i=t,o="media"}break;case"'":if("url"===o){if(t=e.indexOf("'",i+1),!t)throw i+': "\'" not found';this.href=e.slice(i+1,t),i=t,o="media"}break;case";":"media"===o&&a&&(this.media.mediaText=a.trim());break;default:"media"===o&&(a+=S)}}),exports.CSSImportRule=CSSOM.CSSImportRule;