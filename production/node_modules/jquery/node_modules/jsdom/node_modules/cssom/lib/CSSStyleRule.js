var CSSOM={CSSStyleDeclaration:require("./CSSStyleDeclaration").CSSStyleDeclaration,CSSRule:require("./CSSRule").CSSRule};CSSOM.CSSStyleRule=function(){CSSOM.CSSRule.call(this),this.selectorText="",this.style=new CSSOM.CSSStyleDeclaration,this.style.parentRule=this},CSSOM.CSSStyleRule.prototype=new CSSOM.CSSRule,CSSOM.CSSStyleRule.prototype.constructor=CSSOM.CSSStyleRule,CSSOM.CSSStyleRule.prototype.type=1,CSSOM.CSSStyleRule.prototype.__defineGetter__("cssText",function(){var e;return e=this.selectorText?this.selectorText+" {"+this.style.cssText+"}":""}),CSSOM.CSSStyleRule.prototype.__defineSetter__("cssText",function(e){var t=CSSOM.CSSStyleRule.parse(e);this.style=t.style,this.selectorText=t.selectorText}),CSSOM.CSSStyleRule.parse=function(e){for(var t,S,r,s=0,l="selector",a=s,i="",c={selector:!0,value:!0},o=new CSSOM.CSSStyleRule,n="";r=e.charAt(s);s++)switch(r){case" ":case"	":case"\r":case"\n":case"\f":if(c[l])switch(e.charAt(s-1)){case" ":case"	":case"\r":case"\n":case"\f":break;default:i+=" "}break;case'"':if(a=s+1,t=e.indexOf('"',a)+1,!t)throw'" is missing';i+=e.slice(s,t),s=t-1;break;case"'":if(a=s+1,t=e.indexOf("'",a)+1,!t)throw"' is missing";i+=e.slice(s,t),s=t-1;break;case"/":if("*"===e.charAt(s+1)){if(s+=2,t=e.indexOf("*/",s),-1===t)throw new SyntaxError("Missing */");s=t+1}else i+=r;break;case"{":"selector"===l&&(o.selectorText=i.trim(),i="",l="name");break;case":":"name"===l?(S=i.trim(),i="",l="value"):i+=r;break;case"!":"value"===l&&e.indexOf("!important",s)===s?(n="important",s+="important".length):i+=r;break;case";":"value"===l?(o.style.setProperty(S,i.trim(),n),n="",i="",l="name"):i+=r;break;case"}":if("value"===l)o.style.setProperty(S,i.trim(),n),n="",i="";else{if("name"===l)break;i+=r}l="selector";break;default:i+=r}return o},exports.CSSStyleRule=CSSOM.CSSStyleRule;