//     uuid.js
//
//     Copyright (c) 2010-2012 Robert Kieffer
//     MIT License - http://opensource.org/licenses/mit-license.php

(function(){function n(n,e,r){var t=e&&r||0,u=0;for(e=e||[],n.toLowerCase().replace(/[0-9a-f]{2}/g,function(n){16>u&&(e[t+u++]=s[n])});16>u;)e[t+u++]=0;return e}function e(n,e){var r=e||0,t=a;return t[n[r++]]+t[n[r++]]+t[n[r++]]+t[n[r++]]+"-"+t[n[r++]]+t[n[r++]]+"-"+t[n[r++]]+t[n[r++]]+"-"+t[n[r++]]+t[n[r++]]+"-"+t[n[r++]]+t[n[r++]]+t[n[r++]]+t[n[r++]]+t[n[r++]]+t[n[r++]]}function r(n,r,t){var u,o,f,c,i,a,s,l,d=r&&t||0,g=r||[];if(n=n||{},u=null!=n.clockseq?n.clockseq:m,o=null!=n.msecs?n.msecs:(new Date).getTime(),f=null!=n.nsecs?n.nsecs:v+1,c=o-p+(f-v)/1e4,0>c&&null==n.clockseq&&(u=16383&u+1),(0>c||o>p)&&null==n.nsecs&&(f=0),f>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");for(p=o,v=f,m=u,o+=122192928e5,i=(1e4*(268435455&o)+f)%4294967296,g[d++]=255&i>>>24,g[d++]=255&i>>>16,g[d++]=255&i>>>8,g[d++]=255&i,a=268435455&1e4*(o/4294967296),g[d++]=255&a>>>8,g[d++]=255&a,g[d++]=16|15&a>>>24,g[d++]=255&a>>>16,g[d++]=128|u>>>8,g[d++]=255&u,s=n.node||y,l=0;6>l;l++)g[d+l]=s[l];return r?r:e(g)}function t(n,r,t){var o,f,c=r&&t||0;if("string"==typeof n&&(r="binary"==n?new i(16):null,n=null),n=n||{},o=n.random||(n.rng||u)(),o[6]=64|15&o[6],o[8]=128|63&o[8],r)for(f=0;16>f;f++)r[c+f]=o[f];return r||e(o)}var u,o,f,c,i,a,s,l,d,y,m,p,v,g,h,w=this;if("function"==typeof require)try{o=null.randomBytes,u=o&&function(){return o(16)}}catch(q){}for(!u&&w.crypto&&crypto.getRandomValues&&(f=new Uint8Array(16),u=function(){return crypto.getRandomValues(f),f}),u||(c=Array(16),u=function(){for(var n,e=0;16>e;e++)0===(3&e)&&(n=4294967296*Math.random()),c[e]=255&n>>>((3&e)<<3);return c}),i="function"==typeof Buffer?Buffer:Array,a=[],s={},l=0;256>l;l++)a[l]=(l+256).toString(16).substr(1),s[a[l]]=l;d=u(),y=[1|d[0],d[1],d[2],d[3],d[4],d[5]],m=16383&(d[6]<<8|d[7]),p=0,v=0,g=t,g.v1=r,g.v4=t,g.parse=n,g.unparse=e,g.BufferClass=i,"function"==typeof define&&define.amd?define([],function(){return g}):"undefined"!=typeof module&&module.exports?module.exports=g:(h=w.uuid,g.noConflict=function(){return w.uuid=h,g},w.uuid=g)}).call(this);