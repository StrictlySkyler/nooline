function sort(t,n){var r=t.name,e=n.name,i=t.isPrivate,a=n.isPrivate;return i&&!a?1:a&&!i?-1:r>e?1:-1}function markdown(t){return t?marked(t,{gfm:!0,highlight:highlight}):t}function highlight(t,n){return hljs.LANGUAGES.hasOwnProperty(n)||(n="javascript"),hljs.highlight(n,t).value}var fs=null,dox=null,jade=null,marked=null,hljs=null,assert=null;fs.readFile(__dirname+"/../lib/ref.js","utf8",function(t,n){var r,e,i,a,o,s,u;if(t)throw t;r=dox.parseComments(n,{raw:!0}),e=0,i=[],r.forEach(function(t,n){t.tags.forEach(function(a){"section"===a.type&&(i.push(r.slice(e,n)),e=n),"name"===a.type&&(t.name=a.string),"type"===a.type&&(t.type=a.types[0])}),t.name||(t.name=t.ctx&&t.ctx.name),t.type||(t.type=t.ctx&&t.ctx.type||"property")}),i.push(r.slice(e)),assert.equal(i.length,3),a=i[0],o=i[1],s=i[2],u=o.pop(),assert.equal(u.name,"NULL_POINTER"),a.push(u),a.forEach(function(t){t.tags.forEach(function(t){t.description&&(t.description=markdown(t.description).trim(),t.description=t.description.substring(3,t.description.length-4))}),t.returnType=t.tags.filter(function(t){return"return"==t.type})[0],t.paramTypes=t.tags.filter(function(t){return"param"==t.type})}),a=a.sort(sort),s=s.sort(sort),[a,o,s].forEach(function(t){t.forEach(function(t){var n=t.description;n.full=markdown(n.full),n.summary=markdown(n.summary),n.body=markdown(n.body)})}),s.forEach(function(t){t.ref=a.filter(function(n){return n.name===t.name})[0]}),fs.readFile(__dirname+"/index.jade","utf8",function(t,n){if(t)throw t;n=jade.compile(n);var r=n({exports:i[0],types:i[1],extensions:i[2],"package":null,markdown:markdown,highlight:highlight});fs.writeFile(__dirname+"/index.html",r,function(t){if(t)throw t})})});