var EventVat=null,origTimeout=setTimeout;this.methodSuite={setUp:function(e){setTimeout=function(e){return origTimeout(e,0)},"function"==typeof e?e():e.done()},tearDown:function(e){setTimeout=origTimeout,"function"==typeof e?e():e.done()},"Invoke `get` method and return value":function(e){var t=EventVat();e.equal(t.get("a"),null),t.die(),e.done()},"Invoke `set` method and check value at key":function(e){var t=EventVat();t.set("a",123),e.equal(t.get("a"),123),t.die(),e.done()},"Invoke `setnx` method against a key that exists":function(e){var t=EventVat();t.set("a",123),e.equal(t.setnx("a","hi"),!1),e.equal(t.get("a"),123),t.die(),e.done()},"Invoke `setnx` method against a key does not exist":function(e){var t=EventVat();e.equal(t.setnx("a","hi"),!0),e.equal(t.get("a"),"hi"),t.die(),e.done()},"Invoke `getset` method and report returned value and stored value":function(e){var t=EventVat();e.equal(t.get("foo"),null),t.set("foo",1),e.equal(t.get("foo"),1),e.equal(t.getset("foo",2),1),e.equal(t.get("foo"),2),t.die(),e.done()},"Invoke `rename` method and get the value of the new key":function(e){var t=EventVat();t.set("a","hello"),t.rename("a","b"),e.equal(t.get("a"),null),e.equal(t.get("b"),"hello"),t.die(),e.done()},"Invoke `decr` method and report new value before and after":function(e){var t=EventVat();t.set("a",5),e.equal(t.get("a"),5),e.equal(t.decr("a"),4),e.equal(t.get("a"),4),e.equal(t.get("b"),null),e.equal(t.decr("b"),-1),e.equal(t.get("b"),-1),t.die(),e.done()},"Invoke `incr` method and report new value before and after":function(e){var t=EventVat();t.set("a",5),e.equal(t.get("a"),5),t.incr("a"),e.equal(t.get("a"),6),e.equal(t.get("b"),null),e.equal(t.incr("b"),1),e.equal(t.get("b"),1),t.die(),e.done()},"Invoke `decrby` method and report new value before and after":function(e){var t=EventVat();t.set("a",5),e.equal(t.get("a"),5),e.equal(t.decrby("a",3),2),e.equal(t.get("a"),2),e.equal(t.get("b"),null),e.equal(t.decrby("b",2),-2),e.equal(t.get("b"),-2),t.die(),e.done()},"Invoke `incrby` method and report new value before and after":function(e){var t=EventVat();t.set("a",5),e.equal(t.get("a"),5),e.equal(t.incrby("a",4),9),e.equal(t.get("a"),9),e.equal(t.get("b"),null),e.equal(t.incrby("b",42),42),e.equal(t.get("b"),42),t.die(),e.done()},"Invoke `swap` method and report value of both keys before and after":function(e){var t=EventVat();t.set("a",5),t.set("b","hi"),e.equal(t.get("a"),5),e.equal(t.get("b"),"hi"),t.swap("a","b"),e.equal(t.get("b"),5),e.equal(t.get("a"),"hi"),t.die(),e.done()},"Invoke `findin` method and report value":function(e){var t=EventVat();t.set("foo","hello"),e.equal(t.findin("foo","ll"),2),t.die(),e.done()},"Invoke `del` method and report value before and after":function(e){var t=EventVat();t.set("foo","bar"),t.set("key2","thing"),e.equal(t.get("foo"),"bar"),e.equal(t.get("key2"),"thing"),e.equal(t.del("foo","key2","key3"),2),e.equal(t.get("foo"),null),e.equal(t.get("key2"),null),t.die(),e.done()},"Invoke `exists` method against a key that does not exist":function(e){var t=EventVat();e.equal(t.exists("foo"),!1),t.die(),e.done()},"Invoke `exists` method against a key that does exist":function(e){var t=EventVat();t.set("foo","bar"),e.equal(t.exists("foo"),!0),t.die(),e.done()},"Invoke `persist` method against a key and get the ttl":function(e){var t=EventVat();t.set("foo","bar",60),e.equal(t.ttl("foo"),60),t.persist("foo"),e.equal(t.ttl("foo"),-1),t.die(),e.done()},"Invoke `randomkey` method and report the value returned":function(e){var t,o=EventVat();o.set("foo","bar"),o.set("a",1),o.set("b",2),o.set("c",3),t=o.randomkey(),e.ok("foo"===t||"a"===t||"b"===t||"c"===t),o.die(),e.done()},"Invoke `type` method on a key containing a String value and report the value returned":function(e){var t=EventVat();t.set("foo","bar"),e.equal(t.type("foo"),"string"),t.die(),e.done()},"Invoke `type` method on a key containing a Number value and report the value returned":function(e){var t=EventVat();t.set("foo",4),e.equal(t.type("foo"),"number"),t.die(),e.done()},"Invoke `type` method on a key containing a Boolean value and report the value returned":function(e){var t=EventVat();t.set("foo",!0),e.equal(t.type("foo"),"boolean"),t.die(),e.done()},"Invoke `type` method on a key containing a List value and report the value returned":function(e){var t=EventVat();t.set("foo",[1,2,3]),e.equal(t.type("foo"),"list"),t.die(),e.done()},"Invoke `type` method on a key containing a Hash value and report the value returned":function(e){var t=EventVat();t.set("foo",{hello:"world"}),e.equal(t.type("foo"),"hash"),t.die(),e.done()},"Invoke `append` method and report value before and after":function(e){var t=EventVat();t.set("foo","hello"),e.equal(t.get("foo"),"hello"),e.equal(t.append("foo"," world!"),12),e.equal(t.get("foo"),"hello world!"),t.die(),e.done()},"Invoke `expire` method and report value after key expires":function(e){var t=EventVat();t.set("foo","bar"),t.expire("foo",1),e.equal(t.get("foo"),"bar"),e.equal(t.ttl("foo"),1),t.on("del foo",function(){e.equal(t.get("foo"),null),e.equal(t.ttl("foo"),-1),t.die(),e.done()})},"Invoke `expireat` method and report value after key expires":function(e){var t=EventVat();t.set("foo","bar"),t.expireat("foo",Math.round(new Date/1e3)+1),e.equal(t.get("foo"),"bar"),e.equal(t.ttl("foo"),1),t.on("del foo",function(){e.equal(t.get("foo"),null),e.equal(t.ttl("foo"),-1),t.die(),e.done()})},"Invoke `keys` method and report keys returned":function(e){var t=EventVat();t.set("foo1",1),t.set("foo2",2),t.set("foobar",3),t.set("ufoo",4),e.deepEqual(t.keys(/^foo/),["foo1","foo2","foobar"]),t.die(),e.done()},"Invoke `move` method and report keys in both databases before and after":function(e){var t=EventVat(),o=EventVat();t.set("foo",42),e.equal(t.get("foo"),42),e.equal(o.get("foo"),null),t.move("foo",o),e.equal(t.get("foo"),null),e.equal(o.get("foo"),42),t.die(),e.done()},"Invoke `randomkey` method and report key returned":function(e){var t,o=EventVat();o.set("a",1),o.set("b",2),o.set("c",3),t=o.randomkey(),e.ok("a"===t||"b"===t||"c"===t),o.die(),e.done()},"Invoke `getrange` method and return value":function(e){var t=EventVat();t.set("foo","hello world!"),e.equal(t.getrange("foo",6,11),"world"),t.die(),e.done()},"Invoke `mget` method and return value":function(e){var t=EventVat();t.set("foo","hello world!"),t.set("bar",42),e.deepEqual(t.mget("foo","bar"),["hello world!",42]),t.die(),e.done()},"Invoke `mset` method and report values":function(e){var t=EventVat();e.equal(t.get("a"),null),e.equal(t.get("b"),null),e.equal(t.get("c"),null),t.mset("a",1,"b",2,"c",3),e.equal(t.get("a"),1),e.equal(t.get("b"),2),e.equal(t.get("c"),3),t.die(),e.done()},"Invoke `msetnx` method":function(e){var t=EventVat();e.equal(t.get("a"),null),e.equal(t.get("b"),null),e.equal(t.get("c"),null),t.set("foo","bar"),e.equal(t.msetnx("a",1,"b",2,"c",3),!0),e.equal(t.get("a"),1),e.equal(t.get("b"),2),e.equal(t.get("c"),3),t.die(),e.done()},"Invoke `msetnx` method with a key that already exists":function(e){var t=EventVat();e.equal(t.get("a"),null),e.equal(t.get("b"),null),e.equal(t.get("c"),null),t.set("b","bar"),e.equal(t.msetnx("a",1,"b",2,"c",3),!1),e.equal(t.get("a"),null),e.equal(t.get("b"),"bar"),e.equal(t.get("c"),null),t.die(),e.done()},"Invoke `strlen` method":function(e){var t=EventVat();t.set("foo","hello world!"),e.equal(t.strlen("foo"),12),t.die(),e.done()},"Invoke `setrange` method and return value":function(e){var t=EventVat();t.set("foo","hello world!"),e.equal(t.setrange("foo",6,"redis"),12),t.die(),e.done()},"Invoke `hset` method and report `hget` value before and after":function(e){var t=EventVat();e.equal(t.hget("foo","a"),null),t.hset("foo","a","hello"),e.equal(t.hget("foo","a"),"hello"),e.equal(t.hget("foo","b"),null),t.hset("foo","b",42),e.equal(t.hget("foo","b"),42),t.die(),e.done()},"Invoke `hexists` method and return value":function(e){var t=EventVat();e.equal(t.hexists("foo","a"),!1),t.hset("foo","a","hello"),e.equal(t.hexists("foo","a"),!0),e.equal(t.hexists("foo","b"),!1),t.die(),e.done()},"Invoke `hdel` method and report values before and after":function(e){var t=EventVat();e.equal(t.hget("foo","a"),null),e.equal(t.hget("foo","b"),null),e.equal(t.hget("foo","c"),null),t.hset("foo","a",1),t.hset("foo","b",2),t.hset("foo","c",3),e.equal(t.hget("foo","a"),1),e.equal(t.hget("foo","b"),2),e.equal(t.hget("foo","c"),3),t.hdel("foo","a","b"),e.equal(t.hget("foo","a"),null),e.equal(t.hget("foo","b"),null),e.equal(t.hget("foo","c"),3),t.die(),e.done()},"Invoke `hgetall` method and return value":function(e){var t=EventVat();t.hset("bob","foo","bar"),t.hset("bob","hello","world"),t.hset("bob","answer",42),e.deepEqual(t.hgetall("bob"),{foo:"bar",hello:"world",answer:42}),t.die(),e.done()},"Invoke `hdecr` method and repoprt values before and after":function(e){var t=EventVat();e.equal(t.hget("foo","a"),null),e.equal(t.hdecr("foo","a"),-1),e.equal(t.hget("foo","a"),-1),t.die(),e.done()},"Invoke `hdecrby` method and repoprt values before and after":function(e){var t=EventVat();t.hset("bar","a",5),e.equal(t.hget("bar","a"),5),e.equal(t.hdecrby("bar","a",3),2),e.equal(t.hget("bar","a"),2),t.die(),e.done()},"Invoke `hincr` method and repoprt values before and after":function(e){var t=EventVat();e.equal(t.hget("foo","a"),null),e.equal(t.hincr("foo","a"),1),e.equal(t.hget("foo","a"),1),t.die(),e.done()},"Invoke `hincrby` method and repoprt values before and after":function(e){var t=EventVat();t.hset("bar","a",5),e.equal(t.hget("bar","a"),5),e.equal(t.hincrby("bar","a",3),8),e.equal(t.hget("bar","a"),8),t.die(),e.done()},"Invoke `hkeys` method and return value":function(e){var t=EventVat();t.hset("foo","a",1),t.hset("foo","b",2),t.hset("foo","c",3),e.deepEqual(t.hkeys("foo"),["a","b","c"]),t.die(),e.done()},"Invoke `hlen` method and return value":function(e){var t=EventVat();t.hset("foo","a",1),t.hset("foo","b",2),t.hset("foo","c",3),e.deepEqual(t.hlen("foo"),3),t.die(),e.done()},"Invoke `hvals` method and return value":function(e){var t=EventVat();t.hset("foo","a",1),t.hset("foo","b",2),t.hset("foo","c",3),e.deepEqual(t.hvals("foo"),[1,2,3]),t.die(),e.done()},"Invoke `hsetnx` method and report value before and after":function(e){var t=EventVat();t.hget("foo","a",null),t.hsetnx("foo","a",42),t.hget("foo","a",42),t.hsetnx("foo","a","hi"),t.hget("foo","a",42),t.die(),e.done()},"Invoke `hmget` method and return value":function(e){var t=EventVat();t.hset("foo","a",1),t.hset("foo","b",2),t.hset("foo","c",3),e.deepEqual(t.hmget("foo","a","b","d"),[1,2,null]),t.die(),e.done()},"Invoke `hmset` method and report values before and after":function(e){var t=EventVat();e.equal(t.hget("foo","a"),null),e.equal(t.hget("foo","b"),null),e.equal(t.hget("foo","c"),null),e.ok(t.hmset("foo","a",1,"b",2,"c",3)),e.equal(t.hget("foo","a"),1),e.equal(t.hget("foo","b"),2),e.equal(t.hget("foo","c"),3),t.die(),e.done()},"Invoke `lpush` method and report return value and stored values":function(e){var t=EventVat();e.equal(t.lpush("mylist","one"),1),e.equal(t.lpush("mylist","two"),2),e.equal(t.lindex("mylist",0),"two"),e.equal(t.lindex("mylist",1),"one"),t.die(),e.done()},"Invoke `rpush` method and report return value and stored values":function(e){var t=EventVat();e.equal(t.rpush("mylist","one"),1),e.equal(t.rpush("mylist","two"),2),e.equal(t.lindex("mylist",0),"one"),e.equal(t.lindex("mylist",1),"two"),t.die(),e.done()},"Invoke `lset` and `lindex` methods and report return value and stored values":function(e){var t=EventVat();e.equal(t.rpush("mylist","one"),1),e.equal(t.rpush("mylist","two"),2),e.equal(t.rpush("mylist","three"),3),e.equal(t.lindex("mylist",0),"one"),e.equal(t.lindex("mylist",1),"two"),e.equal(t.lindex("mylist",2),"three"),e.ok(t.lset("mylist",0,"four")),e.ok(t.lset("mylist",-2,"five")),e.ok(!t.lset("mylist",4,"six")),e.ok(!t.lset("mylist",-4,"seven")),e.equal(t.lindex("mylist",0),"four"),e.equal(t.lindex("mylist",1),"five"),e.equal(t.lindex("mylist",2),"three"),t.die(),e.done()},"Invoke `llen` method and return value":function(e){var t=EventVat();t.rpush("mylist","one"),t.rpush("mylist","two"),t.rpush("mylist","three"),e.equal(t.llen("mylist"),3),t.die(),e.done()},"Invoke `lpushx` method and report return value and stored value":function(e){var t=EventVat();t.lpush("mylist","one"),e.equal(t.lpushx("mylist","two"),2),e.equal(t.lindex("mylist",0),"two"),e.equal(t.lpushx("myotherlist","three"),0),e.equal(t.llen("myotherlist"),!1),t.die(),e.done()},"Invoke `rpushx` method and report return value and stored value":function(e){var t=EventVat();t.rpush("mylist","one"),e.equal(t.rpushx("mylist","two"),2),e.equal(t.lindex("mylist",1),"two"),e.equal(t.rpushx("myotherlist","three"),0),e.equal(t.llen("myotherlist"),!1),t.die(),e.done()},"Invoke `lpop` method and report return value and stored values":function(e){var t=EventVat();t.rpush("mylist","one"),t.rpush("mylist","two"),e.equal(t.lindex("mylist",0),"one"),e.equal(t.lindex("mylist",1),"two"),e.equal(t.lpop("mylist"),"one"),e.equal(t.lindex("mylist",0),"two"),e.equal(t.lindex("mylist",1),null),t.die(),e.done()},"Invoke `rpop` method and report return value and stored values":function(e){var t=EventVat();t.rpush("mylist","one"),t.rpush("mylist","two"),e.equal(t.lindex("mylist",0),"one"),e.equal(t.lindex("mylist",1),"two"),e.equal(t.rpop("mylist"),"two"),e.equal(t.lindex("mylist",0),"one"),e.equal(t.lindex("mylist",1),null),t.die(),e.done()},"Invoke `rpoplpush` method and report return value and stored values":function(e){var t=EventVat();t.rpush("mylist","one"),t.rpush("mylist","two"),t.rpush("mylist2","three"),e.equal(t.lindex("mylist",0),"one"),e.equal(t.lindex("mylist",1),"two"),e.equal(t.lindex("mylist2",0),"three"),e.equal(t.lindex("mylist2",1),null),e.equal(t.rpoplpush("mylist","mylist2"),"two"),e.equal(t.lindex("mylist",0),"one"),e.equal(t.lindex("mylist",1),null),e.equal(t.lindex("mylist2",0),"two"),e.equal(t.lindex("mylist2",1),"three"),t.die(),e.done()},"Invoke `lrem` method with positive count and report return and stored values":function(e){var t=EventVat();t.rpush("list","one"),t.rpush("list","one"),t.rpush("list","two"),t.rpush("list","two"),t.rpush("list","three"),t.rpush("list","one"),t.rpush("list","one"),t.rpush("list","one"),e.equal(t.llen("list"),8),e.equal(t.lrem("list",3,"one"),3),e.equal(t.llen("list"),5),e.equal(t.lrem("list",2,"three"),1),e.equal(t.llen("list"),4),t.die(),e.done()},"Invoke `lrem` method with negative count and report return and stored values":function(e){var t=EventVat();t.rpush("list","one"),t.rpush("list","one"),t.rpush("list","two"),t.rpush("list","two"),t.rpush("list","three"),t.rpush("list","one"),t.rpush("list","one"),t.rpush("list","one"),e.equal(t.llen("list"),8),e.equal(t.lrem("list",-3,"one"),3),e.equal(t.llen("list"),5),e.equal(t.lrem("list",-2,"three"),1),e.equal(t.llen("list"),4),t.die(),e.done()},"Invoke `lrem` method with 0 count and report return and stored values":function(e){var t=EventVat();t.rpush("list","one"),t.rpush("list","one"),t.rpush("list","two"),t.rpush("list","two"),t.rpush("list","three"),t.rpush("list","one"),t.rpush("list","one"),t.rpush("list","one"),e.equal(t.llen("list"),8),e.equal(t.lrem("list",0,"one"),5),e.equal(t.llen("list"),3),e.equal(t.lrem("list",0,"three"),1),e.equal(t.llen("list"),2),t.die(),e.done()},"Invoke `lrange` method and return value":function(e){var t=EventVat();t.rpush("list","one"),t.rpush("list","two"),t.rpush("list","three"),t.rpush("list","four"),e.deepEqual(t.lrange("list",2,4),["three","four"]),e.deepEqual(t.lrange("list2",0,3),[]),t.die(),e.done()},"Invoke `ltrim` method and report new length and values stored":function(e){var t=EventVat();t.rpush("list","one"),t.rpush("list","two"),t.rpush("list","three"),t.rpush("list","four"),e.equal(t.llen("list"),4),t.ltrim("list",0,3),e.equal(t.llen("list"),3),e.deepEqual(t.lrange("list",0,100),["one","two","three"]),t.die(),e.done()},"Autoexpire should expire all keys after a specified length of time":function(e){var t=EventVat({autoexpire:1});t.set("foo","hello"),t.hset("bar","a","hello"),t.rpush("bazz","a"),t.rpush("bazz","b"),t.on("del",function(){0===Object.keys(t.hash).length&&e.done()})},"Reconstitute a vat from a JSON object":function(e){var t,o=EventVat();o.set("foo","a",1),o.hset("bar","a",1),o.rpush("bazz","a"),o.rpush("bazz","b"),t=EventVat({data:o.dump()}),e.equal(t.get("foo"),"a"),e.equal(t.llen("bazz"),2),e.equal(t.hget("bar","a"),1),e.done()}};