var HubStore=null,should=null;module.exports={"test publishing doesnt get caught by the own store subscriber":function(t){var u=new HubStore(1);u.subscribe("woot",function(l){l.should.equal("bb"),u.destroy(),b.destroy(),t()},function(){u.publish("woot","aa")}),t()},"test storing data for a client":function(t){var u=new HubStore,l="test-"+Date.now(),n=u.client(l);n.id.should.equal(l),n.set("a","b",function(l){should.strictEqual(l,null),n.get("a",function(l,s){should.strictEqual(l,null),s.should.equal("b"),n.has("a",function(l,s){should.strictEqual(l,null),s.should.be.true,n.has("b",function(l,s){should.strictEqual(l,null),s.should.be.false,n.del("a",function(l){should.strictEqual(l,null),n.has("a",function(l,s){should.strictEqual(l,null),s.should.be.false,n.set("b","c",function(l){should.strictEqual(l,null),n.set("c","d",function(l){should.strictEqual(l,null),n.get("b",function(l,s){should.strictEqual(l,null),s.should.equal("c"),n.get("c",function(l,n){should.strictEqual(l,null),n.should.equal("d"),u.destroy(),t()})})})})})})})})})})},"test cleaning up clients data":function(t){var u=Math.abs(0|Math.random()*Date.now()),l=Math.abs(0|Math.random()*Date.now()),n=new HubStore,s=n.client(u),o=n.client(l);s.set("a","b",function(e){should.strictEqual(e,null),o.set("c","d",function(e){should.strictEqual(e,null),s.has("a",function(s,e){should.strictEqual(s,null),e.should.be.true,o.has("c",function(s,o){should.strictEqual(s,null),o.should.be.true,n.destroy();var e=new HubStore,a=e.client(u),i=e.client(l);a.has("a",function(u,l){should.strictEqual(u,null),l.should.be.false,i.has("c",function(u,l){should.strictEqual(u,null),l.should.be.false,e.destroy(),t()})})})})})})},"test cleaning up a particular client":function(t){var u=Math.abs(0|Math.random()*Date.now()),l=Math.abs(0|Math.random()*Date.now()),n=new HubStore,s=n.client(u),o=n.client(l);s.set("a","b",function(e){should.strictEqual(e,null),o.set("c","d",function(e){should.strictEqual(e,null),s.has("a",function(e,a){should.strictEqual(e,null),a.should.be.true,o.has("c",function(o,e){should.strictEqual(o,null),e.should.be.true,n.clients.should.have.property(u),n.clients.should.have.property(l),n.destroyClient(u),n.clients.should.not.have.property(u),n.clients.should.have.property(l),s.has("a",function(u,l){should.strictEqual(u,null),l.should.equal(!1),n.destroy(),t()})})})})})},"test destroy expiration":function(t){var u=new HubStore,l=Math.abs(0|Math.random()*Date.now()),n=u.client(l);n.set("a","b",function(s){should.strictEqual(s,null),u.destroyClient(l,1),setTimeout(function(){n.get("a",function(t,u){should.strictEqual(t,null),u.should.equal("b")})},500),setTimeout(function(){n.get("a",function(l,n){should.strictEqual(l,null),should.strictEqual(n,null),u.destroy(),t()})},1500)})}};